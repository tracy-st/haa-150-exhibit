{"version":3,"file":"vault-pEbK3Lfv.js","names":[],"sources":["../src/vault/global-vault.ts"],"sourcesContent":["import * as vaultModule from './vault';\nimport { getGlobal } from './utility/get-global';\n\ndeclare global {\n  const IIIF_VAULT: import('./vault').Vault;\n  const IIIFVault: typeof import('./vault');\n}\n\nexport function globalVault(options?: import('./vault').VaultOptions) {\n  const g = getGlobal();\n  try {\n    const gv = g['IIIF_VAULT'];\n\n    if (gv) {\n      return gv;\n    }\n  } catch (e) {\n    // no-op\n  }\n\n  const newVault = new vaultModule.Vault(options);\n\n  try {\n    g['IIIF_VAULT'] = newVault;\n  } catch (e) {\n    // no-op\n  }\n\n  return newVault;\n}\n"],"mappings":"gEAQA,SAAgB,EAAY,EAA0C,CACpE,IAAM,EAAI,IACV,GAAI,CACF,IAAM,EAAK,EAAE,WAEb,GAAI,EACF,OAAO,OAEC,EAIZ,IAAM,EAAW,IAAA,EAAsB,GAEvC,GAAI,CACF,EAAE,WAAgB,OACR,EAIZ,OAAO"}