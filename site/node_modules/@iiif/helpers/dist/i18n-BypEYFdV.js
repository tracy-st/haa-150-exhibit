import{Traverse as e}from"@iiif/parser";function t(e,t,n=[],r=!1,i=[]){if(i.length&&(t=t.filter(e=>i.indexOf(e)===-1)),!t||t.length===0)return;if(t.length===1)return t[0];if(!e)return t.indexOf(`none`)===-1?t[0]:`none`;if(t.indexOf(e)!==-1)return e;let a=e.indexOf(`-`)===-1?null:e.slice(0,e.indexOf(`-`));if(a&&t.indexOf(a)!==-1)return a;for(let e of n)if(t.indexOf(e)!==-1)return e;if(!r&&e){let r=t.map(e=>e.indexOf(`-`)===-1?null:e.slice(0,e.indexOf(`-`))),i=r.indexOf(e);if(i!==-1)return t[i];for(let e of n){let n=e.indexOf(`-`)===-1?null:e.slice(0,e.indexOf(`-`)),r=n?t.indexOf(n):-1;if(r!==-1)return t[r]}}return t.indexOf(`none`)===-1?t.indexOf(`@none`)===-1?t[0]:`@none`:`none`}function n(e,r,i={}){let{strictFallback:a=!1,defaultText:o=``,separator:s=`
`,fallbackLanguages:c=[],closest:l,skipLanguages:u}=i,d=Object.keys(e||{}),f=l?r:t(r,d,c,a,u);if(!e)return o;if(typeof e==`string`)return e;let p=f?e[f]:void 0;if(p&&f){if(typeof p==`string`)return p;if(p.length===1&&p[0]===``){let t=i.skipLanguages||[];return n(e,r,{...i,skipLanguages:[...t,f]})}return p.join(s)}return``}function r(e,t={}){return n(e,t.language||(typeof navigator<`u`?navigator.language:`en`),t)}function i(e){return!e||typeof e==`string`||Array.isArray(e)?[]:Object.keys(e).filter(e=>e!==`none`)}function a(t){let n=new Set,r=e.all(e=>{if(`label`in e){let t=i(e.label);t.forEach(e=>n.add(e))}if(`summary`in e){let t=i(e.summary);t.forEach(e=>n.add(e))}if(`language`in e&&typeof e.language==`string`&&n.add(e.language),`requiredStatement`in e&&e.requiredStatement&&!Array.isArray(e.requiredStatement)){if(`label`in e.requiredStatement){let t=i(e.requiredStatement.label);t.forEach(e=>n.add(e))}if(`value`in e.requiredStatement){let t=i(e.requiredStatement.value);t.forEach(e=>n.add(e))}}`metadata`in e&&Array.isArray(e.metadata)&&e.metadata.forEach(e=>{if(`label`in e){let t=i(e.label);t.forEach(e=>n.add(e))}if(`value`in e){let t=i(e.value);t.forEach(e=>n.add(e))}})});return r.traverseUnknown(t),Array.from(n)}const o=s();function s(e={}){return(t,...n)=>{let i=``;for(let a=0;a<t.length;a++)if(i+=t[a],a<n.length){let t=n[a];if(t==null)continue;typeof t==`string`?i+=t:i+=r(t,e)}return i}}export{n as buildLocaleString,s as createStringHelper,a as getAvailableLanguagesFromResource,t as getClosestLanguage,r as getValue,o as iiifString};
//# sourceMappingURL=i18n-BypEYFdV.js.map