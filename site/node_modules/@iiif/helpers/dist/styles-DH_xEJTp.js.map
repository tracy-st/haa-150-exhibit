{"version":3,"file":"styles-DH_xEJTp.js","names":[],"sources":["../src/styles.ts"],"sourcesContent":["import { Reference } from '@iiif/presentation-3';\nimport { compatVault, CompatVault } from './compat';\n\nexport type StyleDefinition = Record<string, any>;\n\nexport type StyledHelper<S extends StyleDefinition> = {\n  applyStyles<Style extends StyleDefinition = S>(resource: any, scope: string, styles: Style[string]): void;\n  getAppliedStyles<Style extends StyleDefinition = S>(resource: any): Style | undefined;\n};\n\nexport function createStylesHelper<S extends StyleDefinition>(vault: CompatVault = compatVault): StyledHelper<S> {\n  return {\n    applyStyles<Style extends StyleDefinition = S>(\n      resource: string | Reference<any>,\n      scope: string,\n      styles: Style[string]\n    ) {\n      const id = typeof resource === 'string' ? resource : resource.id;\n      return vault.setMetaValue<Style[string]>([id, 'styles', scope], styles);\n    },\n    getAppliedStyles<Style extends StyleDefinition = S>(resource: string | Reference<any>): Style | undefined {\n      const id = typeof resource === 'string' ? resource : resource.id;\n      return vault.getResourceMeta<{ styles: Style }, 'styles'>(id, 'styles');\n    },\n  };\n}\n"],"mappings":"mDAUA,SAAgB,EAA8C,EAAqB,EAA8B,CAC/G,MAAO,CACL,YACE,EACA,EACA,EACA,CACA,IAAM,EAAK,OAAO,GAAa,SAAW,EAAW,EAAS,GAC9D,OAAO,EAAM,aAA4B,CAAC,EAAI,SAAU,GAAQ,IAElE,iBAAoD,EAAsD,CACxG,IAAM,EAAK,OAAO,GAAa,SAAW,EAAW,EAAS,GAC9D,OAAO,EAAM,gBAA6C,EAAI"}