const e=require(`./traverse-CLpGzNvI.cjs`),t=require(`./upgrader-BHxZg3at.cjs`);function n(t,r){let i=r||`unknown`;if(!t)return;if(typeof t==`string`)return{id:t,type:i};if(e.isSpecificResource(t))return n(t.source,r);let a=i&&i!==`unknown`?i:t.type||t[`@type`],o=t.id||t[`@id`];if(a&&a.indexOf(`:`)!==-1&&(a=a.split(`:`).pop()),o&&a)return{id:o,type:a}}const r={},i=`iiif-parser:hasPart`,a=`iiif-parser:partOf`,o=`iiif-parser:isExternal`,s=`__$UNSET$__`,c=`__$UNWRAP$__`,l=[];Object.freeze(l),Object.freeze(r);function u(e){if(e===r||Object.keys(e).length===0)return!0;for(let t in e)return!1;return!0}function d(e,t){if(t&&t[`@explicit`]){let n={},r=Object.keys(t);for(let i of r){if(i===a||i===`@explicit`)continue;u(t[i])?n[i]=e[i]:n[i]=t[i]}return n}return e}function f(e,t,r){let o=n(t);if(!o)return[void 0,void 0];let s=e.requests[o.id],c=o.type||e.mapping[o.id];if(!c||s&&s.resourceUri&&(!e.entities[c]||!e.entities[c][s.resourceUri]))return[void 0,void 0];let l=e.entities[c][s?s.resourceUri:o.id];if(o.type&&!l)return f(e,{id:o.id},r);if(l&&l[i]){let e=l[i].find(e=>r?e[a]===r.id:e[a]===l.id),t=d(l,e);return[t,l]}return[l,l]}const p={id:`https://iiif-parser/annotation`,type:`Annotation`,behavior:l,label:null,thumbnail:l,summary:null,requiredStatement:null,metadata:l,seeAlso:l,homepage:l,rendering:l,service:l,accessibility:l,audience:l,body:l,bodyValue:null,canonical:null,created:null,creator:l,generated:null,generator:l,modified:null,motivation:l,rights:null,stylesheet:null,target:l,timeMode:void 0,via:l,partOf:l},m={id:`https://iiif-parser/annotation-page`,type:`AnnotationPage`,behavior:l,label:null,thumbnail:l,summary:null,requiredStatement:null,metadata:l,rights:null,provider:l,items:l,seeAlso:l,homepage:l,rendering:l,service:l},h={id:`https://iiif-parser/empty-canvas`,type:`Canvas`,label:null,behavior:l,thumbnail:l,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:l,rights:null,navDate:null,provider:l,items:l,annotations:l,seeAlso:l,homepage:l,partOf:l,rendering:l,service:l,duration:0,height:0,width:0},g={id:`https://iiif-parser/empty-collection`,type:`Collection`,label:null,viewingDirection:`left-to-right`,behavior:l,thumbnail:l,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:l,rights:null,navDate:null,provider:l,items:l,annotations:l,seeAlso:l,homepage:l,partOf:l,rendering:l,service:l,services:l},_={id:`https://iiif-parser/empty-manifest`,type:`Manifest`,annotations:l,behavior:l,homepage:l,items:l,label:null,metadata:l,navDate:null,provider:l,partOf:l,accompanyingCanvas:null,placeholderCanvas:null,rendering:l,requiredStatement:null,rights:null,seeAlso:l,service:l,services:l,start:null,structures:l,summary:null,thumbnail:l,viewingDirection:`left-to-right`},v={id:`https://iiif-parser/empty-canvas`,type:`Range`,label:null,behavior:l,thumbnail:l,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:l,rights:null,navDate:null,provider:l,items:l,annotations:l,seeAlso:l,homepage:l,partOf:l,rendering:l,service:l,start:null,supplementary:null,viewingDirection:`left-to-right`},y={id:`https://iiif-parser/empty-agent`,type:`Agent`,label:{},logo:l,seeAlso:l,homepage:l},b={id:`https://iiif-parser/empty-service`,type:`UnknownService`};function x(e,t={}){if(Array.isArray(e))return x(e[0]);if(typeof e==`string`){let[n,r]=e.split(`#`);return r?{type:`SpecificResource`,source:{id:n,type:t.typeHint||`Unknown`},selector:{type:`FragmentSelector`,value:r}}:{type:`SpecificResource`,source:{id:n,type:t.typeMap&&t.typeMap[n]||t.typeHint||`Unknown`}}}if(e.type===`Choice`||e.type===`List`||e.type===`Composite`||e.type===`Independents`)return x(e.items[0]);if(!e.type&&`source`in e&&(e.type=`SpecificResource`),e.type===`SpecificResource`){e.source.type===`Canvas`&&e.source.partOf&&typeof e.source.partOf==`string`&&(e.source.partOf=[{id:e.source.partOf,type:`Manifest`}]);let n=typeof e.source==`string`?e.source:e.source.id;if(n?.includes(`#`)){let r=x(n,t);r&&(e.selector=r.selector,e.source=r.source)}return e.selector?{...e,type:`SpecificResource`,source:e.source,selector:e.selector}:{...e,type:`SpecificResource`,source:e.source}}if(e.id){e.type===`Canvas`&&e.partOf&&typeof e.partOf==`string`&&(e.partOf=[{id:e.partOf,type:`Manifest`}]);let[t,n]=e.id.split(`#`);return n?{type:`SpecificResource`,source:{...e,id:t},selector:{type:`FragmentSelector`,value:n}}:{type:`SpecificResource`,source:{...e,id:t}}}return{type:`SpecificResource`,source:e}}const ee={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}};function S(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}function C(e,t){if(typeof e==`string`)return{id:e,type:t};if(!e.id)throw Error(`Invalid resource does not have an ID (${JSON.stringify(e)}, ${t})`);return e}function w(e,t){return(n,r)=>{let i=e[n]?e[n]:{};return(e,a)=>{let o=C(e,r||n);return o&&o.id&&n?(i[o.id]=i[o.id]?E(i[o.id],o,{parent:a.parent,isTopLevel:t.id===o.id}):E({id:o.id,type:o.type},o,{parent:a.parent,isTopLevel:t.id===o.id}),{id:o.id,type:n===`ContentResource`?n:o.type}):o}}}function T(e,t,n){if(!t)return e;if(Array.isArray(e)){if(!Array.isArray(t))throw Error(`Cannot merge array with non-array`);let n=[...e];for(let r of t){if(r[`@id`]&&!r.id&&(r.id=r[`@id`]),r[`@type`]&&!r.type&&(r.type=r[`@type`]),r==null)continue;if(Array.isArray(r))n.push(r);else if(typeof r==`object`&&r.id&&r.type){let e=n.findIndex(e=>e.id===r.id&&e.type===r.type);e>=0&&(n[e]=T(n[e],r))}else e.indexOf(r)===-1&&n.push(r)}return n}else if(typeof e==`object`){if(Array.isArray(t)||typeof t!=`object`)throw Error(`Cannot merge object with non-object`);let o={...e},s=[],c=[],u=Object.keys(e).filter(e=>e!==i&&e!==`id`&&e!==`type`),d={},f={};for(let[e,n]of Object.entries(t)){if(e===i||e===`id`||e===`type`)continue;let t=o[e];t===n?c.push(e):t===l||!t?(s.push(e),o[e]=n):(t&&n&&(d[e]=t,f[e]=n),o[e]=T(t,n),o[e]===d[e]&&(c.push(e),delete d[e]))}if(n&&(n.parent&&n.parent.id||n.isTopLevel)){let t=[],l={};if(n.parent?l[a]=n.parent.id:n.isTopLevel&&(l[a]=e.id),o[i]&&o[i].length){let e=!(o[i]||[]).find(e=>e[`@explicit`]),n=s.length>0||c.length!==u.length;if(e&&n)for(let e of o[i]){let n={...e},a=Object.keys(d);if(n){n[`@explicit`]=!0;for(let e of u)e!==i&&(n[e]=r);for(let e of a)n[e]=d[e]}t.push(n)}else t.push(...o[i]);if(n){let e=Object.keys(f);l[`@explicit`]=!0;for(let e of s)l[e]=r;for(let e of c)l[e]=r;for(let t of e)l[t]=f[t]}}l.id=o.id,l.type=o.type,t.push(l),o[i]=t}return o}else if(e)return e;return t}function E(e,t,n){if(typeof e==`string`)return e;if(t.id!==e.id||t.type!==e.type){if(t.type===`ImageService3`)return t;if(e.type===`ImageService3`)return e;throw Error(`Can only merge entities with identical identifiers and type! ${t.type}(${t.id}) => ${e.type}(${e.id})`)}return T({...e},t,n)}function te(e){return(t,n)=>r=>{let{id:i,type:a}=C(r,n||t);if(i===void 0)throw Error(`Found invalid entity without an ID.`);return t===`ContentResource`||t===`Service`?e[i]=t:e[i]=a,r}}function ne(e){let t=Object.assign({},e);if(t[`@id`]&&(t.id=t[`@id`]),t[`@type`]&&(t.type=t[`@type`]),t.service){let e=[];t.service=Array.isArray(t.service)?t.service:[t.service];for(let n of t.service)e.push({id:n[`@id`]||n.id,type:n[`@type`]||n.type});t.service=e}return Object.assign({},b,t)}function re(e){return t=>{e.Service=e.Service?e.Service:{};let n=t.id||t[`@id`],r=ne(t);return r&&r.id&&(e.Service[r.id]?e.Service[n]=E(e.Service[n],r):e.Service[n]=r),t}}function ie(e){let t=JSON.stringify(e),n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);let i=n>>>0,a=i.toString(16);return a.length%2?`0`+a:a}function D(e){return t=>typeof t==`string`?{id:t,type:e}:t.id?t.type?t:{type:e,...t}:{id:`vault://${ie(t)}`,type:e,...t}}function O(e){return t=>({...e,...t})}function k(e){return Array.isArray(e)?e:[e]}function A(e){return e.body&&=k(e.body),e.seeAlso&&=k(e.seeAlso),e.audience&&=k(e.audience),e.accessibility&&=k(e.accessibility),e.motivation&&=k(e.motivation),e}function j(t,{typeHint:n,partOfTypeHint:r}={}){if(typeof t==`string`&&(t={id:t,type:n||`unknown`}),e.isSpecificResource(t))return typeof t.source==`string`&&(t.source={id:t.source,type:n||`unknown`}),t.source.type===`Canvas`&&t.source.partOf&&typeof t.source.partOf==`string`&&(t.source.partOf=[{id:t.source.partOf,type:r||`Manifest`}]),t;let i;if((t.id||``).indexOf(`#`)!==-1){let[e,n]=(t.id||``).split(`#`);t.id=e,n&&(i={type:`FragmentSelector`,value:n})}return{type:`SpecificResource`,source:t,selector:i}}function M(e){let t=Object.assign({},e);return e&&e.items&&(t.items=e.items.map(e=>typeof e==`string`||e.type===`Canvas`?j(e):e)),t}function N(e){let t=Object.assign({},e);return t.start?(t.start=j(t.start,{typeHint:`Canvas`}),t):e}function ae(e){let t=Object.assign({},e);return t.target?(t.target=x(t.target,{typeHint:`Canvas`}),t):e}function P(e){return e}function F(e){return e.items===void 0&&(e[o]=!0),e}function I(n){let r=t.convertPresentation2(n),i=S(),a={},o=w(i,r),s=te(a),c=new e.Traverse({collection:[F,O(g),s(`Collection`),o(`Collection`)],manifest:[F,O(_),N,s(`Manifest`),o(`Manifest`)],canvas:[O(h),s(`Canvas`),o(`Canvas`)],annotationPage:[F,D(`AnnotationPage`),O(m),s(`AnnotationPage`),o(`AnnotationPage`)],annotation:[D(`Annotation`),A,ae,s(`Annotation`),o(`Annotation`)],contentResource:[D(`ContentResource`),s(`ContentResource`),o(`ContentResource`)],range:[O(v),M,s(`Range`,`Canvas`),o(`Range`,`Canvas`)],agent:[O(y),s(`Agent`),o(`Agent`)],specificResource:[P],service:[re(i)]}),l=c.traverseUnknown(r);return{entities:i,resource:l,mapping:a}}function L(e){let t={};for(let[n,r]of e){if(n===c&&r!==s)return r;r!==s&&r!=null&&(t[n]=r)}return t}function oe(e,t,n){if(!t.type||!t.id)throw Error(`Unknown entity`);if(!n[t.type])throw Error(`Serializer not found for ${t.type}`);function r(i,a,o=0){let c=n[i.type];if(!c)return s;if(o>20)throw Error(`Circular reference: `+i.id+` `+i.type);let[l,u]=f(e,i.type?i:i.id,a)||(i.id&&i.type?i:null);if(!l)return s;let d=c(l,e,{parent:a,isTopLevel:t.id===i.id,fullResource:u}),p=d.next();for(;!p.done;){let e=p.value,t=s;if(e)if(Array.isArray(e)){let n=[];for(let t of e)n.push(r(t,i,o+1));t=n}else t=r(e,i,o+1);p=d.next(t)}return p.value===s?s:L(p.value)}return r(t)}function R(e,{allowSourceString:t=!0,allowString:n=!1,allowedStringType:r}={}){let i=e=>{if(t&&e&&e.source&&typeof e.source!=`string`){let t=Object.keys(e.source);if(e.source.id&&e.source.type&&t.length===2)return{...e,source:e.source.id}}return e};if(e){if(e.source&&e.source.partOf)return i(e);let t=Object.keys(e);if(t.length===2&&e.type&&e.source||t.length===3&&e.type&&e.source&&t.indexOf(`selector`)!==-1&&!e.selector)return n&&(!r||r===e.source.type)?e.source.id:e.source.type===`ContentResource`?{type:`SpecificResource`,source:e.source.id}:e.source;if(e.selector&&!Array.isArray(e.selector)&&typeof e.selector!=`string`&&e.selector.type===`FragmentSelector`){let t=`${e.source.id}#${e.selector.value}`;return n?t:{id:t,type:e.source.type}}}return i(e)}function z(e){if(!e)return;let t=Object.keys(e);if(t.length!==0){if(t.length===1){let n=t[0];if(!n)return``;let r=(e[n]||[]).join(``);return n===`@none`||n===`none`||n===`en`?r:{"@language":n,"@value":r}}return t.map(t=>({"@language":t,"@value":(e[t]||[]).join(``)}))}}function B(e){return Array.isArray(e)?e.map(e=>B(e)):typeof e==`string`?e:e.type&&e.type===`Canvas`?e.id:e}function V(e,t=!1){if(e)return e.length>1&&!t?e:e[0]||void 0}function H(e){if(e){if(typeof e==`string`)return{"@id":e};if(`@id`in e){let t={...e};return delete t[`@type`],t}return{"@context":`http://iiif.io/api/image/2/context.json`,"@id":e.id,profile:`http://iiif.io/api/image/2/profiles/${e.profile}.json`}}}function U(e,t){return[[`@id`,e.id],[`@type`,t],[`format`,e.format],[`height`,e.height],[`width`,e.width],[`viewingDirection`,e.viewingDirection===`left-to-right`?void 0:e.viewingDirection],[`license`,e.license?e.license:void 0]]}function*W(e){let t=e.provider?yield e.provider[0]:void 0;return[[`label`,z(e.label)],[`metadata`,e.metadata&&e.metadata.length?e.metadata.map(e=>({label:z(e.label)||``,value:z(e.value)||``})):void 0],[`description`,z(e.summary)],[`thumbnail`,V(yield e.thumbnail)],[`navDate`,e.navDate],[`logo`,t?V(t.logo):void 0],[`homepage`,t?t.homepage:void 0],[`attribution`,e.requiredStatement?z(e.requiredStatement.value):void 0]]}function*G(e){let t=e.start&&e.start.type&&e.start.type===`SpecificResource`?R(e.start):e.start;return[[`seeAlso`,V(yield e.seeAlso)],[`service`,V((e.service||[]).map(H))],[`rendering`,V(yield e.rendering)],[`startCanvas`,t?t.id:void 0]]}function K(e){return e.type===`SpecificResource`}function se(e){return e&&e.type===`FragmentSelector`}function ce(e){if(e&&K(e)){let t=e.id,n=e.selector?Array.isArray(e.selector)?e.selector[0]:e.selector:void 0;return se(n)&&(t+=`#`+n.value),t}return e?.id}const le={Manifest:function*(e,t,{isTopLevel:n}){return[...n?[[`@context`,`http://iiif.io/api/presentation/2/context.json`]]:[],...U(e,`sc:Manifest`),...yield*W(e),...yield*G(e),[`sequences`,[{"@id":`${e.id}/sequence0`,"@type":`sc:Sequence`,canvases:yield e.items}]],[`structures`,yield e.structures]]},Canvas:function*(e){let t=yield e.items,n=t[0];return[...U(e,`sc:Canvas`),...yield*W(e),...yield*G(e),[`images`,n?[n.resources]:void 0],[`annotations`,e.annotations&&e.annotations.length?V(yield e.annotations):void 0]]},AnnotationPage:function*(e){return[...U(e,`sc:AnnotationList`),...yield*W(e),[`resources`,e.items&&e.items.length?V(yield e.items):void 0]]},Annotation:function*(e){return[[`@id`,e.id],[`@type`,`oa:Annotation`],[`motivation`,`sc:painting`],[`on`,B(e.target)],[`resource`,V(yield e.body,!0)]]},ContentResource:function*(e){switch(e.type){case`Image`:return[...U(e,`dctypes:Image`),...yield*W(e),...yield*G(e)];case`Text`:case`Dataset`:default:return[...U(e,void 0),...yield*W(e)]}},AnnotationCollection:function*(e){return[[`@id`,e.id],[`@type`,`sc:Layer`],[`label`,z(e.label)]]},Collection:function*(e){return[...U(e,`sc:Collection`),...yield*W(e),...yield*G(e),[`members`,yield*e.items]]},Range:function*(e){let t=[],n=[];if(e.items)for(let r of e.items){let i=r.type===`SpecificResource`?r.source:r;if(i){let a=yield i;t.push({"@id":ce(r),"@type":i.type,label:a?a.label:void 0,within:e.id}),i.type===`Canvas`&&n.push(i.id)}}return[...U(e,`sc:Range`),...yield*W(e),...yield*G(e),[`canvases`,n.length===t.length?n:void 0],[`members`,n.length===t.length?void 0:t]]}};function q(e){return[[`id`,e.id?.startsWith(`vault://`)?void 0:e.id],[`type`,e.type],[`format`,e.format],[`profile`,e.profile],[`height`,e.height||void 0],[`width`,e.width||void 0],[`duration`,e.duration||void 0],[`viewingDirection`,e.viewingDirection===`left-to-right`?void 0:e.viewingDirection],[`behavior`,e.behavior&&e.behavior.length?e.behavior:void 0],[`timeMode`,e.timeMode],[`motivation`,Array.isArray(e.motivation)?e.motivation[0]:e.motivation],[i,s]]}function J(e){if(e===s||!e||e.length===0)return;let t=e.filter(e=>e!==s);if(t.length!==0)return t}function Y(e){if(e&&e.type&&e.type===`ImageService2`){let{id:t,type:n,profile:r,...i}=e,a=typeof r==`string`?r:Array.isArray(r)?r.find(e=>typeof e==`string`):``;return{"@id":t,"@type":n,profile:a?a.startsWith(`http`)?a:`http://iiif.io/api/image/2/${a}.json`:`http://iiif.io/api/image/2/level0.json`,...i}}return e}function X(e){if(Array.isArray(e)||(e=e?[e]:[]),!(!e||e.length===0))return e.map(Y)}function*Z(e){return[[`label`,e.label],[`metadata`,J(e.metadata)],[`summary`,e.summary],[`requiredStatement`,e.requiredStatement],[`rights`,Array.isArray(e.rights)?e.rights[0]||void 0:e.rights||void 0],[`navDate`,e.navDate],[`language`,e.language],[`thumbnail`,J(yield e.thumbnail)],[`placeholderCanvas`,yield e.placeholderCanvas],[`accompanyingCanvas`,yield e.accompanyingCanvas],[`provider`,J(yield e.provider)]]}function*Q(e,t){let n=[];for(let r of e.partOf||[]){if(r.type===`Manifest`&&t.type===`Manifest`)continue;n.push(yield r)}return[[`seeAlso`,J(yield e.seeAlso)],[`service`,J(X(e.service))],[`services`,J(X(e.services))],[`rendering`,J(yield e.rendering)],[`supplementary`,J(yield e.supplementary)],[`homepage`,J(yield e.homepage)],[`logo`,J(yield e.logo)],[`partOf`,J(n)],[`start`,e.start?R(e.start):e.start]]}const ue={Manifest:function*(e,t,{isTopLevel:n}){if(!n)return[...q(e),...yield*Z(e),[`navPlace`,e.navPlace]];let r=`http://iiif.io/api/presentation/3/context.json`;return(e.navPlace||$(e))&&(r=[`http://iiif.io/api/presentation/3/context.json`,`http://iiif.io/api/extension/navplace/context.json`]),[[`@context`,e[`@context`]?e[`@context`]:r],...q(e),...yield*Z(e),...yield*Q(e),[`items`,yield e.items],[`structures`,J(yield e.structures)],[`annotations`,J(yield e.annotations)],[`navPlace`,e.navPlace]]},Canvas:function*(e,t,{parent:n}){return n&&n.type!==`Manifest`&&n.type!==`Canvas`?[[`id`,e.id]]:[...q(e),...yield*Z(e),...yield*Q(e,n),[`items`,yield e.items],[`annotations`,J(yield e.annotations)],[`navPlace`,e.navPlace]]},Agent:function*(e){return[[`id`,e.id],[`type`,`Agent`],[`label`,e.label],...yield*Q(e)]},AnnotationPage:function*(e){let t=Object.entries(e).map(([e,t])=>[e,Array.isArray(t)?J(t):t]).filter(([e,t])=>e!==`items`&&e!==`id`&&e!==i&&e!==a&&e!==o),n=yield e.items;return[[`id`,e.id?.startsWith(`vault://`)?void 0:e.id],...t,...yield*Q(e),[`items`,n.length||e[o]===!1?n:s]]},Service:function*(e){return[[c,Y(e)]]},Annotation:function*(t){let n=Object.entries(t).map(([e,t])=>e===`motivation`?[e,Array.isArray(t)?t[0]:t]:e===`target`?[e,R(t,{allowString:!0,allowSourceString:!0,allowedStringType:`Canvas`})]:[e,Array.isArray(t)?J(t):t]).filter(([e])=>e!==`body`&&e!==i&&e!==o),r;if(Array.isArray(t.body)){let n=[];for(let r of t.body)if(r&&e.isSpecificResource(r)){let e={...r};r.source.type===`Canvas`?e.source=r.source:e.source=yield r.source,n.push(R(e,{allowSourceString:!0}))}else n.push(yield r);r=n}else t.body&&e.isSpecificResource(t.body)?(r={...t.body},r.source=yield t.body.source):r=yield t.body;return[...n,...yield*Z(t),...yield*Q(t),[`body`,r.length===1?r[0]:r]]},ContentResource:function*(e){return de([...q(e),...yield*Z(e),...yield*Q(e),[`annotations`,J(yield e.annotations)],[`items`,J(yield e.items)]],e)},AnnotationCollection:function*(e){return[[`id`,e.id],[`type`,`AnnotationCollection`],[`label`,e.label]]},Collection:function*(e,t,{isTopLevel:n}){if(n){let t=`http://iiif.io/api/presentation/3/context.json`;return(e.navPlace||$(e))&&(t=[`http://iiif.io/api/extension/navplace/context.json`,`http://iiif.io/api/presentation/3/context.json`]),[[`@context`,t],...q(e),...yield*Z(e),...yield*Q(e),[`items`,J(yield e.items)],[`navPlace`,e.navPlace]]}return[...q(e),...yield*Z(e),[`navPlace`,e.navPlace]]},Range:function*(e){let t=[];for(let n of e.items)n.type===`Range`?t.push(yield n):n&&n.type===`SpecificResource`?t.push(R(n)):t.push(n);return[...q(e),...yield*Z(e),...yield*Q(e),[`items`,t],[`annotations`,J(yield e.annotations)],[`navPlace`,e.navPlace]]}};function de(e,t){let n=Object.keys(t),r=e.map(([e])=>e);for(let a of n){if(a===i||a===o)continue;r.indexOf(a)===-1&&t[a]!==void 0&&e.push([a,t[a]])}return e}function $(e){if(!e.items||!Array.isArray(e.items))return!1;for(let t of e.items)if(t.navPlace)return!0;return!1}Object.defineProperty(exports,`EMPTY`,{enumerable:!0,get:function(){return l}}),Object.defineProperty(exports,`HAS_PART`,{enumerable:!0,get:function(){return i}}),Object.defineProperty(exports,`IS_EXTERNAL`,{enumerable:!0,get:function(){return o}}),Object.defineProperty(exports,`PART_OF`,{enumerable:!0,get:function(){return a}}),Object.defineProperty(exports,`UNSET`,{enumerable:!0,get:function(){return s}}),Object.defineProperty(exports,`UNWRAP`,{enumerable:!0,get:function(){return c}}),Object.defineProperty(exports,`WILDCARD`,{enumerable:!0,get:function(){return r}}),Object.defineProperty(exports,`addFlagForExternalResource`,{enumerable:!0,get:function(){return F}}),Object.defineProperty(exports,`compressSpecificResource`,{enumerable:!0,get:function(){return R}}),Object.defineProperty(exports,`defaultEntities`,{enumerable:!0,get:function(){return ee}}),Object.defineProperty(exports,`emptyAgent`,{enumerable:!0,get:function(){return y}}),Object.defineProperty(exports,`emptyAnnotation`,{enumerable:!0,get:function(){return p}}),Object.defineProperty(exports,`emptyAnnotationPage`,{enumerable:!0,get:function(){return m}}),Object.defineProperty(exports,`emptyCanvas`,{enumerable:!0,get:function(){return h}}),Object.defineProperty(exports,`emptyCollection`,{enumerable:!0,get:function(){return g}}),Object.defineProperty(exports,`emptyManifest`,{enumerable:!0,get:function(){return _}}),Object.defineProperty(exports,`emptyRange`,{enumerable:!0,get:function(){return v}}),Object.defineProperty(exports,`emptyService`,{enumerable:!0,get:function(){return b}}),Object.defineProperty(exports,`frameResource`,{enumerable:!0,get:function(){return d}}),Object.defineProperty(exports,`getDefaultEntities`,{enumerable:!0,get:function(){return S}}),Object.defineProperty(exports,`isWildcard`,{enumerable:!0,get:function(){return u}}),Object.defineProperty(exports,`languageString2to3`,{enumerable:!0,get:function(){return z}}),Object.defineProperty(exports,`merge`,{enumerable:!0,get:function(){return T}}),Object.defineProperty(exports,`mergeEntities`,{enumerable:!0,get:function(){return E}}),Object.defineProperty(exports,`normalize`,{enumerable:!0,get:function(){return I}}),Object.defineProperty(exports,`resolveIfExists`,{enumerable:!0,get:function(){return f}}),Object.defineProperty(exports,`serialize`,{enumerable:!0,get:function(){return oe}}),Object.defineProperty(exports,`serializeConfigPresentation2`,{enumerable:!0,get:function(){return le}}),Object.defineProperty(exports,`serializeConfigPresentation3`,{enumerable:!0,get:function(){return ue}}),Object.defineProperty(exports,`serializedFieldsToObject`,{enumerable:!0,get:function(){return L}}),Object.defineProperty(exports,`toRef`,{enumerable:!0,get:function(){return n}}),Object.defineProperty(exports,`traverseSpecificResource`,{enumerable:!0,get:function(){return P}});