{"version":3,"file":"upgrader-BDpLh0wm.d.ts","names":["Annotation","AnnotationList","Canvas","ChoiceEmbeddedContent","Collection","CommonContentResource","ContentResource","DescriptiveProperties","Layer","LinkingProperties","Manifest","OneOrMany","Range","RightsProperties","Sequence","Service","TraversableEntityTypes","Traversal","TraversalMap","types","TraverseOptions","identifyResource","Traverse","Partial","_iiif_presentation_30","T","Array","Return","Presentation3","Presentation2","Traverse","convertLanguageMapping","LanguageProperty","OneOrMany","InternationalString","getProfile","getTypeFromContext","presentation2to3","Collection","Manifest","Canvas","AnnotationPage","Annotation","ContentResource","ChoiceBody","Range","Service","AnnotationCollection","convertPresentation2"],"sources":["../src/presentation-2/traverse.d.ts","../src/presentation-2/upgrader.d.ts"],"sourcesContent":["import type { Annotation, AnnotationList, Canvas, ChoiceEmbeddedContent, Collection, CommonContentResource, ContentResource, DescriptiveProperties, Layer, LinkingProperties, Manifest, OneOrMany, Range, RightsProperties, Sequence, Service, TraversableEntityTypes, Traversal, TraversalMap } from '@iiif/presentation-2';\nexport declare const types: TraversableEntityTypes[];\nexport type TraverseOptions = {\n    convertPropsToArray: boolean;\n    mergeMemberProperties: boolean;\n    allowUndefinedReturn: boolean;\n};\nexport declare function identifyResource(resource: any): TraversableEntityTypes;\nexport declare class Traverse<T extends {\n    Collection: any;\n    Manifest: any;\n    Canvas: any;\n    AnnotationList: any;\n    Sequence: any;\n    Annotation: any;\n    ContentResource: any;\n    Choice: any;\n    Range: any;\n    Service: any;\n    Layer: any;\n} = {\n    Collection: Collection;\n    Manifest: Manifest;\n    Canvas: Canvas;\n    AnnotationList: AnnotationList;\n    Sequence: Sequence;\n    Annotation: Annotation;\n    ContentResource: CommonContentResource;\n    Choice: ChoiceEmbeddedContent;\n    Range: Range;\n    Service: Service;\n    Layer: Layer;\n}> {\n    private traversals;\n    private options;\n    constructor(traversals: Partial<TraversalMap>, options?: Partial<TraverseOptions>);\n    static all(traversal: (resource: any) => any): Traverse<{\n        Collection: Collection;\n        Manifest: Manifest;\n        Canvas: Canvas;\n        AnnotationList: AnnotationList;\n        Sequence: Sequence;\n        Annotation: Annotation;\n        ContentResource: CommonContentResource;\n        Choice: ChoiceEmbeddedContent;\n        Range: Range;\n        Service: import(\"@iiif/presentation-3\").Service;\n        Layer: Layer;\n    }>;\n    traverseCollection(collection: Collection): T['Collection'];\n    traverseCollectionItems(collection: Collection): Collection;\n    traverseManifest(manifest: Manifest): T['Manifest'];\n    traverseManifestItems(manifest: Manifest): Manifest;\n    traverseSequence(sequence: Sequence): T['Sequence'];\n    traverseSequenceItems(sequence: Sequence): Sequence;\n    traverseCanvas(canvas: Canvas): T['Canvas'];\n    traverseCanvasItems(canvas: Canvas): Canvas;\n    traverseRange(range: Range): T['Range'];\n    traverseRangeItems(range: Range): Range;\n    traverseAnnotationList(annotationList: AnnotationList): T['AnnotationList'];\n    traverseAnnotationListItems(annotationList: AnnotationList): AnnotationList;\n    traverseAnnotation(annotation: Annotation): T['Annotation'];\n    traverseAnnotationItems(annotation: Annotation): Annotation;\n    traverseLayer(layer: Layer): T['Layer'];\n    traverseLayerItems(layer: Layer): Layer;\n    traverseChoice(choice: ChoiceEmbeddedContent): T['Choice'];\n    traverseChoiceItems(choice: ChoiceEmbeddedContent): ChoiceEmbeddedContent;\n    traverseService(service: Service): T['Service'];\n    traverseContentResource(contentResource: CommonContentResource): T['ContentResource'];\n    traverseUnknown(item: any): any;\n    traverseImageResource(contentResource: OneOrMany<string | ContentResource>): any;\n    traverseDescriptive<T extends Partial<DescriptiveProperties & RightsProperties>>(resource: T): T;\n    traverseOneOrMoreServices(allServices: OneOrMany<any>): T[\"Service\"] | T[\"Service\"][] | undefined;\n    traverseLinking<T extends Partial<LinkingProperties>>(resource: T): T;\n    traverseOneOrManyType<T, Return = T>(object: T | T[], traversals: Array<Traversal<T>>): Return;\n    traverseType<T, Return = T>(object: T, traversals: Array<Traversal<T>>): Return;\n}\n","import * as Presentation3 from '@iiif/presentation-3';\nimport * as Presentation2 from '@iiif/presentation-2';\nimport { Traverse } from './traverse';\nexport declare function convertLanguageMapping(inputLangProperty?: Presentation2.OneOrMany<Presentation2.LanguageProperty>, defaultLang?: string): Presentation3.InternationalString;\nexport declare function getProfile(profile: any | any[]): string | undefined;\nexport declare function getTypeFromContext(inputContexts: string | string[]): string | undefined;\nexport declare const presentation2to3: Traverse<{\n    Collection: Presentation3.Collection;\n    Manifest: Presentation3.Manifest;\n    Canvas: Presentation3.Canvas;\n    AnnotationList: Presentation3.AnnotationPage;\n    Sequence: Presentation3.Canvas[];\n    Annotation: Presentation3.Annotation;\n    ContentResource: Presentation3.ContentResource;\n    Choice: Presentation3.ChoiceBody;\n    Range: Presentation3.Range;\n    Service: Presentation3.Service;\n    Layer: Presentation3.AnnotationCollection;\n}>;\nexport declare function convertPresentation2(entity: any): Presentation3.Manifest | Presentation3.Collection;\n"],"mappings":"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"}