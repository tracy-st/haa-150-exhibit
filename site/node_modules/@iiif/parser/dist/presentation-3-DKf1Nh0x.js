import{Traverse as e,isSpecificResource as t}from"./traverse-BDmGe7EO.js";import{convertPresentation2 as n}from"./upgrader-BEInozLY.js";function r(e,n){let i=n||`unknown`;if(!e)return;if(typeof e==`string`)return{id:e,type:i};if(t(e))return r(e.source,n);let a=i&&i!==`unknown`?i:e.type||e[`@type`],o=e.id||e[`@id`];if(a&&a.indexOf(`:`)!==-1&&(a=a.split(`:`).pop()),o&&a)return{id:o,type:a}}const i={},a=`iiif-parser:hasPart`,o=`iiif-parser:partOf`,s=`iiif-parser:isExternal`,c=`__$UNSET$__`,l=`__$UNWRAP$__`,u=[];Object.freeze(u),Object.freeze(i);function d(e){if(e===i||Object.keys(e).length===0)return!0;for(let t in e)return!1;return!0}function f(e,t){if(t&&t[`@explicit`]){let n={},r=Object.keys(t);for(let i of r){if(i===o||i===`@explicit`)continue;d(t[i])?n[i]=e[i]:n[i]=t[i]}return n}return e}function p(e,t,n){let i=r(t);if(!i)return[void 0,void 0];let s=e.requests[i.id],c=i.type||e.mapping[i.id];if(!c||s&&s.resourceUri&&(!e.entities[c]||!e.entities[c][s.resourceUri]))return[void 0,void 0];let l=e.entities[c][s?s.resourceUri:i.id];if(i.type&&!l)return p(e,{id:i.id},n);if(l&&l[a]){let e=l[a].find(e=>n?e[o]===n.id:e[o]===l.id),t=f(l,e);return[t,l]}return[l,l]}const ee={id:`https://iiif-parser/annotation`,type:`Annotation`,behavior:u,label:null,thumbnail:u,summary:null,requiredStatement:null,metadata:u,seeAlso:u,homepage:u,rendering:u,service:u,accessibility:u,audience:u,body:u,bodyValue:null,canonical:null,created:null,creator:u,generated:null,generator:u,modified:null,motivation:u,rights:null,stylesheet:null,target:u,timeMode:void 0,via:u,partOf:u},m={id:`https://iiif-parser/annotation-page`,type:`AnnotationPage`,behavior:u,label:null,thumbnail:u,summary:null,requiredStatement:null,metadata:u,rights:null,provider:u,items:u,seeAlso:u,homepage:u,rendering:u,service:u},h={id:`https://iiif-parser/empty-canvas`,type:`Canvas`,label:null,behavior:u,thumbnail:u,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:u,rights:null,navDate:null,provider:u,items:u,annotations:u,seeAlso:u,homepage:u,partOf:u,rendering:u,service:u,duration:0,height:0,width:0},g={id:`https://iiif-parser/empty-collection`,type:`Collection`,label:null,viewingDirection:`left-to-right`,behavior:u,thumbnail:u,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:u,rights:null,navDate:null,provider:u,items:u,annotations:u,seeAlso:u,homepage:u,partOf:u,rendering:u,service:u,services:u},_={id:`https://iiif-parser/empty-manifest`,type:`Manifest`,annotations:u,behavior:u,homepage:u,items:u,label:null,metadata:u,navDate:null,provider:u,partOf:u,accompanyingCanvas:null,placeholderCanvas:null,rendering:u,requiredStatement:null,rights:null,seeAlso:u,service:u,services:u,start:null,structures:u,summary:null,thumbnail:u,viewingDirection:`left-to-right`},v={id:`https://iiif-parser/empty-canvas`,type:`Range`,label:null,behavior:u,thumbnail:u,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:u,rights:null,navDate:null,provider:u,items:u,annotations:u,seeAlso:u,homepage:u,partOf:u,rendering:u,service:u,start:null,supplementary:null,viewingDirection:`left-to-right`},y={id:`https://iiif-parser/empty-agent`,type:`Agent`,label:{},logo:u,seeAlso:u,homepage:u},b={id:`https://iiif-parser/empty-service`,type:`UnknownService`};function x(e,t={}){if(Array.isArray(e))return x(e[0]);if(typeof e==`string`){let[n,r]=e.split(`#`);return r?{type:`SpecificResource`,source:{id:n,type:t.typeHint||`Unknown`},selector:{type:`FragmentSelector`,value:r}}:{type:`SpecificResource`,source:{id:n,type:t.typeMap&&t.typeMap[n]||t.typeHint||`Unknown`}}}if(e.type===`Choice`||e.type===`List`||e.type===`Composite`||e.type===`Independents`)return x(e.items[0]);if(!e.type&&`source`in e&&(e.type=`SpecificResource`),e.type===`SpecificResource`){e.source.type===`Canvas`&&e.source.partOf&&typeof e.source.partOf==`string`&&(e.source.partOf=[{id:e.source.partOf,type:`Manifest`}]);let n=typeof e.source==`string`?e.source:e.source.id;if(n?.includes(`#`)){let r=x(n,t);r&&(e.selector=r.selector,e.source=r.source)}return e.selector?{...e,type:`SpecificResource`,source:e.source,selector:e.selector}:{...e,type:`SpecificResource`,source:e.source}}if(e.id){e.type===`Canvas`&&e.partOf&&typeof e.partOf==`string`&&(e.partOf=[{id:e.partOf,type:`Manifest`}]);let[t,n]=e.id.split(`#`);return n?{type:`SpecificResource`,source:{...e,id:t},selector:{type:`FragmentSelector`,value:n}}:{type:`SpecificResource`,source:{...e,id:t}}}return{type:`SpecificResource`,source:e}}const S={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}};function C(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}function w(e,t){if(typeof e==`string`)return{id:e,type:t};if(!e.id)throw Error(`Invalid resource does not have an ID (${JSON.stringify(e)}, ${t})`);return e}function T(e,t){return(n,r)=>{let i=e[n]?e[n]:{};return(e,a)=>{let o=w(e,r||n);return o&&o.id&&n?(i[o.id]=i[o.id]?D(i[o.id],o,{parent:a.parent,isTopLevel:t.id===o.id}):D({id:o.id,type:o.type},o,{parent:a.parent,isTopLevel:t.id===o.id}),{id:o.id,type:n===`ContentResource`?n:o.type}):o}}}function E(e,t,n){if(!t)return e;if(Array.isArray(e)){if(!Array.isArray(t))throw Error(`Cannot merge array with non-array`);let n=[...e];for(let r of t){if(r[`@id`]&&!r.id&&(r.id=r[`@id`]),r[`@type`]&&!r.type&&(r.type=r[`@type`]),r==null)continue;if(Array.isArray(r))n.push(r);else if(typeof r==`object`&&r.id&&r.type){let e=n.findIndex(e=>e.id===r.id&&e.type===r.type);e>=0&&(n[e]=E(n[e],r))}else e.indexOf(r)===-1&&n.push(r)}return n}else if(typeof e==`object`){if(Array.isArray(t)||typeof t!=`object`)throw Error(`Cannot merge object with non-object`);let r={...e},s=[],c=[],l=Object.keys(e).filter(e=>e!==a&&e!==`id`&&e!==`type`),d={},f={};for(let[e,n]of Object.entries(t)){if(e===a||e===`id`||e===`type`)continue;let t=r[e];t===n?c.push(e):t===u||!t?(s.push(e),r[e]=n):(t&&n&&(d[e]=t,f[e]=n),r[e]=E(t,n),r[e]===d[e]&&(c.push(e),delete d[e]))}if(n&&(n.parent&&n.parent.id||n.isTopLevel)){let t=[],u={};if(n.parent?u[o]=n.parent.id:n.isTopLevel&&(u[o]=e.id),r[a]&&r[a].length){let e=!(r[a]||[]).find(e=>e[`@explicit`]),n=s.length>0||c.length!==l.length;if(e&&n)for(let e of r[a]){let n={...e},r=Object.keys(d);if(n){n[`@explicit`]=!0;for(let e of l)e!==a&&(n[e]=i);for(let e of r)n[e]=d[e]}t.push(n)}else t.push(...r[a]);if(n){let e=Object.keys(f);u[`@explicit`]=!0;for(let e of s)u[e]=i;for(let e of c)u[e]=i;for(let t of e)u[t]=f[t]}}u.id=r.id,u.type=r.type,t.push(u),r[a]=t}return r}else if(e)return e;return t}function D(e,t,n){if(typeof e==`string`)return e;if(t.id!==e.id||t.type!==e.type){if(t.type===`ImageService3`)return t;if(e.type===`ImageService3`)return e;throw Error(`Can only merge entities with identical identifiers and type! ${t.type}(${t.id}) => ${e.type}(${e.id})`)}return E({...e},t,n)}function O(e){return(t,n)=>r=>{let{id:i,type:a}=w(r,n||t);if(i===void 0)throw Error(`Found invalid entity without an ID.`);return t===`ContentResource`||t===`Service`?e[i]=t:e[i]=a,r}}function te(e){let t=Object.assign({},e);if(t[`@id`]&&(t.id=t[`@id`]),t[`@type`]&&(t.type=t[`@type`]),t.service){let e=[];t.service=Array.isArray(t.service)?t.service:[t.service];for(let n of t.service)e.push({id:n[`@id`]||n.id,type:n[`@type`]||n.type});t.service=e}return Object.assign({},b,t)}function ne(e){return t=>{e.Service=e.Service?e.Service:{};let n=t.id||t[`@id`],r=te(t);return r&&r.id&&(e.Service[r.id]?e.Service[n]=D(e.Service[n],r):e.Service[n]=r),t}}function re(e){let t=JSON.stringify(e),n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);let i=n>>>0,a=i.toString(16);return a.length%2?`0`+a:a}function k(e){return t=>typeof t==`string`?{id:t,type:e}:t.id?t.type?t:{type:e,...t}:{id:`vault://${re(t)}`,type:e,...t}}function A(e){return t=>({...e,...t})}function j(e){return Array.isArray(e)?e:[e]}function M(e){return e.body&&=j(e.body),e.seeAlso&&=j(e.seeAlso),e.audience&&=j(e.audience),e.accessibility&&=j(e.accessibility),e.motivation&&=j(e.motivation),e}function N(e,{typeHint:n,partOfTypeHint:r}={}){if(typeof e==`string`&&(e={id:e,type:n||`unknown`}),t(e))return typeof e.source==`string`&&(e.source={id:e.source,type:n||`unknown`}),e.source.type===`Canvas`&&e.source.partOf&&typeof e.source.partOf==`string`&&(e.source.partOf=[{id:e.source.partOf,type:r||`Manifest`}]),e;let i;if((e.id||``).indexOf(`#`)!==-1){let[t,n]=(e.id||``).split(`#`);e.id=t,n&&(i={type:`FragmentSelector`,value:n})}return{type:`SpecificResource`,source:e,selector:i}}function P(e){let t=Object.assign({},e);return e&&e.items&&(t.items=e.items.map(e=>typeof e==`string`||e.type===`Canvas`?N(e):e)),t}function ie(e){let t=Object.assign({},e);return t.start?(t.start=N(t.start,{typeHint:`Canvas`}),t):e}function ae(e){let t=Object.assign({},e);return t.target?(t.target=x(t.target,{typeHint:`Canvas`}),t):e}function F(e){return e}function I(e){return e.items===void 0&&(e[s]=!0),e}function L(t){let r=n(t),i=C(),a={},o=T(i,r),s=O(a),c=new e({collection:[I,A(g),s(`Collection`),o(`Collection`)],manifest:[I,A(_),ie,s(`Manifest`),o(`Manifest`)],canvas:[A(h),s(`Canvas`),o(`Canvas`)],annotationPage:[I,k(`AnnotationPage`),A(m),s(`AnnotationPage`),o(`AnnotationPage`)],annotation:[k(`Annotation`),M,ae,s(`Annotation`),o(`Annotation`)],contentResource:[k(`ContentResource`),s(`ContentResource`),o(`ContentResource`)],range:[A(v),P,s(`Range`,`Canvas`),o(`Range`,`Canvas`)],agent:[A(y),s(`Agent`),o(`Agent`)],specificResource:[F],service:[ne(i)]}),l=c.traverseUnknown(r);return{entities:i,resource:l,mapping:a}}function R(e){let t={};for(let[n,r]of e){if(n===l&&r!==c)return r;r!==c&&r!=null&&(t[n]=r)}return t}function oe(e,t,n){if(!t.type||!t.id)throw Error(`Unknown entity`);if(!n[t.type])throw Error(`Serializer not found for ${t.type}`);function r(i,a,o=0){let s=n[i.type];if(!s)return c;if(o>20)throw Error(`Circular reference: `+i.id+` `+i.type);let[l,u]=p(e,i.type?i:i.id,a)||(i.id&&i.type?i:null);if(!l)return c;let d=s(l,e,{parent:a,isTopLevel:t.id===i.id,fullResource:u}),f=d.next();for(;!f.done;){let e=f.value,t=c;if(e)if(Array.isArray(e)){let n=[];for(let t of e)n.push(r(t,i,o+1));t=n}else t=r(e,i,o+1);f=d.next(t)}return f.value===c?c:R(f.value)}return r(t)}function z(e,{allowSourceString:t=!0,allowString:n=!1,allowedStringType:r}={}){let i=e=>{if(t&&e&&e.source&&typeof e.source!=`string`){let t=Object.keys(e.source);if(e.source.id&&e.source.type&&t.length===2)return{...e,source:e.source.id}}return e};if(e){if(e.source&&e.source.partOf)return i(e);let t=Object.keys(e);if(t.length===2&&e.type&&e.source||t.length===3&&e.type&&e.source&&t.indexOf(`selector`)!==-1&&!e.selector)return n&&(!r||r===e.source.type)?e.source.id:e.source.type===`ContentResource`?{type:`SpecificResource`,source:e.source.id}:e.source;if(e.selector&&!Array.isArray(e.selector)&&typeof e.selector!=`string`&&e.selector.type===`FragmentSelector`){let t=`${e.source.id}#${e.selector.value}`;return n?t:{id:t,type:e.source.type}}}return i(e)}function B(e){if(!e)return;let t=Object.keys(e);if(t.length!==0){if(t.length===1){let n=t[0];if(!n)return``;let r=(e[n]||[]).join(``);return n===`@none`||n===`none`||n===`en`?r:{"@language":n,"@value":r}}return t.map(t=>({"@language":t,"@value":(e[t]||[]).join(``)}))}}function V(e){return Array.isArray(e)?e.map(e=>V(e)):typeof e==`string`?e:e.type&&e.type===`Canvas`?e.id:e}function H(e,t=!1){if(e)return e.length>1&&!t?e:e[0]||void 0}function U(e){if(e){if(typeof e==`string`)return{"@id":e};if(`@id`in e){let t={...e};return delete t[`@type`],t}return{"@context":`http://iiif.io/api/image/2/context.json`,"@id":e.id,profile:`http://iiif.io/api/image/2/profiles/${e.profile}.json`}}}function W(e,t){return[[`@id`,e.id],[`@type`,t],[`format`,e.format],[`height`,e.height],[`width`,e.width],[`viewingDirection`,e.viewingDirection===`left-to-right`?void 0:e.viewingDirection],[`license`,e.license?e.license:void 0]]}function*G(e){let t=e.provider?yield e.provider[0]:void 0;return[[`label`,B(e.label)],[`metadata`,e.metadata&&e.metadata.length?e.metadata.map(e=>({label:B(e.label)||``,value:B(e.value)||``})):void 0],[`description`,B(e.summary)],[`thumbnail`,H(yield e.thumbnail)],[`navDate`,e.navDate],[`logo`,t?H(t.logo):void 0],[`homepage`,t?t.homepage:void 0],[`attribution`,e.requiredStatement?B(e.requiredStatement.value):void 0]]}function*K(e){let t=e.start&&e.start.type&&e.start.type===`SpecificResource`?z(e.start):e.start;return[[`seeAlso`,H(yield e.seeAlso)],[`service`,H((e.service||[]).map(U))],[`rendering`,H(yield e.rendering)],[`startCanvas`,t?t.id:void 0]]}function se(e){return e.type===`SpecificResource`}function ce(e){return e&&e.type===`FragmentSelector`}function le(e){if(e&&se(e)){let t=e.id,n=e.selector?Array.isArray(e.selector)?e.selector[0]:e.selector:void 0;return ce(n)&&(t+=`#`+n.value),t}return e?.id}const ue={Manifest:function*(e,t,{isTopLevel:n}){return[...n?[[`@context`,`http://iiif.io/api/presentation/2/context.json`]]:[],...W(e,`sc:Manifest`),...yield*G(e),...yield*K(e),[`sequences`,[{"@id":`${e.id}/sequence0`,"@type":`sc:Sequence`,canvases:yield e.items}]],[`structures`,yield e.structures]]},Canvas:function*(e){let t=yield e.items,n=t[0];return[...W(e,`sc:Canvas`),...yield*G(e),...yield*K(e),[`images`,n?[n.resources]:void 0],[`annotations`,e.annotations&&e.annotations.length?H(yield e.annotations):void 0]]},AnnotationPage:function*(e){return[...W(e,`sc:AnnotationList`),...yield*G(e),[`resources`,e.items&&e.items.length?H(yield e.items):void 0]]},Annotation:function*(e){return[[`@id`,e.id],[`@type`,`oa:Annotation`],[`motivation`,`sc:painting`],[`on`,V(e.target)],[`resource`,H(yield e.body,!0)]]},ContentResource:function*(e){switch(e.type){case`Image`:return[...W(e,`dctypes:Image`),...yield*G(e),...yield*K(e)];case`Text`:case`Dataset`:default:return[...W(e,void 0),...yield*G(e)]}},AnnotationCollection:function*(e){return[[`@id`,e.id],[`@type`,`sc:Layer`],[`label`,B(e.label)]]},Collection:function*(e){return[...W(e,`sc:Collection`),...yield*G(e),...yield*K(e),[`members`,yield*e.items]]},Range:function*(e){let t=[],n=[];if(e.items)for(let r of e.items){let i=r.type===`SpecificResource`?r.source:r;if(i){let a=yield i;t.push({"@id":le(r),"@type":i.type,label:a?a.label:void 0,within:e.id}),i.type===`Canvas`&&n.push(i.id)}}return[...W(e,`sc:Range`),...yield*G(e),...yield*K(e),[`canvases`,n.length===t.length?n:void 0],[`members`,n.length===t.length?void 0:t]]}};function q(e){return[[`id`,e.id?.startsWith(`vault://`)?void 0:e.id],[`type`,e.type],[`format`,e.format],[`profile`,e.profile],[`height`,e.height||void 0],[`width`,e.width||void 0],[`duration`,e.duration||void 0],[`viewingDirection`,e.viewingDirection===`left-to-right`?void 0:e.viewingDirection],[`behavior`,e.behavior&&e.behavior.length?e.behavior:void 0],[`timeMode`,e.timeMode],[`motivation`,Array.isArray(e.motivation)?e.motivation[0]:e.motivation],[a,c]]}function J(e){if(e===c||!e||e.length===0)return;let t=e.filter(e=>e!==c);if(t.length!==0)return t}function Y(e){if(e&&e.type&&e.type===`ImageService2`){let{id:t,type:n,profile:r,...i}=e,a=typeof r==`string`?r:Array.isArray(r)?r.find(e=>typeof e==`string`):``;return{"@id":t,"@type":n,profile:a?a.startsWith(`http`)?a:`http://iiif.io/api/image/2/${a}.json`:`http://iiif.io/api/image/2/level0.json`,...i}}return e}function X(e){if(Array.isArray(e)||(e=e?[e]:[]),!(!e||e.length===0))return e.map(Y)}function*Z(e){return[[`label`,e.label],[`metadata`,J(e.metadata)],[`summary`,e.summary],[`requiredStatement`,e.requiredStatement],[`rights`,Array.isArray(e.rights)?e.rights[0]||void 0:e.rights||void 0],[`navDate`,e.navDate],[`language`,e.language],[`thumbnail`,J(yield e.thumbnail)],[`placeholderCanvas`,yield e.placeholderCanvas],[`accompanyingCanvas`,yield e.accompanyingCanvas],[`provider`,J(yield e.provider)]]}function*Q(e,t){let n=[];for(let r of e.partOf||[]){if(r.type===`Manifest`&&t.type===`Manifest`)continue;n.push(yield r)}return[[`seeAlso`,J(yield e.seeAlso)],[`service`,J(X(e.service))],[`services`,J(X(e.services))],[`rendering`,J(yield e.rendering)],[`supplementary`,J(yield e.supplementary)],[`homepage`,J(yield e.homepage)],[`logo`,J(yield e.logo)],[`partOf`,J(n)],[`start`,e.start?z(e.start):e.start]]}const de={Manifest:function*(e,t,{isTopLevel:n}){if(!n)return[...q(e),...yield*Z(e),[`navPlace`,e.navPlace]];let r=`http://iiif.io/api/presentation/3/context.json`;return(e.navPlace||$(e))&&(r=[`http://iiif.io/api/presentation/3/context.json`,`http://iiif.io/api/extension/navplace/context.json`]),[[`@context`,e[`@context`]?e[`@context`]:r],...q(e),...yield*Z(e),...yield*Q(e),[`items`,yield e.items],[`structures`,J(yield e.structures)],[`annotations`,J(yield e.annotations)],[`navPlace`,e.navPlace]]},Canvas:function*(e,t,{parent:n}){return n&&n.type!==`Manifest`&&n.type!==`Canvas`?[[`id`,e.id]]:[...q(e),...yield*Z(e),...yield*Q(e,n),[`items`,yield e.items],[`annotations`,J(yield e.annotations)],[`navPlace`,e.navPlace]]},Agent:function*(e){return[[`id`,e.id],[`type`,`Agent`],[`label`,e.label],...yield*Q(e)]},AnnotationPage:function*(e){let t=Object.entries(e).map(([e,t])=>[e,Array.isArray(t)?J(t):t]).filter(([e,t])=>e!==`items`&&e!==`id`&&e!==a&&e!==o&&e!==s),n=yield e.items;return[[`id`,e.id?.startsWith(`vault://`)?void 0:e.id],...t,...yield*Q(e),[`items`,n.length||e[s]===!1?n:c]]},Service:function*(e){return[[l,Y(e)]]},Annotation:function*(e){let n=Object.entries(e).map(([e,t])=>e===`motivation`?[e,Array.isArray(t)?t[0]:t]:e===`target`?[e,z(t,{allowString:!0,allowSourceString:!0,allowedStringType:`Canvas`})]:[e,Array.isArray(t)?J(t):t]).filter(([e])=>e!==`body`&&e!==a&&e!==s),r;if(Array.isArray(e.body)){let n=[];for(let r of e.body)if(r&&t(r)){let e={...r};r.source.type===`Canvas`?e.source=r.source:e.source=yield r.source,n.push(z(e,{allowSourceString:!0}))}else n.push(yield r);r=n}else e.body&&t(e.body)?(r={...e.body},r.source=yield e.body.source):r=yield e.body;return[...n,...yield*Z(e),...yield*Q(e),[`body`,r.length===1?r[0]:r]]},ContentResource:function*(e){return fe([...q(e),...yield*Z(e),...yield*Q(e),[`annotations`,J(yield e.annotations)],[`items`,J(yield e.items)]],e)},AnnotationCollection:function*(e){return[[`id`,e.id],[`type`,`AnnotationCollection`],[`label`,e.label]]},Collection:function*(e,t,{isTopLevel:n}){if(n){let t=`http://iiif.io/api/presentation/3/context.json`;return(e.navPlace||$(e))&&(t=[`http://iiif.io/api/extension/navplace/context.json`,`http://iiif.io/api/presentation/3/context.json`]),[[`@context`,t],...q(e),...yield*Z(e),...yield*Q(e),[`items`,J(yield e.items)],[`navPlace`,e.navPlace]]}return[...q(e),...yield*Z(e),[`navPlace`,e.navPlace]]},Range:function*(e){let t=[];for(let n of e.items)n.type===`Range`?t.push(yield n):n&&n.type===`SpecificResource`?t.push(z(n)):t.push(n);return[...q(e),...yield*Z(e),...yield*Q(e),[`items`,t],[`annotations`,J(yield e.annotations)],[`navPlace`,e.navPlace]]}};function fe(e,t){let n=Object.keys(t),r=e.map(([e])=>e);for(let i of n){if(i===a||i===s)continue;r.indexOf(i)===-1&&t[i]!==void 0&&e.push([i,t[i]])}return e}function $(e){if(!e.items||!Array.isArray(e.items))return!1;for(let t of e.items)if(t.navPlace)return!0;return!1}export{u as EMPTY,a as HAS_PART,s as IS_EXTERNAL,o as PART_OF,c as UNSET,l as UNWRAP,i as WILDCARD,I as addFlagForExternalResource,z as compressSpecificResource,S as defaultEntities,y as emptyAgent,ee as emptyAnnotation,m as emptyAnnotationPage,h as emptyCanvas,g as emptyCollection,_ as emptyManifest,v as emptyRange,b as emptyService,f as frameResource,C as getDefaultEntities,d as isWildcard,B as languageString2to3,E as merge,D as mergeEntities,L as normalize,p as resolveIfExists,oe as serialize,ue as serializeConfigPresentation2,de as serializeConfigPresentation3,R as serializedFieldsToObject,r as toRef,F as traverseSpecificResource};
//# sourceMappingURL=presentation-3-DKf1Nh0x.js.map