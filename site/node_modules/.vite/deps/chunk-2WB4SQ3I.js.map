{
  "version": 3,
  "sources": ["../../@floating-ui/utils/dist/floating-ui.utils.mjs", "../../@floating-ui/core/dist/floating-ui.core.mjs", "../../@floating-ui/utils/dist/floating-ui.utils.dom.mjs", "../../@floating-ui/dom/dist/floating-ui.dom.mjs", "../../@vidstack/react/dev/chunks/vidstack-DUlCophs.js"],
  "sourcesContent": ["/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n", "import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n", "function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n", "import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle as getComputedStyle$1, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll) {\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Safety check: ensure the scrollbar space is reasonable in case this\n// calculation is affected by unusual styles.\n// Most scrollbars leave 15-18px of space.\nconst SCROLLBAR_MAX = 25;\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  const windowScrollbarX = getWindowScrollBarX(html);\n  // <html> `overflow: hidden` + `scrollbar-gutter: stable` reduces the\n  // visual width of the <html> but this is not considered in the size\n  // of `html.clientWidth`.\n  if (windowScrollbarX <= 0) {\n    const doc = html.ownerDocument;\n    const body = doc.body;\n    const bodyStyles = getComputedStyle(body);\n    const bodyMarginInline = doc.compatMode === 'CSS1Compat' ? parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight) || 0 : 0;\n    const clippingStableScrollbarWidth = Math.abs(html.clientWidth - body.clientWidth - bodyMarginInline);\n    if (clippingStableScrollbarWidth <= SCROLLBAR_MAX) {\n      width -= clippingStableScrollbarWidth;\n    }\n  } else if (windowScrollbarX <= SCROLLBAR_MAX) {\n    // If the <body> scrollbar is on the left, the width needs to be extended\n    // by the scrollbar amount so there isn't extra space on the right.\n    width += windowScrollbarX;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n", "\"use client\"\n\nimport * as React from 'react';\nimport { isNumber, isString, isFunction, waitTimeout, isUndefined, isArray, isNull, deferredPromise, isBoolean, listenEvent, scoped, getScope, EventsTarget, DOMEvent, State, fscreen, tick, useContext, createContext, Component, functionThrottle, isTouchEvent, setStyle, EventsController, isKeyboardClick, setAttribute, effect, isDOMNode, onDispose, untrack, functionDebounce, ViewController, signal, peek, isKeyboardEvent, isNil, createScope, camelToKebabCase, waitIdlePeriod, provideContext, animationFrameThrottle, uppercaseFirstChar, computed, prop, method, noop, ariaBool as ariaBool$1, isWriteSignal, hasProvidedContext, isObject, useState, r, wasEnterKeyPressed, isPointerEvent, isMouseEvent, kebabToCamelCase, composeRefs, useStateContext, useSignal, useSignalRecord } from './vidstack-D_bWd66h.js';\nimport { autoUpdate, computePosition, flip, shift } from '@floating-ui/dom';\n\nfunction isVideoQualitySrc(src) {\n  return !isString(src) && \"width\" in src && \"height\" in src && isNumber(src.width) && isNumber(src.height);\n}\n\nconst IS_SERVER = typeof document === \"undefined\";\n\nconst UA = IS_SERVER ? \"\" : navigator?.userAgent.toLowerCase() || \"\";\nconst IS_IOS = !IS_SERVER && /iphone|ipad|ipod|ios|crios|fxios/i.test(UA);\nconst IS_IPHONE = !IS_SERVER && /(iphone|ipod)/gi.test(navigator?.platform || \"\");\nconst IS_CHROME = !IS_SERVER && !!window.chrome;\nconst IS_SAFARI = !IS_SERVER && (!!window.safari || IS_IOS);\nfunction canOrientScreen() {\n  return canRotateScreen() && isFunction(screen.orientation.unlock);\n}\nfunction canRotateScreen() {\n  return !IS_SERVER && !isUndefined(window.screen.orientation) && !isUndefined(window.screen.orientation.lock);\n}\nfunction canPlayAudioType(audio, type) {\n  if (IS_SERVER) return false;\n  if (!audio) audio = document.createElement(\"audio\");\n  return audio.canPlayType(type).length > 0;\n}\nfunction canPlayVideoType(video, type) {\n  if (IS_SERVER) return false;\n  if (!video) video = document.createElement(\"video\");\n  return video.canPlayType(type).length > 0;\n}\nfunction canPlayHLSNatively(video) {\n  if (IS_SERVER) return false;\n  if (!video) video = document.createElement(\"video\");\n  return video.canPlayType(\"application/vnd.apple.mpegurl\").length > 0;\n}\nfunction canUsePictureInPicture(video) {\n  if (IS_SERVER) return false;\n  return !!document.pictureInPictureEnabled && !video?.disablePictureInPicture;\n}\nfunction canUseVideoPresentation(video) {\n  if (IS_SERVER) return false;\n  return isFunction(video?.webkitSupportsPresentationMode) && isFunction(video?.webkitSetPresentationMode);\n}\nasync function canChangeVolume() {\n  const video = document.createElement(\"video\");\n  video.volume = 0.5;\n  await waitTimeout(0);\n  return video.volume === 0.5;\n}\nfunction getMediaSource() {\n  return IS_SERVER ? void 0 : window?.ManagedMediaSource ?? window?.MediaSource ?? window?.WebKitMediaSource;\n}\nfunction getSourceBuffer() {\n  return IS_SERVER ? void 0 : window?.SourceBuffer ?? window?.WebKitSourceBuffer;\n}\nfunction isHLSSupported() {\n  if (IS_SERVER) return false;\n  const MediaSource = getMediaSource();\n  if (isUndefined(MediaSource)) return false;\n  const isTypeSupported = MediaSource && isFunction(MediaSource.isTypeSupported) && MediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"');\n  const SourceBuffer = getSourceBuffer();\n  const isSourceBufferValid = isUndefined(SourceBuffer) || !isUndefined(SourceBuffer.prototype) && isFunction(SourceBuffer.prototype.appendBuffer) && isFunction(SourceBuffer.prototype.remove);\n  return !!isTypeSupported && !!isSourceBufferValid;\n}\nfunction isDASHSupported() {\n  return isHLSSupported();\n}\n\nclass TimeRange {\n  #ranges;\n  get length() {\n    return this.#ranges.length;\n  }\n  constructor(start, end) {\n    if (isArray(start)) {\n      this.#ranges = start;\n    } else if (!isUndefined(start) && !isUndefined(end)) {\n      this.#ranges = [[start, end]];\n    } else {\n      this.#ranges = [];\n    }\n  }\n  start(index) {\n    throwIfEmpty(this.#ranges.length);\n    throwIfOutOfRange(\"start\", index, this.#ranges.length - 1);\n    return this.#ranges[index][0] ?? Infinity;\n  }\n  end(index) {\n    throwIfEmpty(this.#ranges.length);\n    throwIfOutOfRange(\"end\", index, this.#ranges.length - 1);\n    return this.#ranges[index][1] ?? Infinity;\n  }\n}\nfunction getTimeRangesStart(range) {\n  if (!range.length) return null;\n  let min = range.start(0);\n  for (let i = 1; i < range.length; i++) {\n    const value = range.start(i);\n    if (value < min) min = value;\n  }\n  return min;\n}\nfunction getTimeRangesEnd(range) {\n  if (!range.length) return null;\n  let max = range.end(0);\n  for (let i = 1; i < range.length; i++) {\n    const value = range.end(i);\n    if (value > max) max = value;\n  }\n  return max;\n}\nfunction throwIfEmpty(length) {\n  if (!length) throw new Error(\"`TimeRanges` object is empty.\" );\n}\nfunction throwIfOutOfRange(fnName, index, end) {\n  if (!isNumber(index) || index < 0 || index > end) {\n    throw new Error(\n      `Failed to execute '${fnName}' on 'TimeRanges': The index provided (${index}) is non-numeric or out of bounds (0-${end}).`\n    );\n  }\n}\nfunction normalizeTimeIntervals(intervals) {\n  if (intervals.length <= 1) {\n    return intervals;\n  }\n  intervals.sort((a, b) => a[0] - b[0]);\n  let normalized = [], current = intervals[0];\n  for (let i = 1; i < intervals.length; i++) {\n    const next = intervals[i];\n    if (current[1] >= next[0] - 1) {\n      current = [current[0], Math.max(current[1], next[1])];\n    } else {\n      normalized.push(current);\n      current = next;\n    }\n  }\n  normalized.push(current);\n  return normalized;\n}\nfunction updateTimeIntervals(intervals, interval, value) {\n  let start = interval[0], end = interval[1];\n  if (value < start) {\n    return [value, -1];\n  } else if (value === start) {\n    return interval;\n  } else if (start === -1) {\n    interval[0] = value;\n    return interval;\n  } else if (value > start) {\n    interval[1] = value;\n    if (end === -1) intervals.push(interval);\n  }\n  normalizeTimeIntervals(intervals);\n  return interval;\n}\n\nconst AUDIO_EXTENSIONS = /\\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx|flac)($|\\?)/i;\nconst AUDIO_TYPES = /* @__PURE__ */ new Set([\n  \"audio/mpeg\",\n  \"audio/ogg\",\n  \"audio/3gp\",\n  \"audio/mp3\",\n  \"audio/webm\",\n  \"audio/flac\",\n  \"audio/m4a\",\n  \"audio/m4b\",\n  \"audio/mp4a\",\n  \"audio/mp4\"\n]);\nconst VIDEO_EXTENSIONS = /\\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\\d+]+)?($|\\?)/i;\nconst VIDEO_TYPES = /* @__PURE__ */ new Set([\n  \"video/mp4\",\n  \"video/webm\",\n  \"video/3gp\",\n  \"video/ogg\",\n  \"video/avi\",\n  \"video/mpeg\"\n]);\nconst HLS_VIDEO_EXTENSIONS = /\\.(m3u8)($|\\?)/i;\nconst DASH_VIDEO_EXTENSIONS = /\\.(mpd)($|\\?)/i;\nconst HLS_VIDEO_TYPES = /* @__PURE__ */ new Set([\n  // Apple sanctioned\n  \"application/vnd.apple.mpegurl\",\n  // Apple sanctioned for backwards compatibility\n  \"audio/mpegurl\",\n  // Very common\n  \"audio/x-mpegurl\",\n  // Very common\n  \"application/x-mpegurl\",\n  // Included for completeness\n  \"video/x-mpegurl\",\n  \"video/mpegurl\",\n  \"application/mpegurl\"\n]);\nconst DASH_VIDEO_TYPES = /* @__PURE__ */ new Set([\"application/dash+xml\"]);\nfunction isAudioSrc({ src, type }) {\n  return isString(src) ? AUDIO_EXTENSIONS.test(src) || AUDIO_TYPES.has(type) || src.startsWith(\"blob:\") && type === \"audio/object\" : type === \"audio/object\";\n}\nfunction isVideoSrc(src) {\n  return isString(src.src) ? VIDEO_EXTENSIONS.test(src.src) || VIDEO_TYPES.has(src.type) || src.src.startsWith(\"blob:\") && src.type === \"video/object\" || isHLSSrc(src) && (IS_SERVER || canPlayHLSNatively()) : src.type === \"video/object\";\n}\nfunction isHLSSrc({ src, type }) {\n  return isString(src) && HLS_VIDEO_EXTENSIONS.test(src) || HLS_VIDEO_TYPES.has(type);\n}\nfunction isDASHSrc({ src, type }) {\n  return isString(src) && DASH_VIDEO_EXTENSIONS.test(src) || DASH_VIDEO_TYPES.has(type);\n}\nfunction canGoogleCastSrc(src) {\n  return isString(src.src) && (isAudioSrc(src) || isVideoSrc(src) || isHLSSrc(src));\n}\nfunction isMediaStream(src) {\n  return !IS_SERVER && typeof window.MediaStream !== \"undefined\" && src instanceof window.MediaStream;\n}\n\nfunction appendParamsToURL(baseUrl, params) {\n  const url = new URL(baseUrl);\n  for (const key of Object.keys(params)) {\n    url.searchParams.set(key, params[key] + \"\");\n  }\n  return url.toString();\n}\nfunction preconnect(url, rel = \"preconnect\") {\n  if (IS_SERVER) return false;\n  const exists = document.querySelector(`link[href=\"${url}\"]`);\n  if (!isNull(exists)) return true;\n  const link = document.createElement(\"link\");\n  link.rel = rel;\n  link.href = url;\n  link.crossOrigin = \"true\";\n  document.head.append(link);\n  return true;\n}\nconst pendingRequests = {};\nfunction loadScript(src) {\n  if (pendingRequests[src]) return pendingRequests[src].promise;\n  const promise = deferredPromise(), exists = document.querySelector(`script[src=\"${src}\"]`);\n  if (!isNull(exists)) {\n    promise.resolve();\n    return promise.promise;\n  }\n  pendingRequests[src] = promise;\n  const script = document.createElement(\"script\");\n  script.src = src;\n  script.onload = () => {\n    promise.resolve();\n    delete pendingRequests[src];\n  };\n  script.onerror = () => {\n    promise.reject();\n    delete pendingRequests[src];\n  };\n  setTimeout(() => document.head.append(script), 0);\n  return promise.promise;\n}\nfunction getRequestCredentials(crossOrigin) {\n  return crossOrigin === \"use-credentials\" ? \"include\" : isString(crossOrigin) ? \"same-origin\" : void 0;\n}\nfunction getDownloadFile({\n  title,\n  src,\n  download\n}) {\n  const url = isBoolean(download) || download === \"\" ? src.src : isString(download) ? download : download?.url;\n  if (!isValidFileDownload({ url, src, download })) return null;\n  return {\n    url,\n    name: !isBoolean(download) && !isString(download) && download?.filename || title.toLowerCase() || \"media\"\n  };\n}\nfunction isValidFileDownload({\n  url,\n  src,\n  download\n}) {\n  return isString(url) && (download && download !== true || isAudioSrc(src) || isVideoSrc(src));\n}\n\nconst CROSS_ORIGIN = Symbol(\"TEXT_TRACK_CROSS_ORIGIN\" ), READY_STATE = Symbol(\"TEXT_TRACK_READY_STATE\" ), UPDATE_ACTIVE_CUES = Symbol(\"TEXT_TRACK_UPDATE_ACTIVE_CUES\" ), CAN_LOAD = Symbol(\"TEXT_TRACK_CAN_LOAD\" ), ON_MODE_CHANGE = Symbol(\"TEXT_TRACK_ON_MODE_CHANGE\" ), NATIVE = Symbol(\"TEXT_TRACK_NATIVE\" ), NATIVE_HLS = Symbol(\"TEXT_TRACK_NATIVE_HLS\" );\nconst TextTrackSymbol = {\n  crossOrigin: CROSS_ORIGIN,\n  readyState: READY_STATE,\n  updateActiveCues: UPDATE_ACTIVE_CUES,\n  canLoad: CAN_LOAD,\n  onModeChange: ON_MODE_CHANGE,\n  native: NATIVE,\n  nativeHLS: NATIVE_HLS\n};\n\nfunction findActiveCue(cues, time) {\n  for (let i = 0, len = cues.length; i < len; i++) {\n    if (isCueActive(cues[i], time)) return cues[i];\n  }\n  return null;\n}\nfunction isCueActive(cue, time) {\n  return time >= cue.startTime && time < cue.endTime;\n}\nfunction watchActiveTextTrack(tracks, kind, onChange) {\n  let currentTrack = null, scope = getScope();\n  function onModeChange() {\n    const kinds = isString(kind) ? [kind] : kind, track = tracks.toArray().find((track2) => kinds.includes(track2.kind) && track2.mode === \"showing\");\n    if (track === currentTrack) return;\n    if (!track) {\n      onChange(null);\n      currentTrack = null;\n      return;\n    }\n    if (track.readyState == 2) {\n      onChange(track);\n    } else {\n      onChange(null);\n      scoped(() => {\n        const off = listenEvent(\n          track,\n          \"load\",\n          () => {\n            onChange(track);\n            off();\n          },\n          { once: true }\n        );\n      }, scope);\n    }\n    currentTrack = track;\n  }\n  onModeChange();\n  return listenEvent(tracks, \"mode-change\", onModeChange);\n}\nfunction watchCueTextChange(tracks, kind, callback) {\n  watchActiveTextTrack(tracks, kind, (track) => {\n    if (!track) {\n      callback(\"\");\n      return;\n    }\n    const onCueChange = () => {\n      const activeCue = track?.activeCues[0];\n      callback(activeCue?.text || \"\");\n    };\n    onCueChange();\n    listenEvent(track, \"cue-change\", onCueChange);\n  });\n}\n\nclass TextTrack extends EventsTarget {\n  static createId(track) {\n    return `vds-${track.type}-${track.kind}-${track.src ?? track.label ?? \"?\"}`;\n  }\n  src;\n  content;\n  type;\n  encoding;\n  id = \"\";\n  label = \"\";\n  language = \"\";\n  kind;\n  default = false;\n  #canLoad = false;\n  #currentTime = 0;\n  #mode = \"disabled\";\n  #metadata = {};\n  #regions = [];\n  #cues = [];\n  #activeCues = [];\n  /** @internal */\n  [TextTrackSymbol.readyState] = 0;\n  /** @internal */\n  [TextTrackSymbol.crossOrigin];\n  /** @internal */\n  [TextTrackSymbol.onModeChange] = null;\n  /** @internal */\n  [TextTrackSymbol.native] = null;\n  get metadata() {\n    return this.#metadata;\n  }\n  get regions() {\n    return this.#regions;\n  }\n  get cues() {\n    return this.#cues;\n  }\n  get activeCues() {\n    return this.#activeCues;\n  }\n  /**\n   * - 0: Not Loading\n   * - 1: Loading\n   * - 2: Ready\n   * - 3: Error\n   */\n  get readyState() {\n    return this[TextTrackSymbol.readyState];\n  }\n  get mode() {\n    return this.#mode;\n  }\n  set mode(mode) {\n    this.setMode(mode);\n  }\n  constructor(init) {\n    super();\n    for (const prop of Object.keys(init)) this[prop] = init[prop];\n    if (!this.type) this.type = \"vtt\";\n    if (!IS_SERVER && init.content) {\n      this.#parseContent(init);\n    } else if (!init.src) {\n      this[TextTrackSymbol.readyState] = 2;\n    }\n    if (isTrackCaptionKind(this) && !this.label) {\n      console.warn(`[vidstack] captions text track created without label: \\`${this.src}\\``);\n    }\n  }\n  addCue(cue, trigger) {\n    let i = 0, length = this.#cues.length;\n    for (i = 0; i < length; i++) if (cue.endTime <= this.#cues[i].startTime) break;\n    if (i === length) this.#cues.push(cue);\n    else this.#cues.splice(i, 0, cue);\n    if (!(cue instanceof TextTrackCue)) {\n      this[TextTrackSymbol.native]?.track.addCue(cue);\n    }\n    this.dispatchEvent(new DOMEvent(\"add-cue\", { detail: cue, trigger }));\n    if (isCueActive(cue, this.#currentTime)) {\n      this[TextTrackSymbol.updateActiveCues](this.#currentTime, trigger);\n    }\n  }\n  removeCue(cue, trigger) {\n    const index = this.#cues.indexOf(cue);\n    if (index >= 0) {\n      const isActive = this.#activeCues.includes(cue);\n      this.#cues.splice(index, 1);\n      this[TextTrackSymbol.native]?.track.removeCue(cue);\n      this.dispatchEvent(new DOMEvent(\"remove-cue\", { detail: cue, trigger }));\n      if (isActive) {\n        this[TextTrackSymbol.updateActiveCues](this.#currentTime, trigger);\n      }\n    }\n  }\n  setMode(mode, trigger) {\n    if (this.#mode === mode) return;\n    this.#mode = mode;\n    if (mode === \"disabled\") {\n      this.#activeCues = [];\n      this.#activeCuesChanged();\n    } else if (this.readyState === 2) {\n      this[TextTrackSymbol.updateActiveCues](this.#currentTime, trigger);\n    } else {\n      this.#load();\n    }\n    this.dispatchEvent(new DOMEvent(\"mode-change\", { detail: this, trigger }));\n    this[TextTrackSymbol.onModeChange]?.();\n  }\n  /** @internal */\n  [TextTrackSymbol.updateActiveCues](currentTime, trigger) {\n    this.#currentTime = currentTime;\n    if (this.mode === \"disabled\" || !this.#cues.length) return;\n    const activeCues = [];\n    for (let i = 0, length = this.#cues.length; i < length; i++) {\n      const cue = this.#cues[i];\n      if (isCueActive(cue, currentTime)) activeCues.push(cue);\n    }\n    let changed = activeCues.length !== this.#activeCues.length;\n    if (!changed) {\n      for (let i = 0; i < activeCues.length; i++) {\n        if (!this.#activeCues.includes(activeCues[i])) {\n          changed = true;\n          break;\n        }\n      }\n    }\n    this.#activeCues = activeCues;\n    if (changed) this.#activeCuesChanged(trigger);\n  }\n  /** @internal */\n  [TextTrackSymbol.canLoad]() {\n    this.#canLoad = true;\n    if (this.#mode !== \"disabled\") this.#load();\n  }\n  #parseContent(init) {\n    import('media-captions').then(({ parseText, VTTCue, VTTRegion }) => {\n      if (!isString(init.content) || init.type === \"json\") {\n        this.#parseJSON(init.content, VTTCue, VTTRegion);\n        if (this.readyState !== 3) this.#ready();\n      } else {\n        parseText(init.content, { type: init.type }).then(({ cues, regions }) => {\n          this.#cues = cues;\n          this.#regions = regions;\n          this.#ready();\n        });\n      }\n    });\n  }\n  async #load() {\n    if (!this.#canLoad || this[TextTrackSymbol.readyState] > 0) return;\n    this[TextTrackSymbol.readyState] = 1;\n    this.dispatchEvent(new DOMEvent(\"load-start\"));\n    if (!this.src) {\n      this.#ready();\n      return;\n    }\n    try {\n      const { parseResponse, VTTCue, VTTRegion } = await import('media-captions'), crossOrigin = this[TextTrackSymbol.crossOrigin]?.();\n      const response = fetch(this.src, {\n        headers: this.type === \"json\" ? { \"Content-Type\": \"application/json\" } : void 0,\n        credentials: getRequestCredentials(crossOrigin)\n      });\n      if (this.type === \"json\") {\n        this.#parseJSON(await (await response).text(), VTTCue, VTTRegion);\n      } else {\n        const { errors, metadata, regions, cues } = await parseResponse(response, {\n          type: this.type,\n          encoding: this.encoding\n        });\n        if (errors[0]?.code === 0) {\n          throw errors[0];\n        } else {\n          this.#metadata = metadata;\n          this.#regions = regions;\n          this.#cues = cues;\n        }\n      }\n      this.#ready();\n    } catch (error) {\n      this.#error(error);\n    }\n  }\n  #ready() {\n    this[TextTrackSymbol.readyState] = 2;\n    if (!this.src || this.type !== \"vtt\") {\n      const native = this[TextTrackSymbol.native];\n      if (native && !native.managed) {\n        for (const cue of this.#cues) native.track.addCue(cue);\n      }\n    }\n    const loadEvent = new DOMEvent(\"load\");\n    this[TextTrackSymbol.updateActiveCues](this.#currentTime, loadEvent);\n    this.dispatchEvent(loadEvent);\n  }\n  #error(error) {\n    this[TextTrackSymbol.readyState] = 3;\n    this.dispatchEvent(new DOMEvent(\"error\", { detail: error }));\n  }\n  #parseJSON(json, VTTCue, VTTRegion) {\n    try {\n      const { regions, cues } = parseJSONCaptionsFile(json, VTTCue, VTTRegion);\n      this.#regions = regions;\n      this.#cues = cues;\n    } catch (error) {\n      {\n        console.error(`[vidstack] failed to parse JSON captions at: \\`${this.src}\\`\n\n`, error);\n      }\n      this.#error(error);\n    }\n  }\n  #activeCuesChanged(trigger) {\n    this.dispatchEvent(new DOMEvent(\"cue-change\", { trigger }));\n  }\n}\nconst captionRE = /captions|subtitles/;\nfunction isTrackCaptionKind(track) {\n  return captionRE.test(track.kind);\n}\nfunction parseJSONCaptionsFile(json, Cue, Region) {\n  const content = isString(json) ? JSON.parse(json) : json;\n  let regions = [], cues = [];\n  if (content.regions && Region) {\n    regions = content.regions.map((region) => Object.assign(new Region(), region));\n  }\n  if (content.cues || isArray(content)) {\n    cues = (isArray(content) ? content : content.cues).filter((content2) => isNumber(content2.startTime) && isNumber(content2.endTime)).map((cue) => Object.assign(new Cue(0, 0, \"\"), cue));\n  }\n  return { regions, cues };\n}\n\nconst mediaState = new State({\n  artist: \"\",\n  artwork: null,\n  audioTrack: null,\n  audioTracks: [],\n  autoPlay: false,\n  autoPlayError: null,\n  audioGain: null,\n  buffered: new TimeRange(),\n  canLoad: false,\n  canLoadPoster: false,\n  canFullscreen: false,\n  canOrientScreen: canOrientScreen(),\n  canPictureInPicture: false,\n  canPlay: false,\n  clipStartTime: 0,\n  clipEndTime: 0,\n  controls: false,\n  get iOSControls() {\n    return IS_IPHONE && this.mediaType === \"video\" && (!this.playsInline || !fscreen.fullscreenEnabled && this.fullscreen);\n  },\n  get nativeControls() {\n    return this.controls || this.iOSControls;\n  },\n  controlsVisible: false,\n  get controlsHidden() {\n    return !this.controlsVisible;\n  },\n  crossOrigin: null,\n  ended: false,\n  error: null,\n  fullscreen: false,\n  get loop() {\n    return this.providedLoop || this.userPrefersLoop;\n  },\n  logLevel: \"warn\" ,\n  mediaType: \"unknown\",\n  muted: false,\n  paused: true,\n  played: new TimeRange(),\n  playing: false,\n  playsInline: false,\n  pictureInPicture: false,\n  preload: \"metadata\",\n  playbackRate: 1,\n  qualities: [],\n  quality: null,\n  autoQuality: false,\n  canSetQuality: true,\n  canSetPlaybackRate: true,\n  canSetVolume: false,\n  canSetAudioGain: false,\n  seekable: new TimeRange(),\n  seeking: false,\n  source: { src: \"\", type: \"\" },\n  sources: [],\n  started: false,\n  textTracks: [],\n  textTrack: null,\n  get hasCaptions() {\n    return this.textTracks.filter(isTrackCaptionKind).length > 0;\n  },\n  volume: 1,\n  waiting: false,\n  realCurrentTime: 0,\n  get currentTime() {\n    return this.ended ? this.duration : this.clipStartTime > 0 ? Math.max(0, Math.min(this.realCurrentTime - this.clipStartTime, this.duration)) : this.realCurrentTime;\n  },\n  providedDuration: -1,\n  intrinsicDuration: 0,\n  get duration() {\n    return this.seekableWindow;\n  },\n  get title() {\n    return this.providedTitle || this.inferredTitle;\n  },\n  get poster() {\n    return this.providedPoster || this.inferredPoster;\n  },\n  get viewType() {\n    return this.providedViewType !== \"unknown\" ? this.providedViewType : this.inferredViewType;\n  },\n  get streamType() {\n    return this.providedStreamType !== \"unknown\" ? this.providedStreamType : this.inferredStreamType;\n  },\n  get currentSrc() {\n    return this.source;\n  },\n  get bufferedStart() {\n    const start = getTimeRangesStart(this.buffered) ?? 0;\n    return Math.max(start, this.clipStartTime);\n  },\n  get bufferedEnd() {\n    const end = getTimeRangesEnd(this.buffered) ?? 0;\n    return Math.min(this.seekableEnd, Math.max(0, end - this.clipStartTime));\n  },\n  get bufferedWindow() {\n    return Math.max(0, this.bufferedEnd - this.bufferedStart);\n  },\n  get seekableStart() {\n    if (this.isLiveDVR && this.liveDVRWindow > 0) {\n      return Math.max(0, this.seekableEnd - this.liveDVRWindow);\n    }\n    const start = getTimeRangesStart(this.seekable) ?? 0;\n    return Math.max(start, this.clipStartTime);\n  },\n  get seekableEnd() {\n    if (this.providedDuration > 0) return this.providedDuration;\n    const end = this.liveSyncPosition > 0 ? this.liveSyncPosition : this.canPlay ? getTimeRangesEnd(this.seekable) ?? Infinity : 0;\n    return this.clipEndTime > 0 ? Math.min(this.clipEndTime, end) : end;\n  },\n  get seekableWindow() {\n    const window = this.seekableEnd - this.seekableStart;\n    return !isNaN(window) ? Math.max(0, window) : Infinity;\n  },\n  // ~~ remote playback ~~\n  canAirPlay: false,\n  canGoogleCast: false,\n  remotePlaybackState: \"disconnected\",\n  remotePlaybackType: \"none\",\n  remotePlaybackLoader: null,\n  remotePlaybackInfo: null,\n  get isAirPlayConnected() {\n    return this.remotePlaybackType === \"airplay\" && this.remotePlaybackState === \"connected\";\n  },\n  get isGoogleCastConnected() {\n    return this.remotePlaybackType === \"google-cast\" && this.remotePlaybackState === \"connected\";\n  },\n  // ~~ responsive design ~~\n  pointer: \"fine\",\n  orientation: \"landscape\",\n  width: 0,\n  height: 0,\n  mediaWidth: 0,\n  mediaHeight: 0,\n  lastKeyboardAction: null,\n  // ~~ user props ~~\n  userBehindLiveEdge: false,\n  // ~~ live props ~~\n  liveEdgeTolerance: 10,\n  minLiveDVRWindow: 60,\n  get canSeek() {\n    return /unknown|on-demand|:dvr/.test(this.streamType) && Number.isFinite(this.duration) && (!this.isLiveDVR || this.duration >= this.liveDVRWindow);\n  },\n  get live() {\n    return this.streamType.includes(\"live\") || !Number.isFinite(this.duration);\n  },\n  get liveEdgeStart() {\n    return this.live && Number.isFinite(this.seekableEnd) ? Math.max(0, this.seekableEnd - this.liveEdgeTolerance) : 0;\n  },\n  get liveEdge() {\n    return this.live && (!this.canSeek || !this.userBehindLiveEdge && this.currentTime >= this.liveEdgeStart);\n  },\n  get liveEdgeWindow() {\n    return this.live && Number.isFinite(this.seekableEnd) ? this.seekableEnd - this.liveEdgeStart : 0;\n  },\n  get isLiveDVR() {\n    return /:dvr/.test(this.streamType);\n  },\n  get liveDVRWindow() {\n    return Math.max(this.inferredLiveDVRWindow, this.minLiveDVRWindow);\n  },\n  // ~~ internal props ~~\n  autoPlaying: false,\n  providedTitle: \"\",\n  inferredTitle: \"\",\n  providedLoop: false,\n  userPrefersLoop: false,\n  providedPoster: \"\",\n  inferredPoster: \"\",\n  inferredViewType: \"unknown\",\n  providedViewType: \"unknown\",\n  providedStreamType: \"unknown\",\n  inferredStreamType: \"unknown\",\n  liveSyncPosition: null,\n  inferredLiveDVRWindow: 0,\n  savedState: null\n});\nconst RESET_ON_SRC_QUALITY_CHANGE = /* @__PURE__ */ new Set([\n  \"autoPlayError\",\n  \"autoPlaying\",\n  \"buffered\",\n  \"canPlay\",\n  \"error\",\n  \"paused\",\n  \"played\",\n  \"playing\",\n  \"seekable\",\n  \"seeking\",\n  \"waiting\"\n]);\nconst RESET_ON_SRC_CHANGE = /* @__PURE__ */ new Set([\n  ...RESET_ON_SRC_QUALITY_CHANGE,\n  \"ended\",\n  \"inferredPoster\",\n  \"inferredStreamType\",\n  \"inferredTitle\",\n  \"intrinsicDuration\",\n  \"inferredLiveDVRWindow\",\n  \"liveSyncPosition\",\n  \"realCurrentTime\",\n  \"savedState\",\n  \"started\",\n  \"userBehindLiveEdge\"\n]);\nfunction softResetMediaState($media, isSourceQualityChange = false) {\n  const filter = isSourceQualityChange ? RESET_ON_SRC_QUALITY_CHANGE : RESET_ON_SRC_CHANGE;\n  mediaState.reset($media, (prop) => filter.has(prop));\n  tick();\n}\nfunction boundTime(time, store) {\n  const clippedTime = time + store.clipStartTime(), isStart = Math.floor(time) === Math.floor(store.seekableStart()), isEnd = Math.floor(clippedTime) === Math.floor(store.seekableEnd());\n  if (isStart) {\n    return store.seekableStart();\n  }\n  if (isEnd) {\n    return store.seekableEnd();\n  }\n  if (store.isLiveDVR() && store.liveDVRWindow() > 0 && clippedTime < store.seekableEnd() - store.liveDVRWindow()) {\n    return store.bufferedStart();\n  }\n  return Math.min(Math.max(store.seekableStart() + 0.1, clippedTime), store.seekableEnd() - 0.1);\n}\n\nconst mediaContext = createContext();\nfunction useMediaContext() {\n  return useContext(mediaContext);\n}\n\nconst GROUPED_LOG = Symbol(\"GROUPED_LOG\" );\nclass GroupedLog {\n  constructor(logger, level, title, root, parent) {\n    this.logger = logger;\n    this.level = level;\n    this.title = title;\n    this.root = root;\n    this.parent = parent;\n  }\n  [GROUPED_LOG] = true;\n  logs = [];\n  log(...data) {\n    this.logs.push({ data });\n    return this;\n  }\n  labelledLog(label, ...data) {\n    this.logs.push({ label, data });\n    return this;\n  }\n  groupStart(title) {\n    return new GroupedLog(this.logger, this.level, title, this.root ?? this, this);\n  }\n  groupEnd() {\n    this.parent?.logs.push(this);\n    return this.parent ?? this;\n  }\n  dispatch() {\n    return this.logger.dispatch(this.level, this.root ?? this);\n  }\n}\nfunction isGroupedLog(data) {\n  return !!data?.[GROUPED_LOG];\n}\n\nclass Logger {\n  #target = null;\n  error(...data) {\n    return this.dispatch(\"error\", ...data);\n  }\n  warn(...data) {\n    return this.dispatch(\"warn\", ...data);\n  }\n  info(...data) {\n    return this.dispatch(\"info\", ...data);\n  }\n  debug(...data) {\n    return this.dispatch(\"debug\", ...data);\n  }\n  errorGroup(title) {\n    return new GroupedLog(this, \"error\", title);\n  }\n  warnGroup(title) {\n    return new GroupedLog(this, \"warn\", title);\n  }\n  infoGroup(title) {\n    return new GroupedLog(this, \"info\", title);\n  }\n  debugGroup(title) {\n    return new GroupedLog(this, \"debug\", title);\n  }\n  setTarget(newTarget) {\n    this.#target = newTarget;\n  }\n  dispatch(level, ...data) {\n    return this.#target?.dispatchEvent(\n      new DOMEvent(\"vds-log\", {\n        bubbles: true,\n        composed: true,\n        detail: { level, data }\n      })\n    ) || false;\n  }\n}\n\nclass MediaRemoteControl {\n  #target = null;\n  #player = null;\n  #prevTrackIndex = -1;\n  #logger;\n  constructor(logger = new Logger() ) {\n    this.#logger = logger;\n  }\n  /**\n   * Set the target from which to dispatch media requests events from. The events should bubble\n   * up from this target to the player element.\n   *\n   * @example\n   * ```ts\n   * const button = document.querySelector('button');\n   * remote.setTarget(button);\n   * ```\n   */\n  setTarget(target) {\n    this.#target = target;\n    this.#logger?.setTarget(target);\n  }\n  /**\n   * Returns the current player element. This method will attempt to find the player by\n   * searching up from either the given `target` or default target set via `remote.setTarget`.\n   *\n   * @example\n   * ```ts\n   * const player = remote.getPlayer();\n   * ```\n   */\n  getPlayer(target) {\n    if (this.#player) return this.#player;\n    (target ?? this.#target)?.dispatchEvent(\n      new DOMEvent(\"find-media-player\", {\n        detail: (player) => void (this.#player = player),\n        bubbles: true,\n        composed: true\n      })\n    );\n    return this.#player;\n  }\n  /**\n   * Set the current player element so the remote can support toggle methods such as\n   * `togglePaused` as they rely on the current media state.\n   */\n  setPlayer(player) {\n    this.#player = player;\n  }\n  /**\n   * Dispatch a request to start the media loading process. This will only work if the media\n   * player has been initialized with a custom loading strategy `load=\"custom\">`.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/core-concepts/loading#load-strategies}\n   */\n  startLoading(trigger) {\n    this.#dispatchRequest(\"media-start-loading\", trigger);\n  }\n  /**\n   * Dispatch a request to start the poster loading process. This will only work if the media\n   * player has been initialized with a custom poster loading strategy `posterLoad=\"custom\">`.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/core-concepts/loading#load-strategies}\n   */\n  startLoadingPoster(trigger) {\n    this.#dispatchRequest(\"media-poster-start-loading\", trigger);\n  }\n  /**\n   * Dispatch a request to connect to AirPlay.\n   *\n   * @see {@link https://www.apple.com/au/airplay}\n   */\n  requestAirPlay(trigger) {\n    this.#dispatchRequest(\"media-airplay-request\", trigger);\n  }\n  /**\n   * Dispatch a request to connect to Google Cast.\n   *\n   * @see {@link https://developers.google.com/cast/docs/overview}\n   */\n  requestGoogleCast(trigger) {\n    this.#dispatchRequest(\"media-google-cast-request\", trigger);\n  }\n  /**\n   * Dispatch a request to begin/resume media playback.\n   */\n  play(trigger) {\n    this.#dispatchRequest(\"media-play-request\", trigger);\n  }\n  /**\n   * Dispatch a request to pause media playback.\n   */\n  pause(trigger) {\n    this.#dispatchRequest(\"media-pause-request\", trigger);\n  }\n  /**\n   * Dispatch a request to set the media volume to mute (0).\n   */\n  mute(trigger) {\n    this.#dispatchRequest(\"media-mute-request\", trigger);\n  }\n  /**\n   * Dispatch a request to unmute the media volume and set it back to it's previous state.\n   */\n  unmute(trigger) {\n    this.#dispatchRequest(\"media-unmute-request\", trigger);\n  }\n  /**\n   * Dispatch a request to enter fullscreen.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/api/fullscreen#remote-control}\n   */\n  enterFullscreen(target, trigger) {\n    this.#dispatchRequest(\"media-enter-fullscreen-request\", trigger, target);\n  }\n  /**\n   * Dispatch a request to exit fullscreen.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/api/fullscreen#remote-control}\n   */\n  exitFullscreen(target, trigger) {\n    this.#dispatchRequest(\"media-exit-fullscreen-request\", trigger, target);\n  }\n  /**\n   * Dispatch a request to lock the screen orientation.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/screen-orientation#remote-control}\n   */\n  lockScreenOrientation(lockType, trigger) {\n    this.#dispatchRequest(\"media-orientation-lock-request\", trigger, lockType);\n  }\n  /**\n   * Dispatch a request to unlock the screen orientation.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/api/screen-orientation#remote-control}\n   */\n  unlockScreenOrientation(trigger) {\n    this.#dispatchRequest(\"media-orientation-unlock-request\", trigger);\n  }\n  /**\n   * Dispatch a request to enter picture-in-picture mode.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/api/picture-in-picture#remote-control}\n   */\n  enterPictureInPicture(trigger) {\n    this.#dispatchRequest(\"media-enter-pip-request\", trigger);\n  }\n  /**\n   * Dispatch a request to exit picture-in-picture mode.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/api/picture-in-picture#remote-control}\n   */\n  exitPictureInPicture(trigger) {\n    this.#dispatchRequest(\"media-exit-pip-request\", trigger);\n  }\n  /**\n   * Notify the media player that a seeking process is happening and to seek to the given `time`.\n   */\n  seeking(time, trigger) {\n    this.#dispatchRequest(\"media-seeking-request\", trigger, time);\n  }\n  /**\n   * Notify the media player that a seeking operation has completed and to seek to the given `time`.\n   * This is generally called after a series of `remote.seeking()` calls.\n   */\n  seek(time, trigger) {\n    this.#dispatchRequest(\"media-seek-request\", trigger, time);\n  }\n  seekToLiveEdge(trigger) {\n    this.#dispatchRequest(\"media-live-edge-request\", trigger);\n  }\n  /**\n   * Dispatch a request to update the length of the media in seconds.\n   *\n   * @example\n   * ```ts\n   * remote.changeDuration(100); // 100 seconds\n   * ```\n   */\n  changeDuration(duration, trigger) {\n    this.#dispatchRequest(\"media-duration-change-request\", trigger, duration);\n  }\n  /**\n   * Dispatch a request to update the clip start time. This is the time at which media playback\n   * should start at.\n   *\n   * @example\n   * ```ts\n   * remote.changeClipStart(100); // start at 100 seconds\n   * ```\n   */\n  changeClipStart(startTime, trigger) {\n    this.#dispatchRequest(\"media-clip-start-change-request\", trigger, startTime);\n  }\n  /**\n   * Dispatch a request to update the clip end time. This is the time at which media playback\n   * should end at.\n   *\n   * @example\n   * ```ts\n   * remote.changeClipEnd(100); // end at 100 seconds\n   * ```\n   */\n  changeClipEnd(endTime, trigger) {\n    this.#dispatchRequest(\"media-clip-end-change-request\", trigger, endTime);\n  }\n  /**\n   * Dispatch a request to update the media volume to the given `volume` level which is a value\n   * between 0 and 1.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/api/audio-gain#remote-control}\n   * @example\n   * ```ts\n   * remote.changeVolume(0); // 0%\n   * remote.changeVolume(0.05); // 5%\n   * remote.changeVolume(0.5); // 50%\n   * remote.changeVolume(0.75); // 70%\n   * remote.changeVolume(1); // 100%\n   * ```\n   */\n  changeVolume(volume, trigger) {\n    this.#dispatchRequest(\"media-volume-change-request\", trigger, Math.max(0, Math.min(1, volume)));\n  }\n  /**\n   * Dispatch a request to change the current audio track.\n   *\n   * @example\n   * ```ts\n   * remote.changeAudioTrack(1); // track at index 1\n   * ```\n   */\n  changeAudioTrack(index, trigger) {\n    this.#dispatchRequest(\"media-audio-track-change-request\", trigger, index);\n  }\n  /**\n   * Dispatch a request to change the video quality. The special value `-1` represents auto quality\n   * selection.\n   *\n   * @example\n   * ```ts\n   * remote.changeQuality(-1); // auto\n   * remote.changeQuality(1); // quality at index 1\n   * ```\n   */\n  changeQuality(index, trigger) {\n    this.#dispatchRequest(\"media-quality-change-request\", trigger, index);\n  }\n  /**\n   * Request auto quality selection.\n   */\n  requestAutoQuality(trigger) {\n    this.changeQuality(-1, trigger);\n  }\n  /**\n   * Dispatch a request to change the mode of the text track at the given index.\n   *\n   * @example\n   * ```ts\n   * remote.changeTextTrackMode(1, 'showing'); // track at index 1\n   * ```\n   */\n  changeTextTrackMode(index, mode, trigger) {\n    this.#dispatchRequest(\"media-text-track-change-request\", trigger, {\n      index,\n      mode\n    });\n  }\n  /**\n   * Dispatch a request to change the media playback rate.\n   *\n   * @example\n   * ```ts\n   * remote.changePlaybackRate(0.5); // Half the normal speed\n   * remote.changePlaybackRate(1); // Normal speed\n   * remote.changePlaybackRate(1.5); // 50% faster than normal\n   * remote.changePlaybackRate(2); // Double the normal speed\n   * ```\n   */\n  changePlaybackRate(rate, trigger) {\n    this.#dispatchRequest(\"media-rate-change-request\", trigger, rate);\n  }\n  /**\n   * Dispatch a request to change the media audio gain.\n   *\n   * @example\n   * ```ts\n   * remote.changeAudioGain(1); // Disable audio gain\n   * remote.changeAudioGain(1.5); // 50% louder\n   * remote.changeAudioGain(2); // 100% louder\n   * ```\n   */\n  changeAudioGain(gain, trigger) {\n    this.#dispatchRequest(\"media-audio-gain-change-request\", trigger, gain);\n  }\n  /**\n   * Dispatch a request to resume idle tracking on controls.\n   */\n  resumeControls(trigger) {\n    this.#dispatchRequest(\"media-resume-controls-request\", trigger);\n  }\n  /**\n   * Dispatch a request to pause controls idle tracking. Pausing tracking will result in the\n   * controls being visible until `remote.resumeControls()` is called. This method\n   * is generally used when building custom controls and you'd like to prevent the UI from\n   * disappearing.\n   *\n   * @example\n   * ```ts\n   * // Prevent controls hiding while menu is being interacted with.\n   * function onSettingsOpen() {\n   *   remote.pauseControls();\n   * }\n   *\n   * function onSettingsClose() {\n   *   remote.resumeControls();\n   * }\n   * ```\n   */\n  pauseControls(trigger) {\n    this.#dispatchRequest(\"media-pause-controls-request\", trigger);\n  }\n  /**\n   * Dispatch a request to toggle the media playback state.\n   */\n  togglePaused(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this.#noPlayerWarning(this.togglePaused.name);\n      return;\n    }\n    if (player.state.paused) this.play(trigger);\n    else this.pause(trigger);\n  }\n  /**\n   * Dispatch a request to toggle the controls visibility.\n   */\n  toggleControls(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this.#noPlayerWarning(this.toggleControls.name);\n      return;\n    }\n    if (!player.controls.showing) {\n      player.controls.show(0, trigger);\n    } else {\n      player.controls.hide(0, trigger);\n    }\n  }\n  /**\n   * Dispatch a request to toggle the media muted state.\n   */\n  toggleMuted(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this.#noPlayerWarning(this.toggleMuted.name);\n      return;\n    }\n    if (player.state.muted) this.unmute(trigger);\n    else this.mute(trigger);\n  }\n  /**\n   * Dispatch a request to toggle the media fullscreen state.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/api/fullscreen#remote-control}\n   */\n  toggleFullscreen(target, trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this.#noPlayerWarning(this.toggleFullscreen.name);\n      return;\n    }\n    if (player.state.fullscreen) this.exitFullscreen(target, trigger);\n    else this.enterFullscreen(target, trigger);\n  }\n  /**\n   * Dispatch a request to toggle the media picture-in-picture mode.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/api/picture-in-picture#remote-control}\n   */\n  togglePictureInPicture(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this.#noPlayerWarning(this.togglePictureInPicture.name);\n      return;\n    }\n    if (player.state.pictureInPicture) this.exitPictureInPicture(trigger);\n    else this.enterPictureInPicture(trigger);\n  }\n  /**\n   * Show captions.\n   */\n  showCaptions(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this.#noPlayerWarning(this.showCaptions.name);\n      return;\n    }\n    let tracks = player.state.textTracks, index = this.#prevTrackIndex;\n    if (!tracks[index] || !isTrackCaptionKind(tracks[index])) {\n      index = -1;\n    }\n    if (index === -1) {\n      index = tracks.findIndex((track) => isTrackCaptionKind(track) && track.default);\n    }\n    if (index === -1) {\n      index = tracks.findIndex((track) => isTrackCaptionKind(track));\n    }\n    if (index >= 0) this.changeTextTrackMode(index, \"showing\", trigger);\n    this.#prevTrackIndex = -1;\n  }\n  /**\n   * Turn captions off.\n   */\n  disableCaptions(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this.#noPlayerWarning(this.disableCaptions.name);\n      return;\n    }\n    const tracks = player.state.textTracks, track = player.state.textTrack;\n    if (track) {\n      const index = tracks.indexOf(track);\n      this.changeTextTrackMode(index, \"disabled\", trigger);\n      this.#prevTrackIndex = index;\n    }\n  }\n  /**\n   * Dispatch a request to toggle the current captions mode.\n   */\n  toggleCaptions(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this.#noPlayerWarning(this.toggleCaptions.name);\n      return;\n    }\n    if (player.state.textTrack) {\n      this.disableCaptions();\n    } else {\n      this.showCaptions();\n    }\n  }\n  userPrefersLoopChange(prefersLoop, trigger) {\n    this.#dispatchRequest(\"media-user-loop-change-request\", trigger, prefersLoop);\n  }\n  #dispatchRequest(type, trigger, detail) {\n    const request = new DOMEvent(type, {\n      bubbles: true,\n      composed: true,\n      cancelable: true,\n      detail,\n      trigger\n    });\n    let target = trigger?.target || null;\n    if (target && target instanceof Component) target = target.el;\n    const shouldUsePlayer = !target || target === document || target === window || target === document.body || this.#player?.el && target instanceof Node && !this.#player.el.contains(target);\n    target = shouldUsePlayer ? this.#target ?? this.getPlayer()?.el : target ?? this.#target;\n    {\n      this.#logger?.debugGroup(`\\u{1F4E8} dispatching \\`${type}\\``).labelledLog(\"Target\", target).labelledLog(\"Player\", this.#player).labelledLog(\"Request Event\", request).labelledLog(\"Trigger Event\", trigger).dispatch();\n    }\n    if (this.#player) {\n      if (type === \"media-play-request\" && !this.#player.state.canLoad) {\n        target?.dispatchEvent(request);\n      } else {\n        this.#player.canPlayQueue.enqueue(type, () => target?.dispatchEvent(request));\n      }\n    } else {\n      target?.dispatchEvent(request);\n    }\n  }\n  #noPlayerWarning(method) {\n    {\n      console.warn(\n        `[vidstack] attempted to call \\`MediaRemoteControl.${method}\\`() that requires player but failed because remote could not find a parent player element from target`\n      );\n    }\n  }\n}\n\nclass LocalMediaStorage {\n  playerId = \"vds-player\";\n  mediaId = null;\n  #data = {\n    volume: null,\n    muted: null,\n    audioGain: null,\n    time: null,\n    lang: null,\n    captions: null,\n    rate: null,\n    quality: null\n  };\n  async getVolume() {\n    return this.#data.volume;\n  }\n  async setVolume(volume) {\n    this.#data.volume = volume;\n    this.save();\n  }\n  async getMuted() {\n    return this.#data.muted;\n  }\n  async setMuted(muted) {\n    this.#data.muted = muted;\n    this.save();\n  }\n  async getTime() {\n    return this.#data.time;\n  }\n  async setTime(time, ended) {\n    const shouldClear = time < 0;\n    this.#data.time = !shouldClear ? time : null;\n    if (shouldClear || ended) this.saveTime();\n    else this.saveTimeThrottled();\n  }\n  async getLang() {\n    return this.#data.lang;\n  }\n  async setLang(lang) {\n    this.#data.lang = lang;\n    this.save();\n  }\n  async getCaptions() {\n    return this.#data.captions;\n  }\n  async setCaptions(enabled) {\n    this.#data.captions = enabled;\n    this.save();\n  }\n  async getPlaybackRate() {\n    return this.#data.rate;\n  }\n  async setPlaybackRate(rate) {\n    this.#data.rate = rate;\n    this.save();\n  }\n  async getAudioGain() {\n    return this.#data.audioGain;\n  }\n  async setAudioGain(gain) {\n    this.#data.audioGain = gain;\n    this.save();\n  }\n  async getVideoQuality() {\n    return this.#data.quality;\n  }\n  async setVideoQuality(quality) {\n    this.#data.quality = quality;\n    this.save();\n  }\n  onChange(src, mediaId, playerId = \"vds-player\") {\n    const savedData = playerId ? localStorage.getItem(playerId) : null, savedTime = mediaId ? localStorage.getItem(mediaId) : null;\n    this.playerId = playerId;\n    this.mediaId = mediaId;\n    this.#data = {\n      volume: null,\n      muted: null,\n      audioGain: null,\n      lang: null,\n      captions: null,\n      rate: null,\n      quality: null,\n      ...savedData ? JSON.parse(savedData) : {},\n      time: savedTime ? +savedTime : null\n    };\n  }\n  save() {\n    if (IS_SERVER || !this.playerId) return;\n    const data = JSON.stringify({ ...this.#data, time: void 0 });\n    localStorage.setItem(this.playerId, data);\n  }\n  saveTimeThrottled = functionThrottle(this.saveTime.bind(this), 1e3);\n  saveTime() {\n    if (IS_SERVER || !this.mediaId) return;\n    const data = (this.#data.time ?? 0).toString();\n    localStorage.setItem(this.mediaId, data);\n  }\n}\n\nconst ADD = Symbol(\"LIST_ADD\" ), REMOVE = Symbol(\"LIST_REMOVE\" ), RESET = Symbol(\"LIST_RESET\" ), SELECT = Symbol(\"LIST_SELECT\" ), READONLY = Symbol(\"LIST_READONLY\" ), SET_READONLY = Symbol(\"LIST_SET_READONLY\" ), ON_RESET = Symbol(\"LIST_ON_RESET\" ), ON_REMOVE = Symbol(\"LIST_ON_REMOVE\" ), ON_USER_SELECT = Symbol(\"LIST_ON_USER_SELECT\" );\nconst ListSymbol = {\n  add: ADD,\n  remove: REMOVE,\n  reset: RESET,\n  select: SELECT,\n  readonly: READONLY,\n  setReadonly: SET_READONLY,\n  onReset: ON_RESET,\n  onRemove: ON_REMOVE,\n  onUserSelect: ON_USER_SELECT\n};\n\nclass List extends EventsTarget {\n  items = [];\n  /** @internal */\n  [ListSymbol.readonly] = false;\n  get length() {\n    return this.items.length;\n  }\n  get readonly() {\n    return this[ListSymbol.readonly];\n  }\n  /**\n   * Returns the index of the first occurrence of the given item, or -1 if it is not present.\n   */\n  indexOf(item) {\n    return this.items.indexOf(item);\n  }\n  /**\n   * Returns an item matching the given `id`, or `null` if not present.\n   */\n  getById(id) {\n    if (id === \"\") return null;\n    return this.items.find((item) => item.id === id) ?? null;\n  }\n  /**\n   * Transform list to an array.\n   */\n  toArray() {\n    return [...this.items];\n  }\n  [Symbol.iterator]() {\n    return this.items.values();\n  }\n  /** @internal */\n  [ListSymbol.add](item, trigger) {\n    const index = this.items.length;\n    if (!(\"\" + index in this)) {\n      Object.defineProperty(this, index, {\n        get() {\n          return this.items[index];\n        }\n      });\n    }\n    if (this.items.includes(item)) return;\n    this.items.push(item);\n    this.dispatchEvent(new DOMEvent(\"add\", { detail: item, trigger }));\n  }\n  /** @internal */\n  [ListSymbol.remove](item, trigger) {\n    const index = this.items.indexOf(item);\n    if (index >= 0) {\n      this[ListSymbol.onRemove]?.(item, trigger);\n      this.items.splice(index, 1);\n      this.dispatchEvent(new DOMEvent(\"remove\", { detail: item, trigger }));\n    }\n  }\n  /** @internal */\n  [ListSymbol.reset](trigger) {\n    for (const item of [...this.items]) this[ListSymbol.remove](item, trigger);\n    this.items = [];\n    this[ListSymbol.setReadonly](false, trigger);\n    this[ListSymbol.onReset]?.();\n  }\n  /** @internal */\n  [ListSymbol.setReadonly](readonly, trigger) {\n    if (this[ListSymbol.readonly] === readonly) return;\n    this[ListSymbol.readonly] = readonly;\n    this.dispatchEvent(new DOMEvent(\"readonly-change\", { detail: readonly, trigger }));\n  }\n}\n\nconst SELECTED = Symbol(\"SELECTED\" );\nclass SelectList extends List {\n  get selected() {\n    return this.items.find((item) => item.selected) ?? null;\n  }\n  get selectedIndex() {\n    return this.items.findIndex((item) => item.selected);\n  }\n  /** @internal */\n  [ListSymbol.onRemove](item, trigger) {\n    this[ListSymbol.select](item, false, trigger);\n  }\n  /** @internal */\n  [ListSymbol.add](item, trigger) {\n    item[SELECTED] = false;\n    Object.defineProperty(item, \"selected\", {\n      get() {\n        return this[SELECTED];\n      },\n      set: (selected) => {\n        if (this.readonly) return;\n        this[ListSymbol.onUserSelect]?.();\n        this[ListSymbol.select](item, selected);\n      }\n    });\n    super[ListSymbol.add](item, trigger);\n  }\n  /** @internal */\n  [ListSymbol.select](item, selected, trigger) {\n    if (selected === item?.[SELECTED]) return;\n    const prev = this.selected;\n    if (item) item[SELECTED] = selected;\n    const changed = !selected ? prev === item : prev !== item;\n    if (changed) {\n      if (prev) prev[SELECTED] = false;\n      this.dispatchEvent(\n        new DOMEvent(\"change\", {\n          detail: {\n            prev,\n            current: this.selected\n          },\n          trigger\n        })\n      );\n    }\n  }\n}\n\nclass AudioTrackList extends SelectList {\n}\n\nfunction round(num, decimalPlaces = 2) {\n  return Number(num.toFixed(decimalPlaces));\n}\nfunction getNumberOfDecimalPlaces(num) {\n  return String(num).split(\".\")[1]?.length ?? 0;\n}\nfunction clampNumber(min, value, max) {\n  return Math.max(min, Math.min(max, value));\n}\n\nfunction isEventInside(el, event) {\n  const target = event.composedPath()[0];\n  return isDOMNode(target) && el.contains(target);\n}\nconst rafJobs = /* @__PURE__ */ new Set();\nif (!IS_SERVER) {\n  let processJobs = function() {\n    for (const job of rafJobs) {\n      try {\n        job();\n      } catch (e) {\n        console.error(`[vidstack] failed job:\n\n${e}`);\n      }\n    }\n    window.requestAnimationFrame(processJobs);\n  };\n  processJobs();\n}\nfunction scheduleRafJob(job) {\n  rafJobs.add(job);\n  return () => rafJobs.delete(job);\n}\nfunction setAttributeIfEmpty(target, name, value) {\n  if (!target.hasAttribute(name)) target.setAttribute(name, value);\n}\nfunction setARIALabel(target, $label) {\n  if (target.hasAttribute(\"aria-label\") || target.hasAttribute(\"data-no-label\")) return;\n  if (!isFunction($label)) {\n    setAttribute(target, \"aria-label\", $label);\n    return;\n  }\n  function updateAriaDescription() {\n    setAttribute(target, \"aria-label\", $label());\n  }\n  if (IS_SERVER) updateAriaDescription();\n  else effect(updateAriaDescription);\n}\nfunction isElementVisible(el) {\n  const style = getComputedStyle(el);\n  return style.display !== \"none\" && parseInt(style.opacity) > 0;\n}\nfunction checkVisibility(el) {\n  return !!el && (\"checkVisibility\" in el ? el.checkVisibility({ checkOpacity: true, checkVisibilityCSS: true }) : isElementVisible(el));\n}\nfunction observeVisibility(el, callback) {\n  return scheduleRafJob(() => callback(checkVisibility(el)));\n}\nfunction isElementParent(owner, node, test) {\n  while (node) {\n    if (node === owner) {\n      return true;\n    } else if (test?.(node)) {\n      break;\n    } else {\n      node = node.parentElement;\n    }\n  }\n  return false;\n}\nfunction onPress(target, handler) {\n  return new EventsController(target).add(\"pointerup\", (event) => {\n    if (event.button === 0 && !event.defaultPrevented) handler(event);\n  }).add(\"keydown\", (event) => {\n    if (isKeyboardClick(event)) handler(event);\n  });\n}\nfunction isTouchPinchEvent(event) {\n  return isTouchEvent(event) && (event.touches.length > 1 || event.changedTouches.length > 1);\n}\nfunction requestScopedAnimationFrame(callback) {\n  if (IS_SERVER) return callback();\n  let scope = getScope(), id = window.requestAnimationFrame(() => {\n    scoped(callback, scope);\n    id = -1;\n  });\n  return () => void window.cancelAnimationFrame(id);\n}\nfunction autoPlacement(el, trigger, placement, {\n  offsetVarName,\n  xOffset,\n  yOffset,\n  ...options\n}) {\n  if (!el) return;\n  const floatingPlacement = placement.replace(\" \", \"-\").replace(\"-center\", \"\");\n  setStyle(el, \"visibility\", !trigger ? \"hidden\" : null);\n  if (!trigger) return;\n  let isTop = placement.includes(\"top\");\n  const negateX = (x) => placement.includes(\"left\") ? `calc(-1 * ${x})` : x, negateY = (y) => isTop ? `calc(-1 * ${y})` : y;\n  return autoUpdate(trigger, el, () => {\n    computePosition(trigger, el, {\n      placement: floatingPlacement,\n      middleware: [\n        ...options.middleware ?? [],\n        flip({ fallbackAxisSideDirection: \"start\", crossAxis: false }),\n        shift()\n      ],\n      ...options\n    }).then(({ x, y, middlewareData }) => {\n      const hasFlipped = !!middlewareData.flip?.index;\n      isTop = placement.includes(hasFlipped ? \"bottom\" : \"top\");\n      el.setAttribute(\n        \"data-placement\",\n        hasFlipped ? placement.startsWith(\"top\") ? placement.replace(\"top\", \"bottom\") : placement.replace(\"bottom\", \"top\") : placement\n      );\n      Object.assign(el.style, {\n        top: `calc(${y + \"px\"} + ${negateY(\n          yOffset ? yOffset + \"px\" : `var(--${offsetVarName}-y-offset, 0px)`\n        )})`,\n        left: `calc(${x + \"px\"} + ${negateX(\n          xOffset ? xOffset + \"px\" : `var(--${offsetVarName}-x-offset, 0px)`\n        )})`\n      });\n    });\n  });\n}\nfunction hasAnimation(el) {\n  const styles = getComputedStyle(el);\n  return styles.animationName !== \"none\";\n}\nfunction isHTMLElement(el) {\n  return el instanceof HTMLElement;\n}\n\nclass NativeTextRenderer {\n  priority = 0;\n  #display = true;\n  #video = null;\n  #track = null;\n  #tracks = /* @__PURE__ */ new Set();\n  canRender(_, video) {\n    return !!video;\n  }\n  attach(video) {\n    this.#video = video;\n    if (video) video.textTracks.onchange = this.#onChange.bind(this);\n  }\n  addTrack(track) {\n    this.#tracks.add(track);\n    this.#attachTrack(track);\n  }\n  removeTrack(track) {\n    track[TextTrackSymbol.native]?.remove?.();\n    track[TextTrackSymbol.native] = null;\n    this.#tracks.delete(track);\n  }\n  changeTrack(track) {\n    const current = track?.[TextTrackSymbol.native];\n    if (current && current.track.mode !== \"showing\") {\n      current.track.mode = \"showing\";\n    }\n    this.#track = track;\n  }\n  setDisplay(display) {\n    this.#display = display;\n    this.#onChange();\n  }\n  detach() {\n    if (this.#video) this.#video.textTracks.onchange = null;\n    for (const track of this.#tracks) this.removeTrack(track);\n    this.#tracks.clear();\n    this.#video = null;\n    this.#track = null;\n  }\n  #attachTrack(track) {\n    if (!this.#video) return;\n    const el = track[TextTrackSymbol.native] ??= this.#createTrackElement(track);\n    if (isHTMLElement(el)) {\n      this.#video.append(el);\n      el.track.mode = el.default ? \"showing\" : \"disabled\";\n    }\n  }\n  #createTrackElement(track) {\n    const el = document.createElement(\"track\"), isDefault = track.default || track.mode === \"showing\", isSupported = track.src && track.type === \"vtt\";\n    el.id = track.id;\n    el.src = isSupported ? track.src : \"\";\n    el.label = track.label;\n    el.kind = track.kind;\n    el.default = isDefault;\n    track.language && (el.srclang = track.language);\n    if (isDefault && !isSupported) {\n      this.#copyCues(track, el.track);\n    }\n    return el;\n  }\n  #copyCues(track, native) {\n    if (track.src && track.type === \"vtt\" || native.cues?.length) return;\n    for (const cue of track.cues) native.addCue(cue);\n  }\n  #onChange(event) {\n    for (const track of this.#tracks) {\n      const native = track[TextTrackSymbol.native];\n      if (!native) continue;\n      if (!this.#display) {\n        native.track.mode = native.managed ? \"hidden\" : \"disabled\";\n        continue;\n      }\n      const isShowing = native.track.mode === \"showing\";\n      if (isShowing) this.#copyCues(track, native.track);\n      track.setMode(isShowing ? \"showing\" : \"disabled\", event);\n    }\n  }\n}\n\nclass TextRenderers {\n  #video = null;\n  #textTracks;\n  #renderers = [];\n  #media;\n  #nativeDisplay = false;\n  #nativeRenderer = null;\n  #customRenderer = null;\n  constructor(media) {\n    this.#media = media;\n    const textTracks = media.textTracks;\n    this.#textTracks = textTracks;\n    effect(this.#watchControls.bind(this));\n    onDispose(this.#detach.bind(this));\n    new EventsController(textTracks).add(\"add\", this.#onAddTrack.bind(this)).add(\"remove\", this.#onRemoveTrack.bind(this)).add(\"mode-change\", this.#update.bind(this));\n  }\n  #watchControls() {\n    const { nativeControls } = this.#media.$state;\n    this.#nativeDisplay = nativeControls();\n    this.#update();\n  }\n  add(renderer) {\n    this.#renderers.push(renderer);\n    untrack(this.#update.bind(this));\n  }\n  remove(renderer) {\n    renderer.detach();\n    this.#renderers.splice(this.#renderers.indexOf(renderer), 1);\n    untrack(this.#update.bind(this));\n  }\n  /** @internal */\n  attachVideo(video) {\n    requestAnimationFrame(() => {\n      this.#video = video;\n      if (video) {\n        this.#nativeRenderer = new NativeTextRenderer();\n        this.#nativeRenderer.attach(video);\n        for (const track of this.#textTracks) this.#addNativeTrack(track);\n      }\n      this.#update();\n    });\n  }\n  #addNativeTrack(track) {\n    if (!isTrackCaptionKind(track)) return;\n    this.#nativeRenderer?.addTrack(track);\n  }\n  #removeNativeTrack(track) {\n    if (!isTrackCaptionKind(track)) return;\n    this.#nativeRenderer?.removeTrack(track);\n  }\n  #onAddTrack(event) {\n    this.#addNativeTrack(event.detail);\n  }\n  #onRemoveTrack(event) {\n    this.#removeNativeTrack(event.detail);\n  }\n  #update() {\n    const currentTrack = this.#textTracks.selected;\n    if (this.#video && (this.#nativeDisplay || currentTrack?.[TextTrackSymbol.nativeHLS])) {\n      this.#customRenderer?.changeTrack(null);\n      this.#nativeRenderer?.setDisplay(true);\n      this.#nativeRenderer?.changeTrack(currentTrack);\n      return;\n    }\n    this.#nativeRenderer?.setDisplay(false);\n    this.#nativeRenderer?.changeTrack(null);\n    if (!currentTrack) {\n      this.#customRenderer?.changeTrack(null);\n      return;\n    }\n    const customRenderer = this.#renderers.sort((a, b) => a.priority - b.priority).find((renderer) => renderer.canRender(currentTrack, this.#video));\n    if (this.#customRenderer !== customRenderer) {\n      this.#customRenderer?.detach();\n      customRenderer?.attach(this.#video);\n      this.#customRenderer = customRenderer ?? null;\n    }\n    customRenderer?.changeTrack(currentTrack);\n  }\n  #detach() {\n    this.#nativeRenderer?.detach();\n    this.#nativeRenderer = null;\n    this.#customRenderer?.detach();\n    this.#customRenderer = null;\n  }\n}\n\nclass TextTrackList extends List {\n  #canLoad = false;\n  #defaults = {};\n  #storage = null;\n  #preferredLang = null;\n  /** @internal */\n  [TextTrackSymbol.crossOrigin];\n  constructor() {\n    super();\n  }\n  get selected() {\n    const track = this.items.find((t) => t.mode === \"showing\" && isTrackCaptionKind(t));\n    return track ?? null;\n  }\n  get selectedIndex() {\n    const selected = this.selected;\n    return selected ? this.indexOf(selected) : -1;\n  }\n  get preferredLang() {\n    return this.#preferredLang;\n  }\n  set preferredLang(lang) {\n    this.#preferredLang = lang;\n    this.#saveLang(lang);\n  }\n  add(init, trigger) {\n    const isTrack = init instanceof TextTrack, track = isTrack ? init : new TextTrack(init), kind = init.kind === \"captions\" || init.kind === \"subtitles\" ? \"captions\" : init.kind;\n    if (this.#defaults[kind] && init.default) delete init.default;\n    track.addEventListener(\"mode-change\", this.#onTrackModeChangeBind);\n    this[ListSymbol.add](track, trigger);\n    track[TextTrackSymbol.crossOrigin] = this[TextTrackSymbol.crossOrigin];\n    if (this.#canLoad) track[TextTrackSymbol.canLoad]();\n    if (init.default) this.#defaults[kind] = track;\n    this.#selectTracks();\n    return this;\n  }\n  remove(track, trigger) {\n    this.#pendingRemoval = track;\n    if (!this.items.includes(track)) return;\n    if (track === this.#defaults[track.kind]) delete this.#defaults[track.kind];\n    track.mode = \"disabled\";\n    track[TextTrackSymbol.onModeChange] = null;\n    track.removeEventListener(\"mode-change\", this.#onTrackModeChangeBind);\n    this[ListSymbol.remove](track, trigger);\n    this.#pendingRemoval = null;\n    return this;\n  }\n  clear(trigger) {\n    for (const track of [...this.items]) {\n      this.remove(track, trigger);\n    }\n    return this;\n  }\n  getByKind(kind) {\n    const kinds = Array.isArray(kind) ? kind : [kind];\n    return this.items.filter((track) => kinds.includes(track.kind));\n  }\n  /** @internal */\n  [TextTrackSymbol.canLoad]() {\n    if (this.#canLoad) return;\n    for (const track of this.items) track[TextTrackSymbol.canLoad]();\n    this.#canLoad = true;\n    this.#selectTracks();\n  }\n  #selectTracks = functionDebounce(async () => {\n    if (!this.#canLoad) return;\n    if (!this.#preferredLang && this.#storage) {\n      this.#preferredLang = await this.#storage.getLang();\n    }\n    const showCaptions = await this.#storage?.getCaptions(), kinds = [\n      [\"captions\", \"subtitles\"],\n      \"chapters\",\n      \"descriptions\",\n      \"metadata\"\n    ];\n    for (const kind of kinds) {\n      const tracks = this.getByKind(kind);\n      if (tracks.find((t) => t.mode === \"showing\")) continue;\n      const preferredTrack = this.#preferredLang ? tracks.find((track2) => track2.language === this.#preferredLang) : null;\n      const defaultTrack = isArray(kind) ? this.#defaults[kind.find((kind2) => this.#defaults[kind2]) || \"\"] : this.#defaults[kind];\n      const track = preferredTrack ?? defaultTrack, isCaptionsKind = track && isTrackCaptionKind(track);\n      if (track && (!isCaptionsKind || showCaptions !== false)) {\n        track.mode = \"showing\";\n        if (isCaptionsKind) this.#saveCaptionsTrack(track);\n      }\n    }\n  }, 300);\n  #pendingRemoval = null;\n  #onTrackModeChangeBind = this.#onTrackModeChange.bind(this);\n  #onTrackModeChange(event) {\n    const track = event.detail;\n    if (this.#storage && isTrackCaptionKind(track) && track !== this.#pendingRemoval) {\n      this.#saveCaptionsTrack(track);\n    }\n    if (track.mode === \"showing\") {\n      const kinds = isTrackCaptionKind(track) ? [\"captions\", \"subtitles\"] : [track.kind];\n      for (const t of this.items) {\n        if (t.mode === \"showing\" && t != track && kinds.includes(t.kind)) {\n          t.mode = \"disabled\";\n        }\n      }\n    }\n    this.dispatchEvent(\n      new DOMEvent(\"mode-change\", {\n        detail: event.detail,\n        trigger: event\n      })\n    );\n  }\n  #saveCaptionsTrack(track) {\n    if (track.mode !== \"disabled\") {\n      this.#saveLang(track.language);\n    }\n    this.#storage?.setCaptions?.(track.mode === \"showing\");\n  }\n  #saveLang(lang) {\n    this.#storage?.setLang?.(this.#preferredLang = lang);\n  }\n  setStorage(storage) {\n    this.#storage = storage;\n  }\n}\n\nconst SET_AUTO = Symbol(\"SET_AUTO_QUALITY\" ), ENABLE_AUTO = Symbol(\"ENABLE_AUTO_QUALITY\" );\nconst QualitySymbol = {\n  setAuto: SET_AUTO,\n  enableAuto: ENABLE_AUTO\n};\n\nclass VideoQualityList extends SelectList {\n  #auto = false;\n  /**\n   * Configures quality switching:\n   *\n   * - `current`: Trigger an immediate quality level switch. This will abort the current fragment\n   * request if any, flush the whole buffer, and fetch fragment matching with current position\n   * and requested quality level.\n   *\n   * - `next`: Trigger a quality level switch for next fragment. This could eventually flush\n   * already buffered next fragment.\n   *\n   * - `load`: Set quality level for next loaded fragment.\n   *\n   * @see {@link https://www.vidstack.io/docs/player/api/video-quality#switch}\n   * @see {@link https://github.com/video-dev/hls.js/blob/master/docs/API.md#quality-switch-control-api}\n   */\n  switch = \"current\";\n  /**\n   * Whether automatic quality selection is enabled.\n   */\n  get auto() {\n    return this.#auto || this.readonly;\n  }\n  /** @internal */\n  [QualitySymbol.enableAuto];\n  /** @internal */\n  [ListSymbol.onUserSelect]() {\n    this[QualitySymbol.setAuto](false);\n  }\n  /** @internal */\n  [ListSymbol.onReset](trigger) {\n    this[QualitySymbol.enableAuto] = void 0;\n    this[QualitySymbol.setAuto](false, trigger);\n  }\n  /**\n   * Request automatic quality selection (if supported). This will be a no-op if the list is\n   * `readonly` as that already implies auto-selection.\n   */\n  autoSelect(trigger) {\n    if (this.readonly || this.#auto || !this[QualitySymbol.enableAuto]) return;\n    this[QualitySymbol.enableAuto]?.(trigger);\n    this[QualitySymbol.setAuto](true, trigger);\n  }\n  getBySrc(src) {\n    return this.items.find((quality) => quality.src === src);\n  }\n  /** @internal */\n  [QualitySymbol.setAuto](auto, trigger) {\n    if (this.#auto === auto) return;\n    this.#auto = auto;\n    this.dispatchEvent(\n      new DOMEvent(\"auto-change\", {\n        detail: auto,\n        trigger\n      })\n    );\n  }\n}\n\nfunction sortVideoQualities(qualities, desc) {\n  return [...qualities].sort(desc ? compareVideoQualityDesc : compareVideoQualityAsc);\n}\nfunction compareVideoQualityAsc(a, b) {\n  return a.height === b.height ? (a.bitrate ?? 0) - (b.bitrate ?? 0) : a.height - b.height;\n}\nfunction compareVideoQualityDesc(a, b) {\n  return b.height === a.height ? (b.bitrate ?? 0) - (a.bitrate ?? 0) : b.height - a.height;\n}\n\nfunction isAudioProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"AUDIO\";\n}\nfunction isVideoProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"VIDEO\";\n}\nfunction isHLSProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"HLS\";\n}\nfunction isDASHProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"DASH\";\n}\nfunction isYouTubeProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"YOUTUBE\";\n}\nfunction isVimeoProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"VIMEO\";\n}\nfunction isGoogleCastProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"GOOGLE_CAST\";\n}\nfunction isHTMLAudioElement(element) {\n  return !IS_SERVER && element instanceof HTMLAudioElement;\n}\nfunction isHTMLVideoElement(element) {\n  return !IS_SERVER && element instanceof HTMLVideoElement;\n}\nfunction isHTMLMediaElement(element) {\n  return isHTMLAudioElement(element) || isHTMLVideoElement(element);\n}\nfunction isHTMLIFrameElement(element) {\n  return !IS_SERVER && element instanceof HTMLIFrameElement;\n}\n\nclass MediaPlayerController extends ViewController {\n}\n\nconst MEDIA_KEY_SHORTCUTS = {\n  togglePaused: \"k Space\",\n  toggleMuted: \"m\",\n  toggleFullscreen: \"f\",\n  togglePictureInPicture: \"i\",\n  toggleCaptions: \"c\",\n  seekBackward: \"j J ArrowLeft\",\n  seekForward: \"l L ArrowRight\",\n  volumeUp: \"ArrowUp\",\n  volumeDown: \"ArrowDown\",\n  speedUp: \">\",\n  slowDown: \"<\"\n};\nconst MODIFIER_KEYS = /* @__PURE__ */ new Set([\"Shift\", \"Alt\", \"Meta\", \"Ctrl\"]), BUTTON_SELECTORS = 'button, [role=\"button\"]', IGNORE_SELECTORS = 'input, textarea, select, [contenteditable], [role^=\"menuitem\"], [role=\"timer\"]';\nclass MediaKeyboardController extends MediaPlayerController {\n  #media;\n  constructor(media) {\n    super();\n    this.#media = media;\n  }\n  onConnect() {\n    effect(this.#onTargetChange.bind(this));\n  }\n  #onTargetChange() {\n    const { keyDisabled, keyTarget } = this.$props;\n    if (keyDisabled()) return;\n    const target = keyTarget() === \"player\" ? this.el : document, $active = signal(false);\n    if (target === this.el) {\n      new EventsController(this.el).add(\"focusin\", () => $active.set(true)).add(\"focusout\", (event) => {\n        if (!this.el.contains(event.target)) $active.set(false);\n      });\n    } else {\n      if (!peek($active)) $active.set(document.querySelector(\"[data-media-player]\") === this.el);\n      listenEvent(document, \"focusin\", (event) => {\n        const activePlayer = event.composedPath().find((el) => el instanceof Element && el.localName === \"media-player\");\n        if (activePlayer !== void 0) $active.set(this.el === activePlayer);\n      });\n    }\n    effect(() => {\n      if (!$active()) return;\n      new EventsController(target).add(\"keyup\", this.#onKeyUp.bind(this)).add(\"keydown\", this.#onKeyDown.bind(this)).add(\"keydown\", this.#onPreventVideoKeys.bind(this), { capture: true });\n    });\n  }\n  #onKeyUp(event) {\n    const focusedEl = document.activeElement;\n    if (!event.key || !this.$state.canSeek() || focusedEl?.matches(IGNORE_SELECTORS)) {\n      return;\n    }\n    let { method, value } = this.#getMatchingMethod(event);\n    if (!isString(value) && !isArray(value)) {\n      value?.onKeyUp?.({\n        event,\n        player: this.#media.player,\n        remote: this.#media.remote\n      });\n      value?.callback?.(event, this.#media.remote);\n      return;\n    }\n    if (method?.startsWith(\"seek\")) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (this.#timeSlider) {\n        this.#forwardTimeKeyboardEvent(event, method === \"seekForward\");\n        this.#timeSlider = null;\n      } else {\n        this.#media.remote.seek(this.#seekTotal, event);\n        this.#seekTotal = void 0;\n      }\n    }\n    if (method?.startsWith(\"volume\")) {\n      const volumeSlider = this.el.querySelector(\"[data-media-volume-slider]\");\n      volumeSlider?.dispatchEvent(\n        new KeyboardEvent(\"keyup\", {\n          key: method === \"volumeUp\" ? \"Up\" : \"Down\",\n          shiftKey: event.shiftKey,\n          trigger: event\n        })\n      );\n    }\n  }\n  #onKeyDown(event) {\n    if (!event.key || MODIFIER_KEYS.has(event.key)) return;\n    const focusedEl = document.activeElement;\n    if (focusedEl?.matches(IGNORE_SELECTORS) || isKeyboardClick(event) && focusedEl?.matches(BUTTON_SELECTORS)) {\n      return;\n    }\n    let { method, value } = this.#getMatchingMethod(event), isNumberPress = !event.metaKey && /^[0-9]$/.test(event.key);\n    if (!isString(value) && !isArray(value) && !isNumberPress) {\n      value?.onKeyDown?.({\n        event,\n        player: this.#media.player,\n        remote: this.#media.remote\n      });\n      value?.callback?.(event, this.#media.remote);\n      return;\n    }\n    if (!method && isNumberPress && !modifierKeyPressed(event)) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.#media.remote.seek(this.$state.duration() / 10 * Number(event.key), event);\n      return;\n    }\n    if (!method) return;\n    event.preventDefault();\n    event.stopPropagation();\n    switch (method) {\n      case \"seekForward\":\n      case \"seekBackward\":\n        this.#seeking(event, method, method === \"seekForward\");\n        break;\n      case \"volumeUp\":\n      case \"volumeDown\":\n        const volumeSlider = this.el.querySelector(\"[data-media-volume-slider]\");\n        if (volumeSlider) {\n          volumeSlider.dispatchEvent(\n            new KeyboardEvent(\"keydown\", {\n              key: method === \"volumeUp\" ? \"Up\" : \"Down\",\n              shiftKey: event.shiftKey,\n              trigger: event\n            })\n          );\n        } else {\n          const value2 = event.shiftKey ? 0.1 : 0.05;\n          this.#media.remote.changeVolume(\n            this.$state.volume() + (method === \"volumeUp\" ? +value2 : -value2),\n            event\n          );\n        }\n        break;\n      case \"toggleFullscreen\":\n        this.#media.remote.toggleFullscreen(\"prefer-media\", event);\n        break;\n      case \"speedUp\":\n      case \"slowDown\":\n        const playbackRate = this.$state.playbackRate();\n        this.#media.remote.changePlaybackRate(\n          Math.max(0.25, Math.min(2, playbackRate + (method === \"speedUp\" ? 0.25 : -0.25))),\n          event\n        );\n        break;\n      default:\n        this.#media.remote[method]?.(event);\n    }\n    this.$state.lastKeyboardAction.set({\n      action: method,\n      event\n    });\n  }\n  #onPreventVideoKeys(event) {\n    if (isHTMLMediaElement(event.target) && this.#getMatchingMethod(event).method) {\n      event.preventDefault();\n    }\n  }\n  #getMatchingMethod(event) {\n    const keyShortcuts = {\n      ...this.$props.keyShortcuts(),\n      ...this.#media.ariaKeys\n    };\n    const method = Object.keys(keyShortcuts).find((method2) => {\n      const value = keyShortcuts[method2], keys = isArray(value) ? value.join(\" \") : isString(value) ? value : value?.keys;\n      const combinations = (isArray(keys) ? keys : keys?.split(\" \"))?.map(\n        (key) => replaceSymbolKeys(key).replace(/Control/g, \"Ctrl\").split(\"+\")\n      );\n      return combinations?.some((combo) => {\n        const modifierKeys = new Set(combo.filter((key) => MODIFIER_KEYS.has(key)));\n        for (const modKey of MODIFIER_KEYS) {\n          const modKeyProp = modKey.toLowerCase() + \"Key\";\n          if (!modifierKeys.has(modKey) && event[modKeyProp]) {\n            return false;\n          }\n        }\n        return combo.every((key) => {\n          return MODIFIER_KEYS.has(key) ? event[key.toLowerCase() + \"Key\"] : event.key === key.replace(\"Space\", \" \");\n        });\n      });\n    });\n    return {\n      method,\n      value: method ? keyShortcuts[method] : null\n    };\n  }\n  #seekTotal;\n  #calcSeekAmount(event, type) {\n    const seekBy = event.shiftKey ? 10 : 5;\n    return this.#seekTotal = Math.max(\n      0,\n      Math.min(\n        (this.#seekTotal ?? this.$state.currentTime()) + (type === \"seekForward\" ? +seekBy : -seekBy),\n        this.$state.duration()\n      )\n    );\n  }\n  #timeSlider = null;\n  #forwardTimeKeyboardEvent(event, forward) {\n    this.#timeSlider?.dispatchEvent(\n      new KeyboardEvent(event.type, {\n        key: !forward ? \"Left\" : \"Right\",\n        shiftKey: event.shiftKey,\n        trigger: event\n      })\n    );\n  }\n  #seeking(event, type, forward) {\n    if (!this.$state.canSeek()) return;\n    if (!this.#timeSlider) {\n      this.#timeSlider = this.el.querySelector(\"[data-media-time-slider]\");\n    }\n    if (this.#timeSlider) {\n      this.#forwardTimeKeyboardEvent(event, forward);\n    } else {\n      this.#media.remote.seeking(this.#calcSeekAmount(event, type), event);\n    }\n  }\n}\nconst SYMBOL_KEY_MAP = [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"];\nfunction replaceSymbolKeys(key) {\n  return key.replace(/Shift\\+(\\d)/g, (_, num) => SYMBOL_KEY_MAP[num - 1]);\n}\nfunction modifierKeyPressed(event) {\n  for (const key of MODIFIER_KEYS) {\n    if (event[key.toLowerCase() + \"Key\"]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nclass ARIAKeyShortcuts extends ViewController {\n  #shortcut;\n  constructor(shortcut) {\n    super();\n    this.#shortcut = shortcut;\n  }\n  onAttach(el) {\n    const { $props, ariaKeys } = useMediaContext(), keys = el.getAttribute(\"aria-keyshortcuts\");\n    if (keys) {\n      ariaKeys[this.#shortcut] = keys;\n      if (!IS_SERVER) {\n        onDispose(() => {\n          delete ariaKeys[this.#shortcut];\n        });\n      }\n      return;\n    }\n    const shortcuts = $props.keyShortcuts()[this.#shortcut];\n    if (shortcuts) {\n      const keys2 = isArray(shortcuts) ? shortcuts.join(\" \") : isString(shortcuts) ? shortcuts : shortcuts?.keys;\n      el.setAttribute(\"aria-keyshortcuts\", isArray(keys2) ? keys2.join(\" \") : keys2);\n    }\n  }\n}\n\nclass MediaControls extends MediaPlayerController {\n  #idleTimer = -2;\n  #pausedTracking = false;\n  #hideOnMouseLeave = signal(false);\n  #isMouseOutside = signal(false);\n  #focusedItem = null;\n  #canIdle = signal(true);\n  /**\n   * The default amount of delay in milliseconds while media playback is progressing without user\n   * activity to indicate an idle state (i.e., hide controls).\n   *\n   * @defaultValue 2000\n   */\n  defaultDelay = 2e3;\n  /**\n   * Whether controls can hide after a delay in user interaction. If this is false, controls will\n   * not hide and be user controlled.\n   */\n  get canIdle() {\n    return this.#canIdle();\n  }\n  set canIdle(canIdle) {\n    this.#canIdle.set(canIdle);\n  }\n  /**\n   * Whether controls visibility should be toggled when the mouse enters and leaves the player\n   * container.\n   *\n   * @defaultValue false\n   */\n  get hideOnMouseLeave() {\n    const { hideControlsOnMouseLeave } = this.$props;\n    return this.#hideOnMouseLeave() || hideControlsOnMouseLeave();\n  }\n  set hideOnMouseLeave(hide) {\n    this.#hideOnMouseLeave.set(hide);\n  }\n  /**\n   * Whether media controls are currently visible.\n   */\n  get showing() {\n    return this.$state.controlsVisible();\n  }\n  /**\n   * Show controls.\n   */\n  show(delay = 0, trigger) {\n    this.#clearIdleTimer();\n    if (!this.#pausedTracking) {\n      this.#changeVisibility(true, delay, trigger);\n    }\n  }\n  /**\n   * Hide controls.\n   */\n  hide(delay = this.defaultDelay, trigger) {\n    this.#clearIdleTimer();\n    if (!this.#pausedTracking) {\n      this.#changeVisibility(false, delay, trigger);\n    }\n  }\n  /**\n   * Whether all idle tracking on controls should be paused until resumed again.\n   */\n  pause(trigger) {\n    this.#pausedTracking = true;\n    this.#clearIdleTimer();\n    this.#changeVisibility(true, 0, trigger);\n  }\n  resume(trigger) {\n    this.#pausedTracking = false;\n    if (this.$state.paused()) return;\n    this.#changeVisibility(false, this.defaultDelay, trigger);\n  }\n  onConnect() {\n    effect(this.#init.bind(this));\n  }\n  #init() {\n    const { viewType } = this.$state;\n    if (!this.el || !this.#canIdle()) return;\n    if (viewType() === \"audio\") {\n      this.show();\n      return;\n    }\n    effect(this.#watchMouse.bind(this));\n    effect(this.#watchPaused.bind(this));\n    const onPlay = this.#onPlay.bind(this), onPause = this.#onPause.bind(this), onEnd = this.#onEnd.bind(this);\n    new EventsController(this.el).add(\"can-play\", (event) => this.show(0, event)).add(\"play\", onPlay).add(\"pause\", onPause).add(\"end\", onEnd).add(\"auto-play-fail\", onPause);\n  }\n  #watchMouse() {\n    if (!this.el) return;\n    const { started, pointer, paused } = this.$state;\n    if (!started() || pointer() !== \"fine\") return;\n    const events = new EventsController(this.el), shouldHideOnMouseLeave = this.hideOnMouseLeave;\n    if (!shouldHideOnMouseLeave || !this.#isMouseOutside()) {\n      effect(() => {\n        if (!paused()) events.add(\"pointermove\", this.#onStopIdle.bind(this));\n      });\n    }\n    if (shouldHideOnMouseLeave) {\n      events.add(\"mouseenter\", this.#onMouseEnter.bind(this)).add(\"mouseleave\", this.#onMouseLeave.bind(this));\n    }\n  }\n  #watchPaused() {\n    const { paused, started, autoPlayError } = this.$state;\n    if (paused() || autoPlayError() && !started()) return;\n    const onStopIdle = this.#onStopIdle.bind(this);\n    effect(() => {\n      if (!this.el) return;\n      const pointer = this.$state.pointer(), isTouch = pointer === \"coarse\", events = new EventsController(this.el), eventTypes = [isTouch ? \"touchend\" : \"pointerup\", \"keydown\"];\n      for (const eventType of eventTypes) {\n        events.add(eventType, onStopIdle, { passive: false });\n      }\n    });\n  }\n  #onPlay(event) {\n    if (event.triggers.hasType(\"ended\")) return;\n    this.show(0, event);\n    this.hide(void 0, event);\n  }\n  #onPause(event) {\n    this.show(0, event);\n  }\n  #onEnd(event) {\n    const { loop } = this.$state;\n    if (loop()) this.hide(0, event);\n  }\n  #onMouseEnter(event) {\n    this.#isMouseOutside.set(false);\n    this.show(0, event);\n    this.hide(void 0, event);\n  }\n  #onMouseLeave(event) {\n    this.#isMouseOutside.set(true);\n    this.hide(0, event);\n  }\n  #clearIdleTimer() {\n    window.clearTimeout(this.#idleTimer);\n    this.#idleTimer = -1;\n  }\n  #onStopIdle(event) {\n    if (\n      // @ts-expect-error\n      event.MEDIA_GESTURE || this.#pausedTracking || isTouchPinchEvent(event)\n    ) {\n      return;\n    }\n    if (isKeyboardEvent(event)) {\n      if (event.key === \"Escape\") {\n        this.el?.focus();\n        this.#focusedItem = null;\n      } else if (this.#focusedItem) {\n        event.preventDefault();\n        requestAnimationFrame(() => {\n          this.#focusedItem?.focus();\n          this.#focusedItem = null;\n        });\n      }\n    }\n    this.show(0, event);\n    this.hide(this.defaultDelay, event);\n  }\n  #changeVisibility(visible, delay, trigger) {\n    if (delay === 0) {\n      this.#onChange(visible, trigger);\n      return;\n    }\n    this.#idleTimer = window.setTimeout(() => {\n      if (!this.scope) return;\n      this.#onChange(visible && !this.#pausedTracking, trigger);\n    }, delay);\n  }\n  #onChange(visible, trigger) {\n    if (this.$state.controlsVisible() === visible) return;\n    this.$state.controlsVisible.set(visible);\n    if (!visible && document.activeElement && this.el?.contains(document.activeElement)) {\n      this.#focusedItem = document.activeElement;\n      requestAnimationFrame(() => {\n        this.el?.focus({ preventScroll: true });\n      });\n    }\n    this.dispatch(\"controls-change\", {\n      detail: visible,\n      trigger\n    });\n  }\n}\n\nconst CAN_FULLSCREEN = fscreen.fullscreenEnabled;\nclass FullscreenController extends ViewController {\n  /**\n   * Tracks whether we're the active fullscreen event listener. Fullscreen events can only be\n   * listened to globally on the document so we need to know if they relate to the current host\n   * element or not.\n   */\n  #listening = false;\n  #active = false;\n  get active() {\n    return this.#active;\n  }\n  get supported() {\n    return CAN_FULLSCREEN;\n  }\n  onConnect() {\n    new EventsController(fscreen).add(\"fullscreenchange\", this.#onChange.bind(this)).add(\"fullscreenerror\", this.#onError.bind(this));\n    onDispose(this.#onDisconnect.bind(this));\n  }\n  async #onDisconnect() {\n    if (CAN_FULLSCREEN) await this.exit();\n  }\n  #onChange(event) {\n    const active = isFullscreen(this.el);\n    if (active === this.#active) return;\n    if (!active) this.#listening = false;\n    this.#active = active;\n    this.dispatch(\"fullscreen-change\", { detail: active, trigger: event });\n  }\n  #onError(event) {\n    if (!this.#listening) return;\n    this.dispatch(\"fullscreen-error\", { detail: null, trigger: event });\n    this.#listening = false;\n  }\n  async enter() {\n    try {\n      this.#listening = true;\n      if (!this.el || isFullscreen(this.el)) return;\n      assertFullscreenAPI();\n      return fscreen.requestFullscreen(this.el);\n    } catch (error) {\n      this.#listening = false;\n      throw error;\n    }\n  }\n  async exit() {\n    if (!this.el || !isFullscreen(this.el)) return;\n    assertFullscreenAPI();\n    return fscreen.exitFullscreen();\n  }\n}\nfunction canFullscreen() {\n  return CAN_FULLSCREEN;\n}\nfunction isFullscreen(host) {\n  if (fscreen.fullscreenElement === host) return true;\n  try {\n    return host.matches(\n      // @ts-expect-error - `fullscreenPseudoClass` is missing from `@types/fscreen`.\n      fscreen.fullscreenPseudoClass\n    );\n  } catch (error) {\n    return false;\n  }\n}\nfunction assertFullscreenAPI() {\n  if (CAN_FULLSCREEN) return;\n  throw Error(\n    \"[vidstack] fullscreen API is not enabled or supported in this environment\" \n  );\n}\n\nclass ScreenOrientationController extends ViewController {\n  #type = signal(this.#getScreenOrientation());\n  #locked = signal(false);\n  #currentLock;\n  /**\n   * The current screen orientation type.\n   *\n   * @signal\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/ScreenOrientation}\n   * @see https://w3c.github.io/screen-orientation/#screen-orientation-types-and-locks\n   */\n  get type() {\n    return this.#type();\n  }\n  /**\n   * Whether the screen orientation is currently locked.\n   *\n   * @signal\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/ScreenOrientation}\n   * @see https://w3c.github.io/screen-orientation/#screen-orientation-types-and-locks\n   */\n  get locked() {\n    return this.#locked();\n  }\n  /**\n   * Whether the viewport is in a portrait orientation.\n   *\n   * @signal\n   */\n  get portrait() {\n    return this.#type().startsWith(\"portrait\");\n  }\n  /**\n   * Whether the viewport is in a landscape orientation.\n   *\n   * @signal\n   */\n  get landscape() {\n    return this.#type().startsWith(\"landscape\");\n  }\n  /**\n   * Whether the native Screen Orientation API is available.\n   */\n  static supported = canOrientScreen();\n  /**\n   * Whether the native Screen Orientation API is available.\n   */\n  get supported() {\n    return ScreenOrientationController.supported;\n  }\n  onConnect() {\n    if (this.supported) {\n      listenEvent(screen.orientation, \"change\", this.#onOrientationChange.bind(this));\n    } else {\n      const query = window.matchMedia(\"(orientation: landscape)\");\n      query.onchange = this.#onOrientationChange.bind(this);\n      onDispose(() => query.onchange = null);\n    }\n    onDispose(this.#onDisconnect.bind(this));\n  }\n  async #onDisconnect() {\n    if (this.supported && this.#locked()) await this.unlock();\n  }\n  #onOrientationChange(event) {\n    this.#type.set(this.#getScreenOrientation());\n    this.dispatch(\"orientation-change\", {\n      detail: {\n        orientation: peek(this.#type),\n        lock: this.#currentLock\n      },\n      trigger: event\n    });\n  }\n  /**\n   * Locks the orientation of the screen to the desired orientation type using the\n   * Screen Orientation API.\n   *\n   * @param lockType - The screen lock orientation type.\n   * @throws Error - If screen orientation API is unavailable.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation}\n   * @see {@link https://w3c.github.io/screen-orientation}\n   */\n  async lock(lockType) {\n    if (peek(this.#locked) || this.#currentLock === lockType) return;\n    this.#assertScreenOrientationAPI();\n    await screen.orientation.lock(lockType);\n    this.#locked.set(true);\n    this.#currentLock = lockType;\n  }\n  /**\n   * Unlocks the orientation of the screen to it's default state using the Screen Orientation\n   * API. This method will throw an error if the API is unavailable.\n   *\n   * @throws Error - If screen orientation API is unavailable.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation}\n   * @see {@link https://w3c.github.io/screen-orientation}\n   */\n  async unlock() {\n    if (!peek(this.#locked)) return;\n    this.#assertScreenOrientationAPI();\n    this.#currentLock = void 0;\n    await screen.orientation.unlock();\n    this.#locked.set(false);\n  }\n  #assertScreenOrientationAPI() {\n    if (this.supported) return;\n    throw Error(\n      \"[vidstack] screen orientation API is not available\" \n    );\n  }\n  #getScreenOrientation() {\n    if (IS_SERVER) return \"portrait-primary\";\n    if (this.supported) return window.screen.orientation.type;\n    return window.innerWidth >= window.innerHeight ? \"landscape-primary\" : \"portrait-primary\";\n  }\n}\n\nclass AudioProviderLoader {\n  name = \"audio\";\n  target;\n  canPlay(src) {\n    if (!isAudioSrc(src)) return false;\n    return IS_SERVER || !isString(src.src) || src.type === \"?\" || canPlayAudioType(this.target, src.type);\n  }\n  mediaType() {\n    return \"audio\";\n  }\n  async load(ctx) {\n    if (IS_SERVER) {\n      throw Error(\"[vidstack] can not load audio provider server-side\");\n    }\n    if (!this.target) {\n      throw Error(\n        \"[vidstack] `<audio>` element was not found - did you forget to include `<media-provider>`?\"\n      );\n    }\n    return new (await import('./vidstack-CnCZVzrO.js')).AudioProvider(this.target, ctx);\n  }\n}\n\nclass VideoProviderLoader {\n  name = \"video\";\n  target;\n  canPlay(src) {\n    if (!isVideoSrc(src)) return false;\n    return IS_SERVER || !isString(src.src) || src.type === \"?\" || canPlayVideoType(this.target, src.type);\n  }\n  mediaType() {\n    return \"video\";\n  }\n  async load(ctx) {\n    if (IS_SERVER) {\n      throw Error(\"[vidstack] can not load video provider server-side\");\n    }\n    if (!this.target) {\n      throw Error(\n        \"[vidstack] `<video>` element was not found - did you forget to include media provider?\"\n      );\n    }\n    return new (await Promise.resolve().then(function () { return provider$1; })).VideoProvider(this.target, ctx);\n  }\n}\n\nclass HLSProviderLoader extends VideoProviderLoader {\n  static supported = isHLSSupported();\n  name = \"hls\";\n  canPlay(src) {\n    return HLSProviderLoader.supported && isHLSSrc(src);\n  }\n  async load(context) {\n    if (IS_SERVER) {\n      throw Error(\"[vidstack] can not load hls provider server-side\");\n    }\n    if (!this.target) {\n      throw Error(\n        \"[vidstack] `<video>` element was not found - did you forget to include `<media-provider>`?\"\n      );\n    }\n    return new (await import('./vidstack-3ZPG_odG.js')).HLSProvider(this.target, context);\n  }\n}\n\nlet audioContext = null, gainNodes = [], elAudioSources = [];\nfunction getOrCreateAudioCtx() {\n  return audioContext ??= new AudioContext();\n}\nfunction createGainNode() {\n  const audioCtx = getOrCreateAudioCtx(), gainNode = audioCtx.createGain();\n  gainNode.connect(audioCtx.destination);\n  gainNodes.push(gainNode);\n  return gainNode;\n}\nfunction createElementSource(el, gainNode) {\n  const audioCtx = getOrCreateAudioCtx(), src = audioCtx.createMediaElementSource(el);\n  if (gainNode) {\n    src.connect(gainNode);\n  }\n  elAudioSources.push(src);\n  return src;\n}\nfunction destroyGainNode(node) {\n  const idx = gainNodes.indexOf(node);\n  if (idx !== -1) {\n    gainNodes.splice(idx, 1);\n    node.disconnect();\n    freeAudioCtxWhenAllResourcesFreed();\n  }\n}\nfunction destroyElementSource(src) {\n  const idx = elAudioSources.indexOf(src);\n  if (idx !== -1) {\n    elAudioSources.splice(idx, 1);\n    src.disconnect();\n    freeAudioCtxWhenAllResourcesFreed();\n  }\n}\nfunction freeAudioCtxWhenAllResourcesFreed() {\n  if (audioContext && gainNodes.length === 0 && elAudioSources.length === 0) {\n    audioContext.close().then(() => {\n      audioContext = null;\n    });\n  }\n}\n\nclass AudioGain {\n  #media;\n  #onChange;\n  #gainNode = null;\n  #srcAudioNode = null;\n  get currentGain() {\n    return this.#gainNode?.gain?.value ?? null;\n  }\n  get supported() {\n    return true;\n  }\n  constructor(media, onChange) {\n    this.#media = media;\n    this.#onChange = onChange;\n  }\n  setGain(gain) {\n    const currGain = this.currentGain;\n    if (gain === this.currentGain) {\n      return;\n    }\n    if (gain === 1 && currGain !== 1) {\n      this.removeGain();\n      return;\n    }\n    if (!this.#gainNode) {\n      this.#gainNode = createGainNode();\n      if (this.#srcAudioNode) {\n        this.#srcAudioNode.connect(this.#gainNode);\n      }\n    }\n    if (!this.#srcAudioNode) {\n      this.#srcAudioNode = createElementSource(this.#media, this.#gainNode);\n    }\n    this.#gainNode.gain.value = gain;\n    this.#onChange(gain);\n  }\n  removeGain() {\n    if (!this.#gainNode) return;\n    if (this.#srcAudioNode) {\n      this.#srcAudioNode.connect(getOrCreateAudioCtx().destination);\n    }\n    this.#destroyGainNode();\n    this.#onChange(null);\n  }\n  destroy() {\n    this.#destroySrcNode();\n    this.#destroyGainNode();\n  }\n  #destroySrcNode() {\n    if (!this.#srcAudioNode) return;\n    try {\n      destroyElementSource(this.#srcAudioNode);\n    } catch (e) {\n    } finally {\n      this.#srcAudioNode = null;\n    }\n  }\n  #destroyGainNode() {\n    if (!this.#gainNode) return;\n    try {\n      destroyGainNode(this.#gainNode);\n    } catch (e) {\n    } finally {\n      this.#gainNode = null;\n    }\n  }\n}\n\nconst PAGE_EVENTS = [\"focus\", \"blur\", \"visibilitychange\", \"pageshow\", \"pagehide\"];\nclass PageVisibility {\n  #state = signal(determinePageState());\n  #visibility = signal(IS_SERVER ? \"visible\" : document.visibilityState);\n  #safariBeforeUnloadTimeout;\n  connect() {\n    const events = new EventsController(window), handlePageEvent = this.#handlePageEvent.bind(this);\n    for (const eventType of PAGE_EVENTS) {\n      events.add(eventType, handlePageEvent);\n    }\n    if (IS_SAFARI) {\n      events.add(\"beforeunload\", (event) => {\n        this.#safariBeforeUnloadTimeout = setTimeout(() => {\n          if (!(event.defaultPrevented || event.returnValue.length > 0)) {\n            this.#state.set(\"hidden\");\n            this.#visibility.set(\"hidden\");\n          }\n        }, 0);\n      });\n    }\n  }\n  /**\n   * The current page state. Important to note we only account for a subset of page states, as\n   * the rest aren't valuable to the player at the moment.\n   *\n   * - **active:** A page is in the active state if it is visible and has input focus.\n   * - **passive:** A page is in the passive state if it is visible and does not have input focus.\n   * - **hidden:** A page is in the hidden state if it is not visible.\n   *\n   * @see https://developers.google.com/web/updates/2018/07/page-lifecycle-api#states\n   */\n  get pageState() {\n    return this.#state();\n  }\n  /**\n   * The current document visibility state.\n   *\n   * - **visible:** The page content may be at least partially visible. In practice, this means that\n   * the page is the foreground tab of a non-minimized window.\n   * - **hidden:** The page content is not visible to the user. In practice this means that the\n   * document is either a background tab or part of a minimized window, or the OS screen lock is\n   * active.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/visibilityState\n   */\n  get visibility() {\n    return this.#visibility();\n  }\n  #handlePageEvent(event) {\n    if (IS_SAFARI) window.clearTimeout(this.#safariBeforeUnloadTimeout);\n    if (event.type !== \"blur\" || this.#state() === \"active\") {\n      this.#state.set(determinePageState(event));\n      this.#visibility.set(document.visibilityState == \"hidden\" ? \"hidden\" : \"visible\");\n    }\n  }\n}\nfunction determinePageState(event) {\n  if (IS_SERVER) return \"hidden\";\n  if (event?.type === \"blur\" || document.visibilityState === \"hidden\") return \"hidden\";\n  if (document.hasFocus()) return \"active\";\n  return \"passive\";\n}\n\nclass RAFLoop {\n  #id;\n  #callback;\n  constructor(callback) {\n    this.#callback = callback;\n  }\n  start() {\n    if (!isUndefined(this.#id)) return;\n    this.#loop();\n  }\n  stop() {\n    if (isNumber(this.#id)) window.cancelAnimationFrame(this.#id);\n    this.#id = void 0;\n  }\n  #loop() {\n    this.#id = window.requestAnimationFrame(() => {\n      if (isUndefined(this.#id)) return;\n      this.#callback();\n      this.#loop();\n    });\n  }\n}\n\nclass HTMLMediaEvents {\n  #provider;\n  #ctx;\n  #waiting = false;\n  #attachedLoadStart = false;\n  #attachedCanPlay = false;\n  #timeRAF = new RAFLoop(this.#onAnimationFrame.bind(this));\n  #pageVisibility = new PageVisibility();\n  #events;\n  get #media() {\n    return this.#provider.media;\n  }\n  constructor(provider, ctx) {\n    this.#provider = provider;\n    this.#ctx = ctx;\n    this.#events = new EventsController(provider.media);\n    this.#attachInitialListeners();\n    this.#pageVisibility.connect();\n    effect(this.#attachTimeUpdate.bind(this));\n    onDispose(this.#onDispose.bind(this));\n  }\n  #onDispose() {\n    this.#attachedLoadStart = false;\n    this.#attachedCanPlay = false;\n    this.#timeRAF.stop();\n    this.#events.abort();\n    this.#devHandlers?.clear();\n  }\n  /**\n   * The `timeupdate` event fires surprisingly infrequently during playback, meaning your progress\n   * bar (or whatever else is synced to the currentTime) moves in a choppy fashion. This helps\n   * resolve that by retrieving time updates in a request animation frame loop.\n   */\n  #lastSeenTime = 0;\n  #seekedTo = -1;\n  #onAnimationFrame() {\n    const newTime = this.#media.currentTime;\n    const didStutter = IS_SAFARI && newTime - this.#seekedTo < 0.35;\n    if (!didStutter && this.#lastSeenTime !== newTime) {\n      this.#updateCurrentTime(newTime);\n      this.#lastSeenTime = newTime;\n    }\n  }\n  #attachInitialListeners() {\n    {\n      this.#ctx.logger?.info(\"attaching initial listeners\");\n    }\n    this.#attachEventListener(\"loadstart\", this.#onLoadStart);\n    this.#attachEventListener(\"abort\", this.#onAbort);\n    this.#attachEventListener(\"emptied\", this.#onEmptied);\n    this.#attachEventListener(\"error\", this.#onError);\n    this.#attachEventListener(\"volumechange\", this.#onVolumeChange);\n    this.#ctx.logger?.debug(\"attached initial media event listeners\");\n  }\n  #attachLoadStartListeners() {\n    if (this.#attachedLoadStart) return;\n    {\n      this.#ctx.logger?.info(\"attaching load start listeners\");\n    }\n    this.#attachEventListener(\"loadeddata\", this.#onLoadedData);\n    this.#attachEventListener(\"loadedmetadata\", this.#onLoadedMetadata);\n    this.#attachEventListener(\"canplay\", this.#onCanPlay);\n    this.#attachEventListener(\"canplaythrough\", this.#onCanPlayThrough);\n    this.#attachEventListener(\"durationchange\", this.#onDurationChange);\n    this.#attachEventListener(\"play\", this.#onPlay);\n    this.#attachEventListener(\"progress\", this.#onProgress);\n    this.#attachEventListener(\"stalled\", this.#onStalled);\n    this.#attachEventListener(\"suspend\", this.#onSuspend);\n    this.#attachEventListener(\"ratechange\", this.#onRateChange);\n    this.#attachedLoadStart = true;\n  }\n  #attachCanPlayListeners() {\n    if (this.#attachedCanPlay) return;\n    {\n      this.#ctx.logger?.info(\"attaching can play listeners\");\n    }\n    this.#attachEventListener(\"pause\", this.#onPause);\n    this.#attachEventListener(\"playing\", this.#onPlaying);\n    this.#attachEventListener(\"seeked\", this.#onSeeked);\n    this.#attachEventListener(\"seeking\", this.#onSeeking);\n    this.#attachEventListener(\"ended\", this.#onEnded);\n    this.#attachEventListener(\"waiting\", this.#onWaiting);\n    this.#attachedCanPlay = true;\n  }\n  #devHandlers = /* @__PURE__ */ new Map() ;\n  #handleDevEvent = this.#onDevEvent.bind(this) ;\n  #attachEventListener(eventType, handler) {\n    this.#devHandlers.set(eventType, handler);\n    this.#events.add(eventType, this.#handleDevEvent );\n  }\n  #onDevEvent(event2) {\n    this.#ctx.logger?.debugGroup(`\\u{1F4FA} provider fired \\`${event2.type}\\``).labelledLog(\"Provider\", this.#provider).labelledLog(\"Event\", event2).labelledLog(\"Media Store\", { ...this.#ctx.$state }).dispatch();\n    this.#devHandlers.get(event2.type)?.call(this, event2);\n  }\n  #updateCurrentTime(time, trigger) {\n    const newTime = Math.min(time, this.#ctx.$state.seekableEnd());\n    this.#ctx.notify(\"time-change\", newTime, trigger);\n  }\n  #onLoadStart(event2) {\n    if (this.#media.networkState === 3) {\n      this.#onAbort(event2);\n      return;\n    }\n    this.#attachLoadStartListeners();\n    this.#ctx.notify(\"load-start\", void 0, event2);\n  }\n  #onAbort(event2) {\n    this.#ctx.notify(\"abort\", void 0, event2);\n  }\n  #onEmptied() {\n    this.#ctx.notify(\"emptied\", void 0, event);\n  }\n  #onLoadedData(event2) {\n    this.#ctx.notify(\"loaded-data\", void 0, event2);\n  }\n  #onLoadedMetadata(event2) {\n    this.#lastSeenTime = 0;\n    this.#seekedTo = -1;\n    this.#attachCanPlayListeners();\n    this.#ctx.notify(\"loaded-metadata\", void 0, event2);\n    if (IS_IOS || IS_SAFARI && isHLSSrc(this.#ctx.$state.source())) {\n      this.#ctx.delegate.ready(this.#getCanPlayDetail(), event2);\n    }\n  }\n  #getCanPlayDetail() {\n    return {\n      provider: peek(this.#ctx.$provider),\n      duration: this.#media.duration,\n      buffered: this.#media.buffered,\n      seekable: this.#media.seekable\n    };\n  }\n  #onPlay(event2) {\n    if (!this.#ctx.$state.canPlay) return;\n    this.#ctx.notify(\"play\", void 0, event2);\n  }\n  #onPause(event2) {\n    if (this.#media.readyState === 1 && !this.#waiting) return;\n    this.#waiting = false;\n    this.#timeRAF.stop();\n    this.#ctx.notify(\"pause\", void 0, event2);\n  }\n  #onCanPlay(event2) {\n    this.#ctx.delegate.ready(this.#getCanPlayDetail(), event2);\n  }\n  #onCanPlayThrough(event2) {\n    if (this.#ctx.$state.started()) return;\n    this.#ctx.notify(\"can-play-through\", this.#getCanPlayDetail(), event2);\n  }\n  #onPlaying(event2) {\n    if (this.#media.paused) return;\n    this.#waiting = false;\n    this.#ctx.notify(\"playing\", void 0, event2);\n    this.#timeRAF.start();\n  }\n  #onStalled(event2) {\n    this.#ctx.notify(\"stalled\", void 0, event2);\n    if (this.#media.readyState < 3) {\n      this.#waiting = true;\n      this.#ctx.notify(\"waiting\", void 0, event2);\n    }\n  }\n  #onWaiting(event2) {\n    if (this.#media.readyState < 3) {\n      this.#waiting = true;\n      this.#ctx.notify(\"waiting\", void 0, event2);\n    }\n  }\n  #onEnded(event2) {\n    this.#timeRAF.stop();\n    this.#updateCurrentTime(this.#media.duration, event2);\n    this.#ctx.notify(\"end\", void 0, event2);\n    if (this.#ctx.$state.loop()) {\n      const hasCustomControls = isNil(this.#media.controls);\n      if (hasCustomControls) this.#media.controls = false;\n    }\n  }\n  #attachTimeUpdate() {\n    const isPaused = this.#ctx.$state.paused(), isPageHidden = this.#pageVisibility.visibility === \"hidden\", shouldListenToTimeUpdates = isPaused || isPageHidden;\n    if (shouldListenToTimeUpdates) {\n      listenEvent(this.#media, \"timeupdate\", this.#onTimeUpdate.bind(this));\n    }\n  }\n  #onTimeUpdate(event2) {\n    this.#updateCurrentTime(this.#media.currentTime, event2);\n  }\n  #onDurationChange(event2) {\n    if (this.#ctx.$state.ended()) {\n      this.#updateCurrentTime(this.#media.duration, event2);\n    }\n    this.#ctx.notify(\"duration-change\", this.#media.duration, event2);\n  }\n  #onVolumeChange(event2) {\n    const detail = {\n      volume: this.#media.volume,\n      muted: this.#media.muted\n    };\n    this.#ctx.notify(\"volume-change\", detail, event2);\n  }\n  #onSeeked(event2) {\n    this.#seekedTo = this.#media.currentTime;\n    this.#updateCurrentTime(this.#media.currentTime, event2);\n    this.#ctx.notify(\"seeked\", this.#media.currentTime, event2);\n    if (Math.trunc(this.#media.currentTime) === Math.trunc(this.#media.duration) && getNumberOfDecimalPlaces(this.#media.duration) > getNumberOfDecimalPlaces(this.#media.currentTime)) {\n      this.#updateCurrentTime(this.#media.duration, event2);\n      if (!this.#media.ended) {\n        this.#ctx.player.dispatch(\n          new DOMEvent(\"media-play-request\", {\n            trigger: event2\n          })\n        );\n      }\n    }\n  }\n  #onSeeking(event2) {\n    this.#ctx.notify(\"seeking\", this.#media.currentTime, event2);\n  }\n  #onProgress(event2) {\n    const detail = {\n      buffered: this.#media.buffered,\n      seekable: this.#media.seekable\n    };\n    this.#ctx.notify(\"progress\", detail, event2);\n  }\n  #onSuspend(event2) {\n    this.#ctx.notify(\"suspend\", void 0, event2);\n  }\n  #onRateChange(event2) {\n    this.#ctx.notify(\"rate-change\", this.#media.playbackRate, event2);\n  }\n  #onError(event2) {\n    const error = this.#media.error;\n    if (!error) return;\n    const detail = {\n      message: error.message,\n      code: error.code,\n      mediaError: error\n    };\n    this.#ctx.notify(\"error\", detail, event2);\n  }\n}\n\nclass NativeAudioTracks {\n  #provider;\n  #ctx;\n  get #nativeTracks() {\n    return this.#provider.media.audioTracks;\n  }\n  constructor(provider, ctx) {\n    this.#provider = provider;\n    this.#ctx = ctx;\n    this.#nativeTracks.onaddtrack = this.#onAddNativeTrack.bind(this);\n    this.#nativeTracks.onremovetrack = this.#onRemoveNativeTrack.bind(this);\n    this.#nativeTracks.onchange = this.#onChangeNativeTrack.bind(this);\n    listenEvent(this.#ctx.audioTracks, \"change\", this.#onChangeTrack.bind(this));\n  }\n  #onAddNativeTrack(event) {\n    const nativeTrack = event.track;\n    if (nativeTrack.label === \"\") return;\n    const id = nativeTrack.id.toString() || `native-audio-${this.#ctx.audioTracks.length}`, audioTrack = {\n      id,\n      label: nativeTrack.label,\n      language: nativeTrack.language,\n      kind: nativeTrack.kind,\n      selected: false\n    };\n    this.#ctx.audioTracks[ListSymbol.add](audioTrack, event);\n    if (nativeTrack.enabled) audioTrack.selected = true;\n  }\n  #onRemoveNativeTrack(event) {\n    const track = this.#ctx.audioTracks.getById(event.track.id);\n    if (track) this.#ctx.audioTracks[ListSymbol.remove](track, event);\n  }\n  #onChangeNativeTrack(event) {\n    let enabledTrack = this.#getEnabledNativeTrack();\n    if (!enabledTrack) return;\n    const track = this.#ctx.audioTracks.getById(enabledTrack.id);\n    if (track) this.#ctx.audioTracks[ListSymbol.select](track, true, event);\n  }\n  #getEnabledNativeTrack() {\n    return Array.from(this.#nativeTracks).find((track) => track.enabled);\n  }\n  #onChangeTrack(event) {\n    const { current } = event.detail;\n    if (!current) return;\n    const track = this.#nativeTracks.getTrackById(current.id);\n    if (track) {\n      const prev = this.#getEnabledNativeTrack();\n      if (prev) prev.enabled = false;\n      track.enabled = true;\n    }\n  }\n}\n\nclass HTMLMediaProvider {\n  constructor(media, ctx) {\n    this.media = media;\n    this.ctx = ctx;\n    this.audioGain = new AudioGain(media, (gain) => {\n      this.ctx.notify(\"audio-gain-change\", gain);\n    });\n  }\n  scope = createScope();\n  currentSrc = null;\n  audioGain;\n  setup() {\n    new HTMLMediaEvents(this, this.ctx);\n    if (\"audioTracks\" in this.media) new NativeAudioTracks(this, this.ctx);\n    onDispose(() => {\n      this.audioGain.destroy();\n      this.media.srcObject = null;\n      this.media.removeAttribute(\"src\");\n      for (const source of this.media.querySelectorAll(\"source\")) source.remove();\n      this.media.load();\n    });\n  }\n  get type() {\n    return \"\";\n  }\n  setPlaybackRate(rate) {\n    this.media.playbackRate = rate;\n  }\n  async play() {\n    return this.media.play();\n  }\n  async pause() {\n    return this.media.pause();\n  }\n  setMuted(muted) {\n    this.media.muted = muted;\n  }\n  setVolume(volume) {\n    this.media.volume = volume;\n  }\n  setCurrentTime(time) {\n    this.media.currentTime = time;\n  }\n  setPlaysInline(inline) {\n    setAttribute(this.media, \"playsinline\", inline);\n  }\n  async loadSource({ src, type }, preload) {\n    this.media.preload = preload || \"\";\n    if (isMediaStream(src)) {\n      this.removeSource();\n      this.media.srcObject = src;\n    } else {\n      this.media.srcObject = null;\n      if (isString(src)) {\n        if (type !== \"?\") {\n          this.appendSource({ src, type });\n        } else {\n          this.removeSource();\n          this.media.src = this.#appendMediaFragment(src);\n        }\n      } else {\n        this.removeSource();\n        this.media.src = window.URL.createObjectURL(src);\n      }\n    }\n    this.media.load();\n    this.currentSrc = { src, type };\n  }\n  /**\n   * Append source so it works when requesting AirPlay since hls.js will remove it.\n   */\n  appendSource(src, defaultType) {\n    const prevSource = this.media.querySelector(\"source[data-vds]\"), source = prevSource ?? document.createElement(\"source\");\n    setAttribute(source, \"src\", this.#appendMediaFragment(src.src));\n    setAttribute(source, \"type\", src.type !== \"?\" ? src.type : defaultType);\n    setAttribute(source, \"data-vds\", \"\");\n    if (!prevSource) this.media.append(source);\n  }\n  removeSource() {\n    this.media.querySelector(\"source[data-vds]\")?.remove();\n  }\n  #appendMediaFragment(src) {\n    const { clipStartTime, clipEndTime } = this.ctx.$state, startTime = clipStartTime(), endTime = clipEndTime();\n    if (startTime > 0 && endTime > 0) {\n      return `${src}#t=${startTime},${endTime}`;\n    } else if (startTime > 0) {\n      return `${src}#t=${startTime}`;\n    } else if (endTime > 0) {\n      return `${src}#t=0,${endTime}`;\n    }\n    return src;\n  }\n}\n\nclass HTMLRemotePlaybackAdapter {\n  #media;\n  #ctx;\n  #state;\n  #supported = signal(false);\n  get supported() {\n    return this.#supported();\n  }\n  constructor(media, ctx) {\n    this.#media = media;\n    this.#ctx = ctx;\n    this.#setup();\n  }\n  #setup() {\n    if (IS_SERVER || !this.#media?.remote || !this.canPrompt) return;\n    this.#media.remote.watchAvailability((available) => {\n      this.#supported.set(available);\n    }).catch(() => {\n      this.#supported.set(false);\n    });\n    effect(this.#watchSupported.bind(this));\n  }\n  #watchSupported() {\n    if (!this.#supported()) return;\n    const events = [\"connecting\", \"connect\", \"disconnect\"], onStateChange = this.#onStateChange.bind(this);\n    onStateChange();\n    listenEvent(this.#media, \"playing\", onStateChange);\n    const remoteEvents = new EventsController(this.#media.remote);\n    for (const type of events) {\n      remoteEvents.add(type, onStateChange);\n    }\n  }\n  async prompt() {\n    if (!this.supported) throw Error(\"Not supported on this platform.\");\n    if (this.type === \"airplay\" && this.#media.webkitShowPlaybackTargetPicker) {\n      return this.#media.webkitShowPlaybackTargetPicker();\n    }\n    return this.#media.remote.prompt();\n  }\n  #onStateChange(event) {\n    const state = this.#media.remote.state;\n    if (state === this.#state) return;\n    const detail = { type: this.type, state };\n    this.#ctx.notify(\"remote-playback-change\", detail, event);\n    this.#state = state;\n  }\n}\nclass HTMLAirPlayAdapter extends HTMLRemotePlaybackAdapter {\n  type = \"airplay\";\n  get canPrompt() {\n    return \"WebKitPlaybackTargetAvailabilityEvent\" in window;\n  }\n}\n\nclass NativeHLSTextTracks {\n  #video;\n  #ctx;\n  constructor(video, ctx) {\n    this.#video = video;\n    this.#ctx = ctx;\n    video.textTracks.onaddtrack = this.#onAddTrack.bind(this);\n    onDispose(this.#onDispose.bind(this));\n  }\n  #onAddTrack(event) {\n    const nativeTrack = event.track;\n    if (!nativeTrack || findTextTrackElement(this.#video, nativeTrack)) return;\n    const track = new TextTrack({\n      id: nativeTrack.id,\n      kind: nativeTrack.kind,\n      label: nativeTrack.label ?? \"\",\n      language: nativeTrack.language,\n      type: \"vtt\"\n    });\n    track[TextTrackSymbol.native] = { track: nativeTrack };\n    track[TextTrackSymbol.readyState] = 2;\n    track[TextTrackSymbol.nativeHLS] = true;\n    let lastIndex = 0;\n    const onCueChange = (event2) => {\n      if (!nativeTrack.cues) return;\n      for (let i = lastIndex; i < nativeTrack.cues.length; i++) {\n        track.addCue(nativeTrack.cues[i], event2);\n        lastIndex++;\n      }\n    };\n    onCueChange(event);\n    nativeTrack.oncuechange = onCueChange;\n    this.#ctx.textTracks.add(track, event);\n    track.setMode(nativeTrack.mode, event);\n  }\n  #onDispose() {\n    this.#video.textTracks.onaddtrack = null;\n    for (const track of this.#ctx.textTracks) {\n      const nativeTrack = track[TextTrackSymbol.native]?.track;\n      if (nativeTrack?.oncuechange) nativeTrack.oncuechange = null;\n    }\n  }\n}\nfunction findTextTrackElement(video, track) {\n  return Array.from(video.children).find((el) => el.track === track);\n}\n\nclass VideoPictureInPicture {\n  #video;\n  #media;\n  constructor(video, media) {\n    this.#video = video;\n    this.#media = media;\n    new EventsController(video).add(\"enterpictureinpicture\", this.#onEnter.bind(this)).add(\"leavepictureinpicture\", this.#onExit.bind(this));\n  }\n  get active() {\n    return document.pictureInPictureElement === this.#video;\n  }\n  get supported() {\n    return canUsePictureInPicture(this.#video);\n  }\n  async enter() {\n    return this.#video.requestPictureInPicture();\n  }\n  exit() {\n    return document.exitPictureInPicture();\n  }\n  #onEnter(event) {\n    this.#onChange(true, event);\n  }\n  #onExit(event) {\n    this.#onChange(false, event);\n  }\n  #onChange = (active, event) => {\n    this.#media.notify(\"picture-in-picture-change\", active, event);\n  };\n}\n\nclass VideoPresentation {\n  #video;\n  #media;\n  #mode = \"inline\";\n  get mode() {\n    return this.#mode;\n  }\n  constructor(video, media) {\n    this.#video = video;\n    this.#media = media;\n    listenEvent(video, \"webkitpresentationmodechanged\", this.#onModeChange.bind(this));\n  }\n  get supported() {\n    return canUseVideoPresentation(this.#video);\n  }\n  async setPresentationMode(mode) {\n    if (this.#mode === mode) return;\n    this.#video.webkitSetPresentationMode(mode);\n  }\n  #onModeChange(event) {\n    const prevMode = this.#mode;\n    this.#mode = this.#video.webkitPresentationMode;\n    {\n      this.#media.logger?.infoGroup(\"presentation mode change\").labelledLog(\"Mode\", this.#mode).labelledLog(\"Event\", event).dispatch();\n    }\n    this.#media.player?.dispatch(\n      new DOMEvent(\"video-presentation-change\", {\n        detail: this.#mode,\n        trigger: event\n      })\n    );\n    [\"fullscreen\", \"picture-in-picture\"].forEach((type) => {\n      if (this.#mode === type || prevMode === type) {\n        this.#media.notify(`${type}-change`, this.#mode === type, event);\n      }\n    });\n  }\n}\nclass FullscreenPresentationAdapter {\n  #presentation;\n  get active() {\n    return this.#presentation.mode === \"fullscreen\";\n  }\n  get supported() {\n    return this.#presentation.supported;\n  }\n  constructor(presentation) {\n    this.#presentation = presentation;\n  }\n  async enter() {\n    this.#presentation.setPresentationMode(\"fullscreen\");\n  }\n  async exit() {\n    this.#presentation.setPresentationMode(\"inline\");\n  }\n}\nclass PIPPresentationAdapter {\n  #presentation;\n  get active() {\n    return this.#presentation.mode === \"picture-in-picture\";\n  }\n  get supported() {\n    return this.#presentation.supported;\n  }\n  constructor(presentation) {\n    this.#presentation = presentation;\n  }\n  async enter() {\n    this.#presentation.setPresentationMode(\"picture-in-picture\");\n  }\n  async exit() {\n    this.#presentation.setPresentationMode(\"inline\");\n  }\n}\n\nclass VideoProvider extends HTMLMediaProvider {\n  $$PROVIDER_TYPE = \"VIDEO\";\n  get type() {\n    return \"video\";\n  }\n  airPlay;\n  fullscreen;\n  pictureInPicture;\n  constructor(video, ctx) {\n    super(video, ctx);\n    scoped(() => {\n      this.airPlay = new HTMLAirPlayAdapter(video, ctx);\n      if (canUseVideoPresentation(video)) {\n        const presentation = new VideoPresentation(video, ctx);\n        this.fullscreen = new FullscreenPresentationAdapter(presentation);\n        this.pictureInPicture = new PIPPresentationAdapter(presentation);\n      } else if (canUsePictureInPicture(video)) {\n        this.pictureInPicture = new VideoPictureInPicture(video, ctx);\n      }\n    }, this.scope);\n  }\n  setup() {\n    super.setup();\n    if (canPlayHLSNatively(this.video)) {\n      new NativeHLSTextTracks(this.video, this.ctx);\n    }\n    this.ctx.textRenderers.attachVideo(this.video);\n    onDispose(() => {\n      this.ctx.textRenderers.attachVideo(null);\n    });\n    if (this.type === \"video\") this.ctx.notify(\"provider-setup\", this);\n  }\n  /**\n   * The native HTML `<video>` element.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement}\n   */\n  get video() {\n    return this.media;\n  }\n}\n\nvar provider$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  VideoProvider: VideoProvider\n});\n\nfunction getLangName(langCode) {\n  try {\n    const displayNames = new Intl.DisplayNames(navigator.languages, { type: \"language\" });\n    const languageName = displayNames.of(langCode);\n    return languageName ?? null;\n  } catch (err) {\n    return null;\n  }\n}\n\nconst toDOMEventType = (type) => `dash-${camelToKebabCase(type)}`;\nclass DASHController {\n  #video;\n  #ctx;\n  #instance = null;\n  #callbacks = /* @__PURE__ */ new Set();\n  #stopLiveSync = null;\n  config = {};\n  get instance() {\n    return this.#instance;\n  }\n  constructor(video, ctx) {\n    this.#video = video;\n    this.#ctx = ctx;\n  }\n  setup(ctor) {\n    this.#instance = ctor().create();\n    const dispatcher = this.#dispatchDASHEvent.bind(this);\n    for (const event of Object.values(ctor.events)) this.#instance.on(event, dispatcher);\n    this.#instance.on(ctor.events.ERROR, this.#onError.bind(this));\n    for (const callback of this.#callbacks) callback(this.#instance);\n    this.#ctx.player.dispatch(\"dash-instance\", {\n      detail: this.#instance\n    });\n    this.#instance.initialize(this.#video, void 0, false);\n    this.#instance.updateSettings({\n      streaming: {\n        text: {\n          // Disabling text rendering by dash.\n          defaultEnabled: false,\n          dispatchForManualRendering: true\n        },\n        buffer: {\n          /// Enables buffer replacement when switching bitrates for faster switching.\n          fastSwitchEnabled: true\n        }\n      },\n      ...this.config\n    });\n    this.#instance.on(ctor.events.FRAGMENT_LOADING_STARTED, this.#onFragmentLoadStart.bind(this));\n    this.#instance.on(\n      ctor.events.FRAGMENT_LOADING_COMPLETED,\n      this.#onFragmentLoadComplete.bind(this)\n    );\n    this.#instance.on(ctor.events.MANIFEST_LOADED, this.#onManifestLoaded.bind(this));\n    this.#instance.on(ctor.events.QUALITY_CHANGE_RENDERED, this.#onQualityChange.bind(this));\n    this.#instance.on(ctor.events.TEXT_TRACKS_ADDED, this.#onTextTracksAdded.bind(this));\n    this.#instance.on(ctor.events.TRACK_CHANGE_RENDERED, this.#onTrackChange.bind(this));\n    this.#ctx.qualities[QualitySymbol.enableAuto] = this.#enableAutoQuality.bind(this);\n    listenEvent(this.#ctx.qualities, \"change\", this.#onUserQualityChange.bind(this));\n    listenEvent(this.#ctx.audioTracks, \"change\", this.#onUserAudioChange.bind(this));\n    this.#stopLiveSync = effect(this.#liveSync.bind(this));\n  }\n  #createDOMEvent(event) {\n    return new DOMEvent(toDOMEventType(event.type), { detail: event });\n  }\n  #liveSync() {\n    if (!this.#ctx.$state.live()) return;\n    const raf = new RAFLoop(this.#liveSyncPosition.bind(this));\n    raf.start();\n    return raf.stop.bind(raf);\n  }\n  #liveSyncPosition() {\n    if (!this.#instance) return;\n    const position = this.#instance.duration() - this.#instance.time();\n    this.#ctx.$state.liveSyncPosition.set(!isNaN(position) ? position : Infinity);\n  }\n  #dispatchDASHEvent(event) {\n    this.#ctx.player?.dispatch(this.#createDOMEvent(event));\n  }\n  #currentTrack = null;\n  #cueTracker = {};\n  #onTextFragmentLoaded(event) {\n    const native = this.#currentTrack?.[TextTrackSymbol.native], cues = (native?.track).cues;\n    if (!native || !cues) return;\n    const id = this.#currentTrack.id, startIndex = this.#cueTracker[id] ?? 0, trigger = this.#createDOMEvent(event);\n    for (let i = startIndex; i < cues.length; i++) {\n      const cue = cues[i];\n      if (!cue.positionAlign) cue.positionAlign = \"auto\";\n      this.#currentTrack.addCue(cue, trigger);\n    }\n    this.#cueTracker[id] = cues.length;\n  }\n  #onTextTracksAdded(event) {\n    if (!this.#instance) return;\n    const data = event.tracks, nativeTextTracks = [...this.#video.textTracks].filter((track) => \"manualMode\" in track), trigger = this.#createDOMEvent(event);\n    for (let i = 0; i < nativeTextTracks.length; i++) {\n      const textTrackInfo = data[i], nativeTextTrack = nativeTextTracks[i];\n      const id = `dash-${textTrackInfo.kind}-${i}`, track = new TextTrack({\n        id,\n        label: textTrackInfo?.label ?? textTrackInfo.labels.find((t) => t.text)?.text ?? (textTrackInfo?.lang && getLangName(textTrackInfo.lang)) ?? textTrackInfo?.lang ?? void 0,\n        language: textTrackInfo.lang ?? void 0,\n        kind: textTrackInfo.kind,\n        default: textTrackInfo.defaultTrack\n      });\n      track[TextTrackSymbol.native] = {\n        managed: true,\n        track: nativeTextTrack\n      };\n      track[TextTrackSymbol.readyState] = 2;\n      track[TextTrackSymbol.onModeChange] = () => {\n        if (!this.#instance) return;\n        if (track.mode === \"showing\") {\n          this.#instance.setTextTrack(i);\n          this.#currentTrack = track;\n        } else {\n          this.#instance.setTextTrack(-1);\n          this.#currentTrack = null;\n        }\n      };\n      this.#ctx.textTracks.add(track, trigger);\n    }\n  }\n  #onTrackChange(event) {\n    const { mediaType, newMediaInfo } = event;\n    if (mediaType === \"audio\") {\n      const track = this.#ctx.audioTracks.getById(`dash-audio-${newMediaInfo.index}`);\n      if (track) {\n        const trigger = this.#createDOMEvent(event);\n        this.#ctx.audioTracks[ListSymbol.select](track, true, trigger);\n      }\n    }\n  }\n  #onQualityChange(event) {\n    if (event.mediaType !== \"video\") return;\n    const quality = this.#ctx.qualities[event.newQuality];\n    if (quality) {\n      const trigger = this.#createDOMEvent(event);\n      this.#ctx.qualities[ListSymbol.select](quality, true, trigger);\n    }\n  }\n  #onManifestLoaded(event) {\n    if (this.#ctx.$state.canPlay() || !this.#instance) return;\n    const { type, mediaPresentationDuration } = event.data, trigger = this.#createDOMEvent(event);\n    this.#ctx.notify(\"stream-type-change\", type !== \"static\" ? \"live\" : \"on-demand\", trigger);\n    this.#ctx.notify(\"duration-change\", mediaPresentationDuration, trigger);\n    this.#ctx.qualities[QualitySymbol.setAuto](true, trigger);\n    const media = this.#instance.getVideoElement();\n    const videoQualities = this.#instance.getTracksForTypeFromManifest(\n      \"video\",\n      event.data\n    );\n    const supportedVideoMimeType = [...new Set(videoQualities.map((e) => e.mimeType))].find(\n      (type2) => type2 && canPlayVideoType(media, type2)\n    );\n    const videoQuality = videoQualities.filter(\n      (track) => supportedVideoMimeType === track.mimeType\n    )[0];\n    let audioTracks = this.#instance.getTracksForTypeFromManifest(\n      \"audio\",\n      event.data\n    );\n    const supportedAudioMimeType = [...new Set(audioTracks.map((e) => e.mimeType))].find(\n      (type2) => type2 && canPlayAudioType(media, type2)\n    );\n    audioTracks = audioTracks.filter((track) => supportedAudioMimeType === track.mimeType);\n    videoQuality.bitrateList.forEach((bitrate, index) => {\n      const quality = {\n        id: bitrate.id?.toString() ?? `dash-bitrate-${index}`,\n        width: bitrate.width ?? 0,\n        height: bitrate.height ?? 0,\n        bitrate: bitrate.bandwidth ?? 0,\n        codec: videoQuality.codec,\n        index\n      };\n      this.#ctx.qualities[ListSymbol.add](quality, trigger);\n    });\n    if (isNumber(videoQuality.index)) {\n      const quality = this.#ctx.qualities[videoQuality.index];\n      if (quality) this.#ctx.qualities[ListSymbol.select](quality, true, trigger);\n    }\n    audioTracks.forEach((audioTrack, index) => {\n      const matchingLabel = audioTrack.labels.find((label2) => {\n        return navigator.languages.some((language) => {\n          return label2.lang && language.toLowerCase().startsWith(label2.lang.toLowerCase());\n        });\n      });\n      const label = matchingLabel || audioTrack.labels[0];\n      const localTrack = {\n        id: `dash-audio-${audioTrack?.index}`,\n        label: label?.text ?? (audioTrack.lang && getLangName(audioTrack.lang)) ?? audioTrack.lang ?? \"\",\n        language: audioTrack.lang ?? \"\",\n        kind: \"main\",\n        mimeType: audioTrack.mimeType,\n        codec: audioTrack.codec,\n        index\n      };\n      this.#ctx.audioTracks[ListSymbol.add](localTrack, trigger);\n    });\n    media.dispatchEvent(new DOMEvent(\"canplay\", { trigger }));\n  }\n  #onError(event) {\n    const { type: eventType, error: data } = event;\n    {\n      this.#ctx.logger?.errorGroup(`[vidstack] DASH error \\`${data.message}\\``).labelledLog(\"Media Element\", this.#video).labelledLog(\"DASH Instance\", this.#instance).labelledLog(\"Event Type\", eventType).labelledLog(\"Data\", data).labelledLog(\"Src\", peek(this.#ctx.$state.source)).labelledLog(\"Media Store\", { ...this.#ctx.$state }).dispatch();\n    }\n    switch (data.code) {\n      case 27:\n        this.#onNetworkError(data);\n        break;\n      default:\n        this.#onFatalError(data);\n        break;\n    }\n  }\n  #onFragmentLoadStart() {\n    if (this.#retryLoadingTimer >= 0) this.#clearRetryTimer();\n  }\n  #onFragmentLoadComplete(event) {\n    const mediaType = event.mediaType;\n    if (mediaType === \"text\") {\n      requestAnimationFrame(this.#onTextFragmentLoaded.bind(this, event));\n    }\n  }\n  #retryLoadingTimer = -1;\n  #onNetworkError(error) {\n    this.#clearRetryTimer();\n    this.#instance?.play();\n    this.#retryLoadingTimer = window.setTimeout(() => {\n      this.#retryLoadingTimer = -1;\n      this.#onFatalError(error);\n    }, 5e3);\n  }\n  #clearRetryTimer() {\n    clearTimeout(this.#retryLoadingTimer);\n    this.#retryLoadingTimer = -1;\n  }\n  #onFatalError(error) {\n    this.#ctx.notify(\"error\", {\n      message: error.message ?? \"\",\n      code: 1,\n      error\n    });\n  }\n  #enableAutoQuality() {\n    this.#switchAutoBitrate(\"video\", true);\n    const { qualities } = this.#ctx;\n    this.#instance?.setQualityFor(\"video\", qualities.selectedIndex, true);\n  }\n  #switchAutoBitrate(type, auto) {\n    this.#instance?.updateSettings({\n      streaming: { abr: { autoSwitchBitrate: { [type]: auto } } }\n    });\n  }\n  #onUserQualityChange() {\n    const { qualities } = this.#ctx;\n    if (!this.#instance || qualities.auto || !qualities.selected) return;\n    this.#switchAutoBitrate(\"video\", false);\n    this.#instance.setQualityFor(\"video\", qualities.selectedIndex, qualities.switch === \"current\");\n    if (IS_CHROME) {\n      this.#video.currentTime = this.#video.currentTime;\n    }\n  }\n  #onUserAudioChange() {\n    if (!this.#instance) return;\n    const { audioTracks } = this.#ctx, selectedTrack = this.#instance.getTracksFor(\"audio\").find(\n      (track) => audioTracks.selected && audioTracks.selected.id === `dash-audio-${track.index}`\n    );\n    if (selectedTrack) this.#instance.setCurrentTrack(selectedTrack);\n  }\n  #reset() {\n    this.#clearRetryTimer();\n    this.#currentTrack = null;\n    this.#cueTracker = {};\n  }\n  onInstance(callback) {\n    this.#callbacks.add(callback);\n    return () => this.#callbacks.delete(callback);\n  }\n  loadSource(src) {\n    this.#reset();\n    if (!isString(src.src)) return;\n    this.#instance?.attachSource(src.src);\n  }\n  destroy() {\n    this.#reset();\n    this.#instance?.destroy();\n    this.#instance = null;\n    this.#stopLiveSync?.();\n    this.#stopLiveSync = null;\n    this.#ctx?.logger?.info(\"\\u{1F3D7}\\uFE0F Destroyed DASH instance\");\n  }\n}\n\nfunction coerceToError(error) {\n  return error instanceof Error ? error : Error(typeof error === \"string\" ? error : JSON.stringify(error));\n}\nfunction assert(condition, message) {\n  if (!condition) {\n    throw Error(message || \"Assertion failed.\");\n  }\n}\n\nclass DASHLibLoader {\n  #lib;\n  #ctx;\n  #callback;\n  constructor(lib, ctx, callback) {\n    this.#lib = lib;\n    this.#ctx = ctx;\n    this.#callback = callback;\n    this.#startLoading();\n  }\n  async #startLoading() {\n    this.#ctx.logger?.info(\"\\u{1F3D7}\\uFE0F Loading DASH Library\");\n    const callbacks = {\n      onLoadStart: this.#onLoadStart.bind(this),\n      onLoaded: this.#onLoaded.bind(this),\n      onLoadError: this.#onLoadError.bind(this)\n    };\n    let ctor = await loadDASHScript(this.#lib, callbacks);\n    if (isUndefined(ctor) && !isString(this.#lib)) ctor = await importDASH(this.#lib, callbacks);\n    if (!ctor) return null;\n    if (!window.dashjs.supportsMediaSource()) {\n      const message = \"[vidstack] `dash.js` is not supported in this environment\";\n      this.#ctx.logger?.error(message);\n      this.#ctx.player.dispatch(new DOMEvent(\"dash-unsupported\"));\n      this.#ctx.notify(\"error\", { message, code: 4 });\n      return null;\n    }\n    return ctor;\n  }\n  #onLoadStart() {\n    {\n      this.#ctx.logger?.infoGroup(\"Starting to load `dash.js`\").labelledLog(\"URL\", this.#lib).dispatch();\n    }\n    this.#ctx.player.dispatch(new DOMEvent(\"dash-lib-load-start\"));\n  }\n  #onLoaded(ctor) {\n    {\n      this.#ctx.logger?.infoGroup(\"Loaded `dash.js`\").labelledLog(\"Library\", this.#lib).labelledLog(\"Constructor\", ctor).dispatch();\n    }\n    this.#ctx.player.dispatch(\n      new DOMEvent(\"dash-lib-loaded\", {\n        detail: ctor\n      })\n    );\n    this.#callback(ctor);\n  }\n  #onLoadError(e) {\n    const error = coerceToError(e);\n    {\n      this.#ctx.logger?.errorGroup(\"[vidstack] Failed to load `dash.js`\").labelledLog(\"Library\", this.#lib).labelledLog(\"Error\", e).dispatch();\n    }\n    this.#ctx.player.dispatch(\n      new DOMEvent(\"dash-lib-load-error\", {\n        detail: error\n      })\n    );\n    this.#ctx.notify(\"error\", {\n      message: error.message,\n      code: 4,\n      error\n    });\n  }\n}\nasync function importDASH(loader, callbacks = {}) {\n  if (isUndefined(loader)) return void 0;\n  callbacks.onLoadStart?.();\n  if (isDASHConstructor(loader)) {\n    callbacks.onLoaded?.(loader);\n    return loader;\n  }\n  if (isDASHNamespace(loader)) {\n    const ctor = loader.MediaPlayer;\n    callbacks.onLoaded?.(ctor);\n    return ctor;\n  }\n  try {\n    const ctor = (await loader())?.default;\n    if (isDASHNamespace(ctor)) {\n      callbacks.onLoaded?.(ctor.MediaPlayer);\n      return ctor.MediaPlayer;\n    }\n    if (ctor) {\n      callbacks.onLoaded?.(ctor);\n    } else {\n      throw Error(\n        true ? \"[vidstack] failed importing `dash.js`. Dynamic import returned invalid object.\" : \"\"\n      );\n    }\n    return ctor;\n  } catch (err) {\n    callbacks.onLoadError?.(err);\n  }\n  return void 0;\n}\nasync function loadDASHScript(src, callbacks = {}) {\n  if (!isString(src)) return void 0;\n  callbacks.onLoadStart?.();\n  try {\n    await loadScript(src);\n    if (!isFunction(window.dashjs.MediaPlayer)) {\n      throw Error(\n        true ? \"[vidstack] failed loading `dash.js`. Could not find a valid `Dash` constructor on window\" : \"\"\n      );\n    }\n    const ctor = window.dashjs.MediaPlayer;\n    callbacks.onLoaded?.(ctor);\n    return ctor;\n  } catch (err) {\n    callbacks.onLoadError?.(err);\n  }\n  return void 0;\n}\nfunction isDASHConstructor(value) {\n  return value && value.prototype && value.prototype !== Function;\n}\nfunction isDASHNamespace(value) {\n  return value && \"MediaPlayer\" in value;\n}\n\nconst JS_DELIVR_CDN = \"https://cdn.jsdelivr.net\";\nclass DASHProvider extends VideoProvider {\n  $$PROVIDER_TYPE = \"DASH\";\n  #ctor = null;\n  #controller = new DASHController(this.video, this.ctx);\n  /**\n   * The `dash.js` constructor.\n   */\n  get ctor() {\n    return this.#ctor;\n  }\n  /**\n   * The current `dash.js` instance.\n   */\n  get instance() {\n    return this.#controller.instance;\n  }\n  /**\n   * Whether `dash.js` is supported in this environment.\n   */\n  static supported = isDASHSupported();\n  get type() {\n    return \"dash\";\n  }\n  get canLiveSync() {\n    return true;\n  }\n  #library = `${JS_DELIVR_CDN}/npm/dashjs@4.7.4/dist/dash${\".all.debug.js\" }`;\n  /**\n   * The `dash.js` configuration object.\n   *\n   * @see {@link https://cdn.dashjs.org/latest/jsdoc/module-Settings.html}\n   */\n  get config() {\n    return this.#controller.config;\n  }\n  set config(config) {\n    this.#controller.config = config;\n  }\n  /**\n   * The `dash.js` constructor (supports dynamic imports) or a URL of where it can be found.\n   *\n   * @defaultValue `https://cdn.jsdelivr.net/npm/dashjs@4.7.4/dist/dash.all.min.js`\n   */\n  get library() {\n    return this.#library;\n  }\n  set library(library) {\n    this.#library = library;\n  }\n  preconnect() {\n    if (!isString(this.#library)) return;\n    preconnect(this.#library);\n  }\n  setup() {\n    super.setup();\n    new DASHLibLoader(this.#library, this.ctx, (ctor) => {\n      this.#ctor = ctor;\n      this.#controller.setup(ctor);\n      this.ctx.notify(\"provider-setup\", this);\n      const src = peek(this.ctx.$state.source);\n      if (src) this.loadSource(src);\n    });\n  }\n  async loadSource(src, preload) {\n    if (!isString(src.src)) {\n      this.removeSource();\n      return;\n    }\n    this.media.preload = preload || \"\";\n    this.appendSource(src, \"application/x-mpegurl\");\n    this.#controller.loadSource(src);\n    this.currentSrc = src;\n  }\n  /**\n   * The given callback is invoked when a new `dash.js` instance is created and right before it's\n   * attached to media.\n   */\n  onInstance(callback) {\n    const instance = this.#controller.instance;\n    if (instance) callback(instance);\n    return this.#controller.onInstance(callback);\n  }\n  destroy() {\n    this.#controller.destroy();\n  }\n}\n\nvar provider = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  DASHProvider: DASHProvider\n});\n\nclass DASHProviderLoader extends VideoProviderLoader {\n  static supported = isDASHSupported();\n  name = \"dash\";\n  canPlay(src) {\n    return DASHProviderLoader.supported && isDASHSrc(src);\n  }\n  async load(context) {\n    if (IS_SERVER) {\n      throw Error(\"[vidstack] can not load dash provider server-side\");\n    }\n    if (!this.target) {\n      throw Error(\n        \"[vidstack] `<video>` element was not found - did you forget to include `<media-provider>`?\"\n      );\n    }\n    return new (await Promise.resolve().then(function () { return provider; })).DASHProvider(this.target, context);\n  }\n}\n\nclass VimeoProviderLoader {\n  name = \"vimeo\";\n  target;\n  preconnect() {\n    const connections = [\n      \"https://i.vimeocdn.com\",\n      \"https://f.vimeocdn.com\",\n      \"https://fresnel.vimeocdn.com\"\n    ];\n    for (const url of connections) {\n      preconnect(url);\n    }\n  }\n  canPlay(src) {\n    return isString(src.src) && src.type === \"video/vimeo\";\n  }\n  mediaType() {\n    return \"video\";\n  }\n  async load(ctx) {\n    if (IS_SERVER) {\n      throw Error(\"[vidstack] can not load vimeo provider server-side\");\n    }\n    if (!this.target) {\n      throw Error(\n        \"[vidstack] `<iframe>` element was not found - did you forget to include media provider?\"\n      );\n    }\n    return new (await import('./vidstack-Bt-dOpts.js')).VimeoProvider(this.target, ctx);\n  }\n  async loadPoster(src, ctx, abort) {\n    const { resolveVimeoVideoId, getVimeoVideoInfo } = await import('./vidstack-krOAtKMi.js');\n    if (!isString(src.src)) return null;\n    const { videoId, hash } = resolveVimeoVideoId(src.src);\n    if (videoId) {\n      return getVimeoVideoInfo(videoId, abort, hash).then((info) => info ? info.poster : null);\n    }\n    return null;\n  }\n}\n\nclass YouTubeProviderLoader {\n  name = \"youtube\";\n  target;\n  preconnect() {\n    const connections = [\n      // Botguard script.\n      \"https://www.google.com\",\n      // Posters.\n      \"https://i.ytimg.com\",\n      // Ads.\n      \"https://googleads.g.doubleclick.net\",\n      \"https://static.doubleclick.net\"\n    ];\n    for (const url of connections) {\n      preconnect(url);\n    }\n  }\n  canPlay(src) {\n    return isString(src.src) && src.type === \"video/youtube\";\n  }\n  mediaType() {\n    return \"video\";\n  }\n  async load(ctx) {\n    if (IS_SERVER) {\n      throw Error(\"[vidstack] can not load youtube provider server-side\");\n    }\n    if (!this.target) {\n      throw Error(\n        \"[vidstack] `<iframe>` element was not found - did you forget to include media provider?\"\n      );\n    }\n    return new (await import('./vidstack-CoE5RD0i.js')).YouTubeProvider(this.target, ctx);\n  }\n  async loadPoster(src, ctx, abort) {\n    const { findYouTubePoster, resolveYouTubeVideoId } = await import('./vidstack-Dm1xEU9Q.js');\n    const videoId = isString(src.src) && resolveYouTubeVideoId(src.src);\n    if (videoId) return findYouTubePoster(videoId, abort);\n    return null;\n  }\n}\n\nfunction padNumberWithZeroes(num, expectedLength) {\n  const str = String(num);\n  const actualLength = str.length;\n  const shouldPad = actualLength < expectedLength;\n  if (shouldPad) {\n    const padLength = expectedLength - actualLength;\n    const padding = `0`.repeat(padLength);\n    return `${padding}${num}`;\n  }\n  return str;\n}\nfunction parseTime(duration) {\n  const hours = Math.trunc(duration / 3600);\n  const minutes = Math.trunc(duration % 3600 / 60);\n  const seconds = Math.trunc(duration % 60);\n  const fraction = Number((duration - Math.trunc(duration)).toPrecision(3));\n  return {\n    hours,\n    minutes,\n    seconds,\n    fraction\n  };\n}\nfunction formatTime(duration, { padHrs = null, padMins = null, showHrs = false, showMs = false } = {}) {\n  const { hours, minutes, seconds, fraction } = parseTime(duration), paddedHours = padHrs ? padNumberWithZeroes(hours, 2) : hours, paddedMinutes = padMins || isNull(padMins) && duration >= 3600 ? padNumberWithZeroes(minutes, 2) : minutes, paddedSeconds = padNumberWithZeroes(seconds, 2), paddedMs = showMs && fraction > 0 ? `.${String(fraction).replace(/^0?\\./, \"\")}` : \"\", time = `${paddedMinutes}:${paddedSeconds}${paddedMs}`;\n  return hours > 0 || showHrs ? `${paddedHours}:${time}` : time;\n}\nfunction formatSpokenTime(duration) {\n  const spokenParts = [];\n  const { hours, minutes, seconds } = parseTime(duration);\n  if (hours > 0) {\n    spokenParts.push(`${hours} hour`);\n  }\n  if (minutes > 0) {\n    spokenParts.push(`${minutes} min`);\n  }\n  if (seconds > 0 || spokenParts.length === 0) {\n    spokenParts.push(`${seconds} sec`);\n  }\n  return spokenParts.join(\" \");\n}\n\nconst MEDIA_ATTRIBUTES = Symbol(\"MEDIA_ATTRIBUTES\" );\nconst mediaAttributes = [\n  \"autoPlay\",\n  \"canAirPlay\",\n  \"canFullscreen\",\n  \"canGoogleCast\",\n  \"canLoad\",\n  \"canLoadPoster\",\n  \"canPictureInPicture\",\n  \"canPlay\",\n  \"canSeek\",\n  \"ended\",\n  \"fullscreen\",\n  \"isAirPlayConnected\",\n  \"isGoogleCastConnected\",\n  \"live\",\n  \"liveEdge\",\n  \"loop\",\n  \"mediaType\",\n  \"muted\",\n  \"paused\",\n  \"pictureInPicture\",\n  \"playing\",\n  \"playsInline\",\n  \"remotePlaybackState\",\n  \"remotePlaybackType\",\n  \"seeking\",\n  \"started\",\n  \"streamType\",\n  \"viewType\",\n  \"waiting\"\n];\n\nconst mediaPlayerProps = {\n  artist: \"\",\n  artwork: null,\n  autoplay: false,\n  autoPlay: false,\n  clipStartTime: 0,\n  clipEndTime: 0,\n  controls: false,\n  currentTime: 0,\n  crossorigin: null,\n  crossOrigin: null,\n  duration: -1,\n  fullscreenOrientation: \"landscape\",\n  googleCast: {},\n  load: \"visible\",\n  posterLoad: \"visible\",\n  logLevel: \"warn\" ,\n  loop: false,\n  muted: false,\n  paused: true,\n  playsinline: false,\n  playsInline: false,\n  playbackRate: 1,\n  poster: \"\",\n  preload: \"metadata\",\n  preferNativeHLS: false,\n  src: \"\",\n  title: \"\",\n  controlsDelay: 2e3,\n  hideControlsOnMouseLeave: false,\n  viewType: \"unknown\",\n  streamType: \"unknown\",\n  volume: 1,\n  liveEdgeTolerance: 10,\n  minLiveDVRWindow: 60,\n  keyDisabled: false,\n  keyTarget: \"player\",\n  keyShortcuts: MEDIA_KEY_SHORTCUTS,\n  storage: null\n};\n\nconst MEDIA_EVENTS = [\n  \"abort\",\n  \"can-play\",\n  \"can-play-through\",\n  \"duration-change\",\n  \"emptied\",\n  \"ended\",\n  \"error\",\n  \"fullscreen-change\",\n  \"loaded-data\",\n  \"loaded-metadata\",\n  \"load-start\",\n  \"media-type-change\",\n  \"pause\",\n  \"play\",\n  \"playing\",\n  \"progress\",\n  \"seeked\",\n  \"seeking\",\n  \"source-change\",\n  \"sources-change\",\n  \"stalled\",\n  \"started\",\n  \"suspend\",\n  \"stream-type-change\",\n  \"replay\",\n  // time-change,\n  // 'time-update',\n  \"view-type-change\",\n  \"volume-change\",\n  \"waiting\"\n] ;\nclass MediaEventsLogger extends MediaPlayerController {\n  #media;\n  constructor(media) {\n    super();\n    this.#media = media;\n  }\n  onConnect(el) {\n    const events = new EventsController(el), handler = this.#onMediaEvent.bind(this);\n    for (const eventType of MEDIA_EVENTS) {\n      events.add(eventType, handler);\n    }\n  }\n  #onMediaEvent(event) {\n    this.#media.logger?.debugGroup(`\\u{1F4E1} dispatching \\`${event.type}\\``).labelledLog(\"Media Store\", { ...this.$state }).labelledLog(\"Event\", event).dispatch();\n  }\n}\n\nclass MediaLoadController extends MediaPlayerController {\n  #type;\n  #callback;\n  constructor(type, callback) {\n    super();\n    this.#type = type;\n    this.#callback = callback;\n  }\n  async onAttach(el) {\n    if (IS_SERVER) return;\n    const load = this.$props[this.#type]();\n    if (load === \"eager\") {\n      requestAnimationFrame(this.#callback);\n    } else if (load === \"idle\") {\n      waitIdlePeriod(this.#callback);\n    } else if (load === \"visible\") {\n      let dispose, observer = new IntersectionObserver((entries) => {\n        if (!this.scope) return;\n        if (entries[0].isIntersecting) {\n          dispose?.();\n          dispose = void 0;\n          this.#callback();\n        }\n      });\n      observer.observe(el);\n      dispose = onDispose(() => observer.disconnect());\n    }\n  }\n}\n\nlet seenAutoplayWarning = false;\nclass MediaPlayerDelegate {\n  #handle;\n  #media;\n  constructor(handle, media) {\n    this.#handle = handle;\n    this.#media = media;\n  }\n  notify(type, ...init) {\n    if (IS_SERVER) return;\n    this.#handle(\n      new DOMEvent(type, {\n        detail: init?.[0],\n        trigger: init?.[1]\n      })\n    );\n  }\n  async ready(info, trigger) {\n    if (IS_SERVER) return;\n    return untrack(async () => {\n      const { logger } = this.#media, {\n        autoPlay,\n        canPlay,\n        started,\n        duration,\n        seekable,\n        buffered,\n        remotePlaybackInfo,\n        playsInline,\n        savedState,\n        source\n      } = this.#media.$state;\n      if (canPlay()) return;\n      const detail = {\n        duration: info?.duration ?? duration(),\n        seekable: info?.seekable ?? seekable(),\n        buffered: info?.buffered ?? buffered(),\n        provider: this.#media.$provider()\n      };\n      this.notify(\"can-play\", detail, trigger);\n      tick();\n      {\n        logger?.infoGroup(\"-~-~-~-~-~-~- \\u2705 MEDIA READY -~-~-~-~-~-~-\").labelledLog(\"Media\", this.#media).labelledLog(\"Trigger Event\", trigger).dispatch();\n      }\n      let provider = this.#media.$provider(), { storage, qualities } = this.#media, { muted, volume, clipStartTime, playbackRate } = this.#media.$props;\n      await storage?.onLoad?.(source());\n      const savedPlaybackTime = savedState()?.currentTime, savedPausedState = savedState()?.paused, storageTime = await storage?.getTime(), startTime = savedPlaybackTime ?? storageTime ?? clipStartTime(), shouldAutoPlay = savedPausedState === false || savedPausedState !== true && !started() && autoPlay();\n      if (provider) {\n        provider.setVolume(await storage?.getVolume() ?? volume());\n        provider.setMuted(muted() || !!await storage?.getMuted());\n        const audioGain = await storage?.getAudioGain() ?? 1;\n        if (audioGain > 1) provider.audioGain?.setGain?.(audioGain);\n        provider.setPlaybackRate?.(await storage?.getPlaybackRate() ?? playbackRate());\n        provider.setPlaysInline?.(playsInline());\n        if (startTime > 0) provider.setCurrentTime(startTime);\n      }\n      const prefQuality = await storage?.getVideoQuality();\n      if (prefQuality && qualities.length) {\n        let currentQuality = null, currentScore = Infinity;\n        for (const quality of qualities) {\n          const score = Math.abs(prefQuality.width - quality.width) + Math.abs(prefQuality.height - quality.height) + (prefQuality.bitrate ? Math.abs(prefQuality.bitrate - (quality.bitrate ?? 0)) : 0);\n          if (score < currentScore) {\n            currentQuality = quality;\n            currentScore = score;\n          }\n        }\n        if (currentQuality) currentQuality.selected = true;\n      }\n      if (canPlay() && shouldAutoPlay) {\n        await this.#attemptAutoplay(trigger);\n      } else if (storageTime && storageTime > 0) {\n        this.notify(\"started\", void 0, trigger);\n      }\n      remotePlaybackInfo.set(null);\n    });\n  }\n  async #attemptAutoplay(trigger) {\n    const {\n      player,\n      $state: { autoPlaying, muted }\n    } = this.#media;\n    autoPlaying.set(true);\n    const attemptEvent = new DOMEvent(\"auto-play-attempt\", { trigger });\n    try {\n      await player.play(attemptEvent);\n    } catch (error) {\n      if (!seenAutoplayWarning) {\n        const muteMsg = !muted() ? \" Attempting with volume muted will most likely resolve the issue.\" : \"\";\n        this.#media.logger?.errorGroup(\"[vidstack] auto-play request failed\").labelledLog(\n          \"Message\",\n          `Autoplay was requested but failed most likely due to browser autoplay policies or accessibility reasons.${muteMsg}`\n        ).labelledLog(\"Trigger Event\", trigger).labelledLog(\"Error\", error).labelledLog(\"See\", \"https://developer.chrome.com/blog/autoplay\").dispatch();\n        seenAutoplayWarning = true;\n      }\n    }\n  }\n}\n\nclass Queue {\n  #queue = /* @__PURE__ */ new Map();\n  /**\n   * Queue the given `item` under the given `key` to be processed at a later time by calling\n   * `serve(key)`.\n   */\n  enqueue(key, item) {\n    this.#queue.set(key, item);\n  }\n  /**\n   * Process item in queue for the given `key`.\n   */\n  serve(key) {\n    const value = this.peek(key);\n    this.#queue.delete(key);\n    return value;\n  }\n  /**\n   * Peek at item in queue for the given `key`.\n   */\n  peek(key) {\n    return this.#queue.get(key);\n  }\n  /**\n   * Removes queued item under the given `key`.\n   */\n  delete(key) {\n    this.#queue.delete(key);\n  }\n  /**\n   * Clear all items in the queue.\n   */\n  clear() {\n    this.#queue.clear();\n  }\n}\n\nclass RequestQueue {\n  #serving = false;\n  #pending = deferredPromise();\n  #queue = /* @__PURE__ */ new Map();\n  /**\n   * The number of callbacks that are currently in queue.\n   */\n  get size() {\n    return this.#queue.size;\n  }\n  /**\n   * Whether items in the queue are being served immediately, otherwise they're queued to\n   * be processed later.\n   */\n  get isServing() {\n    return this.#serving;\n  }\n  /**\n   * Waits for the queue to be flushed (ie: start serving).\n   */\n  async waitForFlush() {\n    if (this.#serving) return;\n    await this.#pending.promise;\n  }\n  /**\n   * Queue the given `callback` to be invoked at a later time by either calling the `serve()` or\n   * `start()` methods. If the queue has started serving (i.e., `start()` was already called),\n   * then the callback will be invoked immediately.\n   *\n   * @param key - Uniquely identifies this callback so duplicates are ignored.\n   * @param callback - The function to call when this item in the queue is being served.\n   */\n  enqueue(key, callback) {\n    if (this.#serving) {\n      callback();\n      return;\n    }\n    this.#queue.delete(key);\n    this.#queue.set(key, callback);\n  }\n  /**\n   * Invokes the callback with the given `key` in the queue (if it exists).\n   */\n  serve(key) {\n    this.#queue.get(key)?.();\n    this.#queue.delete(key);\n  }\n  /**\n   * Flush all queued items and start serving future requests immediately until `stop()` is called.\n   */\n  start() {\n    this.#flush();\n    this.#serving = true;\n    if (this.#queue.size > 0) this.#flush();\n  }\n  /**\n   * Stop serving requests, they'll be queued until you begin processing again by calling `start()`.\n   */\n  stop() {\n    this.#serving = false;\n  }\n  /**\n   * Stop serving requests, empty the request queue, and release any promises waiting for the\n   * queue to flush.\n   */\n  reset() {\n    this.stop();\n    this.#queue.clear();\n    this.#release();\n  }\n  #flush() {\n    for (const key of this.#queue.keys()) this.serve(key);\n    this.#release();\n  }\n  #release() {\n    this.#pending.resolve();\n    this.#pending = deferredPromise();\n  }\n}\n\nfunction ariaBool(value) {\n  return value ? \"true\" : \"false\";\n}\nfunction $ariaBool(signal) {\n  return () => ariaBool(signal());\n}\nfunction prefersReducedMotion() {\n  if (typeof window === \"undefined\") return false;\n  return window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\n}\n\nclass MediaRequestManager extends MediaPlayerController {\n  #stateMgr;\n  #request;\n  #media;\n  controls;\n  #fullscreen;\n  #orientation;\n  #$provider;\n  #providerQueue = new RequestQueue();\n  constructor(stateMgr, request, media) {\n    super();\n    this.#stateMgr = stateMgr;\n    this.#request = request;\n    this.#media = media;\n    this.#$provider = media.$provider;\n    this.controls = new MediaControls();\n    this.#fullscreen = new FullscreenController();\n    this.#orientation = new ScreenOrientationController();\n  }\n  onAttach() {\n    this.listen(\"fullscreen-change\", this.#onFullscreenChange.bind(this));\n  }\n  onConnect(el) {\n    const names = Object.getOwnPropertyNames(Object.getPrototypeOf(this)), events = new EventsController(el), handleRequest = this.#handleRequest.bind(this);\n    for (const name of names) {\n      if (name.startsWith(\"media-\")) {\n        events.add(name, handleRequest);\n      }\n    }\n    this.#attachLoadPlayListener();\n    effect(this.#watchProvider.bind(this));\n    effect(this.#watchControlsDelayChange.bind(this));\n    effect(this.#watchAudioGainSupport.bind(this));\n    effect(this.#watchAirPlaySupport.bind(this));\n    effect(this.#watchGoogleCastSupport.bind(this));\n    effect(this.#watchFullscreenSupport.bind(this));\n    effect(this.#watchPiPSupport.bind(this));\n  }\n  onDestroy() {\n    try {\n      const destroyEvent = this.createEvent(\"destroy\"), { pictureInPicture, fullscreen } = this.$state;\n      if (fullscreen()) this.exitFullscreen(\"prefer-media\", destroyEvent);\n      if (pictureInPicture()) this.exitPictureInPicture(destroyEvent);\n    } catch (e) {\n    }\n    this.#providerQueue.reset();\n  }\n  #attachLoadPlayListener() {\n    const { load } = this.$props, { canLoad } = this.$state;\n    if (load() !== \"play\" || canLoad()) return;\n    const off = this.listen(\"media-play-request\", (event) => {\n      this.#handleLoadPlayStrategy(event);\n      off();\n    });\n  }\n  #watchProvider() {\n    const provider = this.#$provider(), canPlay = this.$state.canPlay();\n    if (provider && canPlay) {\n      this.#providerQueue.start();\n    }\n    return () => {\n      this.#providerQueue.stop();\n    };\n  }\n  #handleRequest(event) {\n    event.stopPropagation();\n    if (event.defaultPrevented) return;\n    {\n      this.#media.logger?.infoGroup(`\\u{1F4EC} received \\`${event.type}\\``).labelledLog(\"Request\", event).dispatch();\n    }\n    if (!this[event.type]) return;\n    if (peek(this.#$provider)) {\n      this[event.type](event);\n    } else {\n      this.#providerQueue.enqueue(event.type, () => {\n        if (peek(this.#$provider)) this[event.type](event);\n      });\n    }\n  }\n  async play(trigger) {\n    if (IS_SERVER) return;\n    const { canPlay, paused, autoPlaying } = this.$state;\n    if (this.#handleLoadPlayStrategy(trigger)) return;\n    if (!peek(paused)) return;\n    if (trigger) this.#request.queue.enqueue(\"media-play-request\", trigger);\n    const isAutoPlaying = peek(autoPlaying);\n    try {\n      const provider = peek(this.#$provider);\n      throwIfNotReadyForPlayback(provider, peek(canPlay));\n      throwIfAutoplayingWithReducedMotion(isAutoPlaying);\n      return await provider.play();\n    } catch (error) {\n      this.#logError(\"play request failed\", error, trigger);\n      const errorEvent = this.createEvent(\"play-fail\", {\n        detail: coerceToError(error),\n        trigger\n      });\n      errorEvent.autoPlay = isAutoPlaying;\n      this.#stateMgr.handle(errorEvent);\n      throw error;\n    }\n  }\n  #handleLoadPlayStrategy(trigger) {\n    const { load } = this.$props, { canLoad } = this.$state;\n    if (load() === \"play\" && !canLoad()) {\n      const event = this.createEvent(\"media-start-loading\", { trigger });\n      this.dispatchEvent(event);\n      this.#providerQueue.enqueue(\"media-play-request\", async () => {\n        try {\n          await this.play(event);\n        } catch (error) {\n        }\n      });\n      return true;\n    }\n    return false;\n  }\n  async pause(trigger) {\n    if (IS_SERVER) return;\n    const { canPlay, paused } = this.$state;\n    if (peek(paused)) return;\n    if (trigger) {\n      this.#request.queue.enqueue(\"media-pause-request\", trigger);\n    }\n    try {\n      const provider = peek(this.#$provider);\n      throwIfNotReadyForPlayback(provider, peek(canPlay));\n      return await provider.pause();\n    } catch (error) {\n      this.#request.queue.delete(\"media-pause-request\");\n      {\n        this.#logError(\"pause request failed\", error, trigger);\n      }\n      throw error;\n    }\n  }\n  setAudioGain(gain, trigger) {\n    const { audioGain, canSetAudioGain } = this.$state;\n    if (audioGain() === gain) return;\n    const provider = this.#$provider();\n    if (!provider?.audioGain || !canSetAudioGain()) {\n      throw Error(\"[vidstack] audio gain api not available\");\n    }\n    if (trigger) {\n      this.#request.queue.enqueue(\"media-audio-gain-change-request\", trigger);\n    }\n    provider.audioGain.setGain(gain);\n  }\n  seekToLiveEdge(trigger) {\n    if (IS_SERVER) return;\n    const { canPlay, live, liveEdge, canSeek, liveSyncPosition, seekableEnd, userBehindLiveEdge } = this.$state;\n    userBehindLiveEdge.set(false);\n    if (peek(() => !live() || liveEdge() || !canSeek())) return;\n    const provider = peek(this.#$provider);\n    throwIfNotReadyForPlayback(provider, peek(canPlay));\n    if (trigger) this.#request.queue.enqueue(\"media-seek-request\", trigger);\n    const end = seekableEnd() - 2;\n    provider.setCurrentTime(Math.min(end, liveSyncPosition() ?? end));\n  }\n  #wasPIPActive = false;\n  async enterFullscreen(target = \"prefer-media\", trigger) {\n    if (IS_SERVER) return;\n    const adapter = this.#getFullscreenAdapter(target);\n    throwIfFullscreenNotSupported(target, adapter);\n    if (adapter.active) return;\n    if (peek(this.$state.pictureInPicture)) {\n      this.#wasPIPActive = true;\n      await this.exitPictureInPicture(trigger);\n    }\n    if (trigger) {\n      this.#request.queue.enqueue(\"media-enter-fullscreen-request\", trigger);\n    }\n    return adapter.enter();\n  }\n  async exitFullscreen(target = \"prefer-media\", trigger) {\n    if (IS_SERVER) return;\n    const adapter = this.#getFullscreenAdapter(target);\n    throwIfFullscreenNotSupported(target, adapter);\n    if (!adapter.active) return;\n    if (trigger) {\n      this.#request.queue.enqueue(\"media-exit-fullscreen-request\", trigger);\n    }\n    try {\n      const result = await adapter.exit();\n      if (this.#wasPIPActive && peek(this.$state.canPictureInPicture)) {\n        await this.enterPictureInPicture();\n      }\n      return result;\n    } finally {\n      this.#wasPIPActive = false;\n    }\n  }\n  #getFullscreenAdapter(target) {\n    const provider = peek(this.#$provider);\n    return target === \"prefer-media\" && this.#fullscreen.supported || target === \"media\" ? this.#fullscreen : provider?.fullscreen;\n  }\n  async enterPictureInPicture(trigger) {\n    if (IS_SERVER) return;\n    this.#throwIfPIPNotSupported();\n    if (this.$state.pictureInPicture()) return;\n    if (trigger) {\n      this.#request.queue.enqueue(\"media-enter-pip-request\", trigger);\n    }\n    return await this.#$provider().pictureInPicture.enter();\n  }\n  async exitPictureInPicture(trigger) {\n    if (IS_SERVER) return;\n    this.#throwIfPIPNotSupported();\n    if (!this.$state.pictureInPicture()) return;\n    if (trigger) {\n      this.#request.queue.enqueue(\"media-exit-pip-request\", trigger);\n    }\n    return await this.#$provider().pictureInPicture.exit();\n  }\n  #throwIfPIPNotSupported() {\n    if (this.$state.canPictureInPicture()) return;\n    throw Error(\n      `[vidstack] picture-in-picture is not currently available` \n    );\n  }\n  #watchControlsDelayChange() {\n    this.controls.defaultDelay = this.$props.controlsDelay();\n  }\n  #watchAudioGainSupport() {\n    const { canSetAudioGain } = this.$state, supported = !!this.#$provider()?.audioGain?.supported;\n    canSetAudioGain.set(supported);\n  }\n  #watchAirPlaySupport() {\n    const { canAirPlay } = this.$state, supported = !!this.#$provider()?.airPlay?.supported;\n    canAirPlay.set(supported);\n  }\n  #watchGoogleCastSupport() {\n    const { canGoogleCast, source } = this.$state, supported = IS_CHROME && !IS_IOS && canGoogleCastSrc(source());\n    canGoogleCast.set(supported);\n  }\n  #watchFullscreenSupport() {\n    const { canFullscreen } = this.$state, supported = this.#fullscreen.supported || !!this.#$provider()?.fullscreen?.supported;\n    canFullscreen.set(supported);\n  }\n  #watchPiPSupport() {\n    const { canPictureInPicture } = this.$state, supported = !!this.#$provider()?.pictureInPicture?.supported;\n    canPictureInPicture.set(supported);\n  }\n  async [\"media-airplay-request\"](event) {\n    try {\n      await this.requestAirPlay(event);\n    } catch (error) {\n    }\n  }\n  async requestAirPlay(trigger) {\n    try {\n      const adapter = this.#$provider()?.airPlay;\n      if (!adapter?.supported) {\n        throw Error(true ? \"AirPlay adapter not available on provider.\" : \"No AirPlay adapter.\");\n      }\n      if (trigger) {\n        this.#request.queue.enqueue(\"media-airplay-request\", trigger);\n      }\n      return await adapter.prompt();\n    } catch (error) {\n      this.#request.queue.delete(\"media-airplay-request\");\n      {\n        this.#logError(\"airplay request failed\", error, trigger);\n      }\n      throw error;\n    }\n  }\n  async [\"media-google-cast-request\"](event) {\n    try {\n      await this.requestGoogleCast(event);\n    } catch (error) {\n    }\n  }\n  #googleCastLoader;\n  async requestGoogleCast(trigger) {\n    try {\n      const { canGoogleCast } = this.$state;\n      if (!peek(canGoogleCast)) {\n        const error = Error(\n          true ? \"Google Cast not available on this platform.\" : \"Cast not available.\"\n        );\n        error.code = \"CAST_NOT_AVAILABLE\";\n        throw error;\n      }\n      preconnect(\"https://www.gstatic.com\");\n      if (!this.#googleCastLoader) {\n        const $module = await import('./vidstack-BM-FgV9W.js').then(function (n) { return n.loader; });\n        this.#googleCastLoader = new $module.GoogleCastLoader();\n      }\n      await this.#googleCastLoader.prompt(this.#media);\n      if (trigger) {\n        this.#request.queue.enqueue(\"media-google-cast-request\", trigger);\n      }\n      const isConnecting = peek(this.$state.remotePlaybackState) !== \"disconnected\";\n      if (isConnecting) {\n        this.$state.savedState.set({\n          paused: peek(this.$state.paused),\n          currentTime: peek(this.$state.currentTime)\n        });\n      }\n      this.$state.remotePlaybackLoader.set(isConnecting ? this.#googleCastLoader : null);\n    } catch (error) {\n      this.#request.queue.delete(\"media-google-cast-request\");\n      {\n        this.#logError(\"google cast request failed\", error, trigger);\n      }\n      throw error;\n    }\n  }\n  [\"media-clip-start-change-request\"](event) {\n    const { clipStartTime } = this.$state;\n    clipStartTime.set(event.detail);\n  }\n  [\"media-clip-end-change-request\"](event) {\n    const { clipEndTime } = this.$state;\n    clipEndTime.set(event.detail);\n    this.dispatch(\"duration-change\", {\n      detail: event.detail,\n      trigger: event\n    });\n  }\n  [\"media-duration-change-request\"](event) {\n    const { providedDuration, clipEndTime } = this.$state;\n    providedDuration.set(event.detail);\n    if (clipEndTime() <= 0) {\n      this.dispatch(\"duration-change\", {\n        detail: event.detail,\n        trigger: event\n      });\n    }\n  }\n  [\"media-audio-track-change-request\"](event) {\n    const { logger, audioTracks } = this.#media;\n    if (audioTracks.readonly) {\n      {\n        logger?.warnGroup(`[vidstack] attempted to change audio track but it is currently read-only`).labelledLog(\"Request Event\", event).dispatch();\n      }\n      return;\n    }\n    const index = event.detail, track = audioTracks[index];\n    if (track) {\n      const key = event.type;\n      this.#request.queue.enqueue(key, event);\n      track.selected = true;\n    } else {\n      logger?.warnGroup(\"[vidstack] failed audio track change request (invalid index)\").labelledLog(\"Audio Tracks\", audioTracks.toArray()).labelledLog(\"Index\", index).labelledLog(\"Request Event\", event).dispatch();\n    }\n  }\n  async [\"media-enter-fullscreen-request\"](event) {\n    try {\n      await this.enterFullscreen(event.detail, event);\n    } catch (error) {\n      this.#onFullscreenError(error, event);\n    }\n  }\n  async [\"media-exit-fullscreen-request\"](event) {\n    try {\n      await this.exitFullscreen(event.detail, event);\n    } catch (error) {\n      this.#onFullscreenError(error, event);\n    }\n  }\n  async #onFullscreenChange(event) {\n    const lockType = peek(this.$props.fullscreenOrientation), isFullscreen = event.detail;\n    if (isUndefined(lockType) || lockType === \"none\" || !this.#orientation.supported) return;\n    if (isFullscreen) {\n      if (this.#orientation.locked) return;\n      this.dispatch(\"media-orientation-lock-request\", {\n        detail: lockType,\n        trigger: event\n      });\n    } else if (this.#orientation.locked) {\n      this.dispatch(\"media-orientation-unlock-request\", {\n        trigger: event\n      });\n    }\n  }\n  #onFullscreenError(error, request) {\n    {\n      this.#logError(\"fullscreen request failed\", error, request);\n    }\n    this.#stateMgr.handle(\n      this.createEvent(\"fullscreen-error\", {\n        detail: coerceToError(error)\n      })\n    );\n  }\n  async [\"media-orientation-lock-request\"](event) {\n    const key = event.type;\n    try {\n      this.#request.queue.enqueue(key, event);\n      await this.#orientation.lock(event.detail);\n    } catch (error) {\n      this.#request.queue.delete(key);\n      {\n        this.#logError(\"failed to lock screen orientation\", error, event);\n      }\n    }\n  }\n  async [\"media-orientation-unlock-request\"](event) {\n    const key = event.type;\n    try {\n      this.#request.queue.enqueue(key, event);\n      await this.#orientation.unlock();\n    } catch (error) {\n      this.#request.queue.delete(key);\n      {\n        this.#logError(\"failed to unlock screen orientation\", error, event);\n      }\n    }\n  }\n  async [\"media-enter-pip-request\"](event) {\n    try {\n      await this.enterPictureInPicture(event);\n    } catch (error) {\n      this.#onPictureInPictureError(error, event);\n    }\n  }\n  async [\"media-exit-pip-request\"](event) {\n    try {\n      await this.exitPictureInPicture(event);\n    } catch (error) {\n      this.#onPictureInPictureError(error, event);\n    }\n  }\n  #onPictureInPictureError(error, request) {\n    {\n      this.#logError(\"pip request failed\", error, request);\n    }\n    this.#stateMgr.handle(\n      this.createEvent(\"picture-in-picture-error\", {\n        detail: coerceToError(error)\n      })\n    );\n  }\n  [\"media-live-edge-request\"](event) {\n    const { live, liveEdge, canSeek } = this.$state;\n    if (!live() || liveEdge() || !canSeek()) return;\n    this.#request.queue.enqueue(\"media-seek-request\", event);\n    try {\n      this.seekToLiveEdge();\n    } catch (error) {\n      this.#request.queue.delete(\"media-seek-request\");\n      {\n        this.#logError(\"seek to live edge fail\", error, event);\n      }\n    }\n  }\n  async [\"media-loop-request\"](event) {\n    try {\n      this.#request.looping = true;\n      this.#request.replaying = true;\n      await this.play(event);\n    } catch (error) {\n      this.#request.looping = false;\n    }\n  }\n  [\"media-user-loop-change-request\"](event) {\n    this.$state.userPrefersLoop.set(event.detail);\n  }\n  async [\"media-pause-request\"](event) {\n    if (this.$state.paused()) return;\n    try {\n      await this.pause(event);\n    } catch (error) {\n    }\n  }\n  async [\"media-play-request\"](event) {\n    if (!this.$state.paused()) return;\n    try {\n      await this.play(event);\n    } catch (e) {\n    }\n  }\n  [\"media-rate-change-request\"](event) {\n    const { playbackRate, canSetPlaybackRate } = this.$state;\n    if (playbackRate() === event.detail || !canSetPlaybackRate()) return;\n    const provider = this.#$provider();\n    if (!provider?.setPlaybackRate) return;\n    this.#request.queue.enqueue(\"media-rate-change-request\", event);\n    provider.setPlaybackRate(event.detail);\n  }\n  [\"media-audio-gain-change-request\"](event) {\n    try {\n      this.setAudioGain(event.detail, event);\n    } catch (e) {\n    }\n  }\n  [\"media-quality-change-request\"](event) {\n    const { qualities, storage, logger } = this.#media;\n    if (qualities.readonly) {\n      {\n        logger?.warnGroup(`[vidstack] attempted to change video quality but it is currently read-only`).labelledLog(\"Request Event\", event).dispatch();\n      }\n      return;\n    }\n    this.#request.queue.enqueue(\"media-quality-change-request\", event);\n    const index = event.detail;\n    if (index < 0) {\n      qualities.autoSelect(event);\n      if (event.isOriginTrusted) storage?.setVideoQuality?.(null);\n    } else {\n      const quality = qualities[index];\n      if (quality) {\n        quality.selected = true;\n        if (event.isOriginTrusted) {\n          storage?.setVideoQuality?.({\n            id: quality.id,\n            width: quality.width,\n            height: quality.height,\n            bitrate: quality.bitrate\n          });\n        }\n      } else {\n        logger?.warnGroup(\"[vidstack] failed quality change request (invalid index)\").labelledLog(\"Qualities\", qualities.toArray()).labelledLog(\"Index\", index).labelledLog(\"Request Event\", event).dispatch();\n      }\n    }\n  }\n  [\"media-pause-controls-request\"](event) {\n    const key = event.type;\n    this.#request.queue.enqueue(key, event);\n    this.controls.pause(event);\n  }\n  [\"media-resume-controls-request\"](event) {\n    const key = event.type;\n    this.#request.queue.enqueue(key, event);\n    this.controls.resume(event);\n  }\n  [\"media-seek-request\"](event) {\n    const { canSeek, ended, live, seekableEnd, userBehindLiveEdge } = this.$state, seekTime = event.detail;\n    if (ended()) this.#request.replaying = true;\n    const key = event.type;\n    this.#request.seeking = false;\n    this.#request.queue.delete(key);\n    const boundedTime = boundTime(seekTime, this.$state);\n    if (!Number.isFinite(boundedTime) || !canSeek()) return;\n    this.#request.queue.enqueue(key, event);\n    this.#$provider().setCurrentTime(boundedTime);\n    if (live() && event.isOriginTrusted && Math.abs(seekableEnd() - boundedTime) >= 2) {\n      userBehindLiveEdge.set(true);\n    }\n  }\n  [\"media-seeking-request\"](event) {\n    const key = event.type;\n    this.#request.queue.enqueue(key, event);\n    this.$state.seeking.set(true);\n    this.#request.seeking = true;\n  }\n  [\"media-start-loading\"](event) {\n    if (this.$state.canLoad()) return;\n    const key = event.type;\n    this.#request.queue.enqueue(key, event);\n    this.#stateMgr.handle(this.createEvent(\"can-load\"));\n  }\n  [\"media-poster-start-loading\"](event) {\n    if (this.$state.canLoadPoster()) return;\n    const key = event.type;\n    this.#request.queue.enqueue(key, event);\n    this.#stateMgr.handle(this.createEvent(\"can-load-poster\"));\n  }\n  [\"media-text-track-change-request\"](event) {\n    const { index, mode } = event.detail, track = this.#media.textTracks[index];\n    if (track) {\n      const key = event.type;\n      this.#request.queue.enqueue(key, event);\n      track.setMode(mode, event);\n    } else {\n      this.#media.logger?.warnGroup(\"[vidstack] failed text track change request (invalid index)\").labelledLog(\"Text Tracks\", this.#media.textTracks.toArray()).labelledLog(\"Index\", index).labelledLog(\"Request Event\", event).dispatch();\n    }\n  }\n  [\"media-mute-request\"](event) {\n    if (this.$state.muted()) return;\n    const key = event.type;\n    this.#request.queue.enqueue(key, event);\n    this.#$provider().setMuted(true);\n  }\n  [\"media-unmute-request\"](event) {\n    const { muted, volume } = this.$state;\n    if (!muted()) return;\n    const key = event.type;\n    this.#request.queue.enqueue(key, event);\n    this.#media.$provider().setMuted(false);\n    if (volume() === 0) {\n      this.#request.queue.enqueue(key, event);\n      this.#$provider().setVolume(0.25);\n    }\n  }\n  [\"media-volume-change-request\"](event) {\n    const { muted, volume } = this.$state;\n    const newVolume = event.detail;\n    if (volume() === newVolume) return;\n    const key = event.type;\n    this.#request.queue.enqueue(key, event);\n    this.#$provider().setVolume(newVolume);\n    if (newVolume > 0 && muted()) {\n      this.#request.queue.enqueue(key, event);\n      this.#$provider().setMuted(false);\n    }\n  }\n  #logError(title, error, request) {\n    this.#media.logger?.errorGroup(`[vidstack] ${title}`).labelledLog(\"Error\", error).labelledLog(\"Media Context\", { ...this.#media }).labelledLog(\"Trigger Event\", request).dispatch();\n  }\n}\nfunction throwIfNotReadyForPlayback(provider, canPlay) {\n  if (provider && canPlay) return;\n  throw Error(\n    `[vidstack] media is not ready - wait for \\`can-play\\` event.` \n  );\n}\nfunction throwIfFullscreenNotSupported(target, fullscreen) {\n  if (fullscreen?.supported) return;\n  throw Error(\n    `[vidstack] fullscreen is not currently available on target \\`${target}\\`` \n  );\n}\nfunction throwIfAutoplayingWithReducedMotion(autoplaying) {\n  if (!prefersReducedMotion() || !autoplaying) return;\n  throw Error(\n    \"[vidstack] autoplay is blocked due to user preference for reduced motion\" \n  );\n}\nclass MediaRequestContext {\n  seeking = false;\n  looping = false;\n  replaying = false;\n  queue = new Queue();\n}\n\nconst TRACKED_EVENT = /* @__PURE__ */ new Set([\n  \"auto-play\",\n  \"auto-play-fail\",\n  \"can-load\",\n  \"sources-change\",\n  \"source-change\",\n  \"load-start\",\n  \"abort\",\n  \"error\",\n  \"loaded-metadata\",\n  \"loaded-data\",\n  \"can-play\",\n  \"play\",\n  \"play-fail\",\n  \"pause\",\n  \"playing\",\n  \"seeking\",\n  \"seeked\",\n  \"waiting\"\n]);\n\nclass MediaStateManager extends MediaPlayerController {\n  #request;\n  #media;\n  #trackedEvents = /* @__PURE__ */ new Map();\n  #clipEnded = false;\n  #playedIntervals = [];\n  #playedInterval = [-1, -1];\n  #firingWaiting = false;\n  #waitingTrigger;\n  constructor(request, media) {\n    super();\n    this.#request = request;\n    this.#media = media;\n  }\n  onAttach(el) {\n    el.setAttribute(\"aria-busy\", \"true\");\n    new EventsController(this).add(\"fullscreen-change\", this[\"fullscreen-change\"].bind(this)).add(\"fullscreen-error\", this[\"fullscreen-error\"].bind(this)).add(\"orientation-change\", this[\"orientation-change\"].bind(this));\n  }\n  onConnect(el) {\n    effect(this.#watchCanSetVolume.bind(this));\n    this.#addTextTrackListeners();\n    this.#addQualityListeners();\n    this.#addAudioTrackListeners();\n    this.#resumePlaybackOnConnect();\n    onDispose(this.#pausePlaybackOnDisconnect.bind(this));\n  }\n  onDestroy() {\n    const { audioTracks, qualities, textTracks } = this.#media;\n    audioTracks[ListSymbol.reset]();\n    qualities[ListSymbol.reset]();\n    textTracks[ListSymbol.reset]();\n    this.#stopWatchingQualityResize();\n  }\n  handle(event) {\n    if (!this.scope) return;\n    const type = event.type;\n    untrack(() => this[event.type]?.(event));\n    if (!IS_SERVER) {\n      if (TRACKED_EVENT.has(type)) this.#trackedEvents.set(type, event);\n      this.dispatch(event);\n    }\n  }\n  #isPlayingOnDisconnect = false;\n  #resumePlaybackOnConnect() {\n    if (!this.#isPlayingOnDisconnect) return;\n    requestAnimationFrame(() => {\n      if (!this.scope) return;\n      this.#media.remote.play(new DOMEvent(\"dom-connect\"));\n    });\n    this.#isPlayingOnDisconnect = false;\n  }\n  #pausePlaybackOnDisconnect() {\n    if (this.#isPlayingOnDisconnect) return;\n    this.#isPlayingOnDisconnect = !this.$state.paused();\n    this.#media.$provider()?.pause();\n  }\n  #resetTracking() {\n    this.#stopWaiting();\n    this.#clipEnded = false;\n    this.#request.replaying = false;\n    this.#request.looping = false;\n    this.#firingWaiting = false;\n    this.#waitingTrigger = void 0;\n    this.#trackedEvents.clear();\n  }\n  #satisfyRequest(request, event) {\n    const requestEvent = this.#request.queue.serve(request);\n    if (!requestEvent) return;\n    event.request = requestEvent;\n    event.triggers.add(requestEvent);\n  }\n  #addTextTrackListeners() {\n    this.#onTextTracksChange();\n    this.#onTextTrackModeChange();\n    const textTracks = this.#media.textTracks;\n    new EventsController(textTracks).add(\"add\", this.#onTextTracksChange.bind(this)).add(\"remove\", this.#onTextTracksChange.bind(this)).add(\"mode-change\", this.#onTextTrackModeChange.bind(this));\n  }\n  #addQualityListeners() {\n    const qualities = this.#media.qualities;\n    new EventsController(qualities).add(\"add\", this.#onQualitiesChange.bind(this)).add(\"remove\", this.#onQualitiesChange.bind(this)).add(\"change\", this.#onQualityChange.bind(this)).add(\"auto-change\", this.#onAutoQualityChange.bind(this)).add(\"readonly-change\", this.#onCanSetQualityChange.bind(this));\n  }\n  #addAudioTrackListeners() {\n    const audioTracks = this.#media.audioTracks;\n    new EventsController(audioTracks).add(\"add\", this.#onAudioTracksChange.bind(this)).add(\"remove\", this.#onAudioTracksChange.bind(this)).add(\"change\", this.#onAudioTrackChange.bind(this));\n  }\n  #onTextTracksChange(event) {\n    const { textTracks } = this.$state;\n    textTracks.set(this.#media.textTracks.toArray());\n    this.dispatch(\"text-tracks-change\", {\n      detail: textTracks(),\n      trigger: event\n    });\n  }\n  #onTextTrackModeChange(event) {\n    if (event) this.#satisfyRequest(\"media-text-track-change-request\", event);\n    const current = this.#media.textTracks.selected, { textTrack } = this.$state;\n    if (textTrack() !== current) {\n      textTrack.set(current);\n      this.dispatch(\"text-track-change\", {\n        detail: current,\n        trigger: event\n      });\n    }\n  }\n  #onAudioTracksChange(event) {\n    const { audioTracks } = this.$state;\n    audioTracks.set(this.#media.audioTracks.toArray());\n    this.dispatch(\"audio-tracks-change\", {\n      detail: audioTracks(),\n      trigger: event\n    });\n  }\n  #onAudioTrackChange(event) {\n    const { audioTrack } = this.$state;\n    audioTrack.set(this.#media.audioTracks.selected);\n    if (event) this.#satisfyRequest(\"media-audio-track-change-request\", event);\n    this.dispatch(\"audio-track-change\", {\n      detail: audioTrack(),\n      trigger: event\n    });\n  }\n  #onQualitiesChange(event) {\n    const { qualities } = this.$state;\n    qualities.set(this.#media.qualities.toArray());\n    this.dispatch(\"qualities-change\", {\n      detail: qualities(),\n      trigger: event\n    });\n  }\n  #onQualityChange(event) {\n    const { quality } = this.$state;\n    quality.set(this.#media.qualities.selected);\n    if (event) this.#satisfyRequest(\"media-quality-change-request\", event);\n    this.dispatch(\"quality-change\", {\n      detail: quality(),\n      trigger: event\n    });\n  }\n  #onAutoQualityChange() {\n    const { qualities } = this.#media, isAuto = qualities.auto;\n    this.$state.autoQuality.set(isAuto);\n    if (!isAuto) this.#stopWatchingQualityResize();\n  }\n  #stopQualityResizeEffect = null;\n  #watchQualityResize() {\n    this.#stopWatchingQualityResize();\n    this.#stopQualityResizeEffect = effect(() => {\n      const { qualities } = this.#media, { mediaWidth, mediaHeight } = this.$state, w = mediaWidth(), h = mediaHeight();\n      if (w === 0 || h === 0) return;\n      let selectedQuality = null, minScore = Infinity;\n      for (const quality of qualities) {\n        const score = Math.abs(quality.width - w) + Math.abs(quality.height - h);\n        if (score < minScore) {\n          minScore = score;\n          selectedQuality = quality;\n        }\n      }\n      if (selectedQuality) {\n        qualities[ListSymbol.select](\n          selectedQuality,\n          true,\n          new DOMEvent(\"resize\", { detail: { width: w, height: h } })\n        );\n      }\n    });\n  }\n  #stopWatchingQualityResize() {\n    this.#stopQualityResizeEffect?.();\n    this.#stopQualityResizeEffect = null;\n  }\n  #onCanSetQualityChange() {\n    this.$state.canSetQuality.set(!this.#media.qualities.readonly);\n  }\n  #watchCanSetVolume() {\n    const { canSetVolume, isGoogleCastConnected } = this.$state;\n    if (isGoogleCastConnected()) {\n      canSetVolume.set(false);\n      return;\n    }\n    canChangeVolume().then(canSetVolume.set);\n  }\n  [\"provider-change\"](event) {\n    const prevProvider = this.#media.$provider(), newProvider = event.detail;\n    if (prevProvider?.type === newProvider?.type) return;\n    prevProvider?.destroy?.();\n    prevProvider?.scope?.dispose();\n    this.#media.$provider.set(event.detail);\n    if (prevProvider && event.detail === null) {\n      this.#resetMediaState(event);\n    }\n  }\n  [\"provider-loader-change\"](event) {\n    {\n      this.#media.logger?.infoGroup(`Loader change \\`${event.detail?.constructor.name}\\``).labelledLog(\"Event\", event).dispatch();\n    }\n  }\n  [\"auto-play\"](event) {\n    this.$state.autoPlayError.set(null);\n  }\n  [\"auto-play-fail\"](event) {\n    this.$state.autoPlayError.set(event.detail);\n    this.#resetTracking();\n  }\n  [\"can-load\"](event) {\n    this.$state.canLoad.set(true);\n    this.#trackedEvents.set(\"can-load\", event);\n    this.#media.textTracks[TextTrackSymbol.canLoad]();\n    this.#satisfyRequest(\"media-start-loading\", event);\n  }\n  [\"can-load-poster\"](event) {\n    this.$state.canLoadPoster.set(true);\n    this.#trackedEvents.set(\"can-load-poster\", event);\n    this.#satisfyRequest(\"media-poster-start-loading\", event);\n  }\n  [\"media-type-change\"](event) {\n    const sourceChangeEvent = this.#trackedEvents.get(\"source-change\");\n    if (sourceChangeEvent) event.triggers.add(sourceChangeEvent);\n    const viewType = this.$state.viewType();\n    this.$state.mediaType.set(event.detail);\n    const providedViewType = this.$state.providedViewType(), currentViewType = providedViewType === \"unknown\" ? event.detail : providedViewType;\n    if (viewType !== currentViewType) {\n      if (IS_SERVER) {\n        this.$state.inferredViewType.set(currentViewType);\n      } else {\n        setTimeout(() => {\n          requestAnimationFrame(() => {\n            if (!this.scope) return;\n            this.$state.inferredViewType.set(event.detail);\n            this.dispatch(\"view-type-change\", {\n              detail: currentViewType,\n              trigger: event\n            });\n          });\n        }, 0);\n      }\n    }\n  }\n  [\"stream-type-change\"](event) {\n    const sourceChangeEvent = this.#trackedEvents.get(\"source-change\");\n    if (sourceChangeEvent) event.triggers.add(sourceChangeEvent);\n    const { streamType, inferredStreamType } = this.$state;\n    inferredStreamType.set(event.detail);\n    event.detail = streamType();\n  }\n  [\"rate-change\"](event) {\n    const { storage } = this.#media, { canPlay } = this.$state;\n    this.$state.playbackRate.set(event.detail);\n    this.#satisfyRequest(\"media-rate-change-request\", event);\n    if (canPlay()) {\n      storage?.setPlaybackRate?.(event.detail);\n    }\n  }\n  [\"remote-playback-change\"](event) {\n    const { remotePlaybackState, remotePlaybackType } = this.$state, { type, state } = event.detail, isConnected = state === \"connected\";\n    remotePlaybackType.set(type);\n    remotePlaybackState.set(state);\n    const key = type === \"airplay\" ? \"media-airplay-request\" : \"media-google-cast-request\";\n    if (isConnected) {\n      this.#satisfyRequest(key, event);\n    } else {\n      const requestEvent = this.#request.queue.peek(key);\n      if (requestEvent) {\n        event.request = requestEvent;\n        event.triggers.add(requestEvent);\n      }\n    }\n  }\n  [\"sources-change\"](event) {\n    const prevSources = this.$state.sources(), newSources = event.detail;\n    this.$state.sources.set(newSources);\n    this.#onSourceQualitiesChange(prevSources, newSources, event);\n  }\n  #onSourceQualitiesChange(prevSources, newSources, trigger) {\n    let { qualities } = this.#media, added = false, removed = false;\n    for (const prevSrc of prevSources) {\n      if (!isVideoQualitySrc(prevSrc)) continue;\n      const exists = newSources.some((s) => s.src === prevSrc.src);\n      if (!exists) {\n        const quality = qualities.getBySrc(prevSrc.src);\n        if (quality) {\n          qualities[ListSymbol.remove](quality, trigger);\n          removed = true;\n        }\n      }\n    }\n    if (removed && !qualities.length) {\n      this.$state.savedState.set(null);\n      qualities[ListSymbol.reset](trigger);\n    }\n    for (const src of newSources) {\n      if (!isVideoQualitySrc(src) || qualities.getBySrc(src.src)) continue;\n      const quality = {\n        id: src.id ?? src.height + \"p\",\n        bitrate: null,\n        codec: null,\n        ...src,\n        selected: false\n      };\n      qualities[ListSymbol.add](quality, trigger);\n      added = true;\n    }\n    if (added && !qualities[QualitySymbol.enableAuto]) {\n      this.#watchQualityResize();\n      qualities[QualitySymbol.enableAuto] = this.#watchQualityResize.bind(this);\n      qualities[QualitySymbol.setAuto](true, trigger);\n    }\n  }\n  [\"source-change\"](event) {\n    event.isQualityChange = event.originEvent?.type === \"quality-change\";\n    const source = event.detail;\n    this.#resetMediaState(event, event.isQualityChange);\n    this.#trackedEvents.set(event.type, event);\n    this.$state.source.set(source);\n    this.el?.setAttribute(\"aria-busy\", \"true\");\n    {\n      this.#media.logger?.infoGroup(\"\\u{1F4FC} Media source change\").labelledLog(\"Source\", source).dispatch();\n    }\n  }\n  #resetMediaState(event, isSourceQualityChange = false) {\n    const { audioTracks, qualities } = this.#media;\n    if (!isSourceQualityChange) {\n      this.#playedIntervals = [];\n      this.#playedInterval = [-1, -1];\n      audioTracks[ListSymbol.reset](event);\n      qualities[ListSymbol.reset](event);\n      softResetMediaState(this.$state, isSourceQualityChange);\n      this.#resetTracking();\n      return;\n    }\n    softResetMediaState(this.$state, isSourceQualityChange);\n    this.#resetTracking();\n  }\n  [\"abort\"](event) {\n    const sourceChangeEvent = this.#trackedEvents.get(\"source-change\");\n    if (sourceChangeEvent) event.triggers.add(sourceChangeEvent);\n    const canLoadEvent = this.#trackedEvents.get(\"can-load\");\n    if (canLoadEvent && !event.triggers.hasType(\"can-load\")) {\n      event.triggers.add(canLoadEvent);\n    }\n  }\n  [\"load-start\"](event) {\n    const sourceChangeEvent = this.#trackedEvents.get(\"source-change\");\n    if (sourceChangeEvent) event.triggers.add(sourceChangeEvent);\n  }\n  [\"error\"](event) {\n    this.$state.error.set(event.detail);\n    const abortEvent = this.#trackedEvents.get(\"abort\");\n    if (abortEvent) event.triggers.add(abortEvent);\n    {\n      this.#media.logger?.errorGroup(\"Media Error\").labelledLog(\"Error\", event.detail).labelledLog(\"Event\", event).labelledLog(\"Context\", this.#media).dispatch();\n    }\n  }\n  [\"loaded-metadata\"](event) {\n    const loadStartEvent = this.#trackedEvents.get(\"load-start\");\n    if (loadStartEvent) event.triggers.add(loadStartEvent);\n  }\n  [\"loaded-data\"](event) {\n    const loadStartEvent = this.#trackedEvents.get(\"load-start\");\n    if (loadStartEvent) event.triggers.add(loadStartEvent);\n  }\n  [\"can-play\"](event) {\n    const loadedMetadata = this.#trackedEvents.get(\"loaded-metadata\");\n    if (loadedMetadata) event.triggers.add(loadedMetadata);\n    this.#onCanPlayDetail(event.detail);\n    this.el?.setAttribute(\"aria-busy\", \"false\");\n  }\n  [\"can-play-through\"](event) {\n    this.#onCanPlayDetail(event.detail);\n    const canPlay = this.#trackedEvents.get(\"can-play\");\n    if (canPlay) event.triggers.add(canPlay);\n  }\n  #onCanPlayDetail(detail) {\n    const { seekable, buffered, intrinsicDuration, canPlay } = this.$state;\n    canPlay.set(true);\n    buffered.set(detail.buffered);\n    seekable.set(detail.seekable);\n    const seekableEnd = getTimeRangesEnd(detail.seekable) ?? Infinity;\n    intrinsicDuration.set(seekableEnd);\n  }\n  [\"duration-change\"](event) {\n    const { live, intrinsicDuration, providedDuration, clipEndTime, ended } = this.$state, time = event.detail;\n    if (!live()) {\n      const duration = !Number.isNaN(time) ? time : 0;\n      intrinsicDuration.set(duration);\n      if (ended()) this.#onEndPrecisionChange(event);\n    }\n    if (providedDuration() > 0 || clipEndTime() > 0) {\n      event.stopImmediatePropagation();\n    }\n  }\n  [\"progress\"](event) {\n    const { buffered, seekable } = this.$state, { buffered: newBuffered, seekable: newSeekable } = event.detail, newBufferedEnd = getTimeRangesEnd(newBuffered), hasBufferedLengthChanged = newBuffered.length !== buffered().length, hasBufferedEndChanged = newBufferedEnd !== getTimeRangesEnd(buffered()), newSeekableEnd = getTimeRangesEnd(newSeekable), hasSeekableLengthChanged = newSeekable.length !== seekable().length, hasSeekableEndChanged = newSeekableEnd !== getTimeRangesEnd(seekable());\n    if (hasBufferedLengthChanged || hasBufferedEndChanged) {\n      buffered.set(newBuffered);\n    }\n    if (hasSeekableLengthChanged || hasSeekableEndChanged) {\n      seekable.set(newSeekable);\n    }\n  }\n  [\"play\"](event) {\n    const {\n      paused,\n      autoPlayError,\n      ended,\n      autoPlaying,\n      playsInline,\n      pointer,\n      muted,\n      viewType,\n      live,\n      userBehindLiveEdge\n    } = this.$state;\n    this.#resetPlaybackIfNeeded();\n    if (!paused()) {\n      event.stopImmediatePropagation();\n      return;\n    }\n    event.autoPlay = autoPlaying();\n    const waitingEvent = this.#trackedEvents.get(\"waiting\");\n    if (waitingEvent) event.triggers.add(waitingEvent);\n    this.#satisfyRequest(\"media-play-request\", event);\n    this.#trackedEvents.set(\"play\", event);\n    paused.set(false);\n    autoPlayError.set(null);\n    if (event.autoPlay) {\n      this.handle(\n        this.createEvent(\"auto-play\", {\n          detail: { muted: muted() },\n          trigger: event\n        })\n      );\n      autoPlaying.set(false);\n    }\n    if (ended() || this.#request.replaying) {\n      this.#request.replaying = false;\n      ended.set(false);\n      this.handle(this.createEvent(\"replay\", { trigger: event }));\n    }\n    if (!playsInline() && viewType() === \"video\" && pointer() === \"coarse\") {\n      this.#media.remote.enterFullscreen(\"prefer-media\", event);\n    }\n    if (live() && !userBehindLiveEdge()) {\n      this.#media.remote.seekToLiveEdge(event);\n    }\n  }\n  #resetPlaybackIfNeeded(trigger) {\n    const provider = peek(this.#media.$provider);\n    if (!provider) return;\n    const { ended, seekableStart, clipEndTime, currentTime, realCurrentTime, duration } = this.$state;\n    const shouldReset = ended() || realCurrentTime() < seekableStart() || clipEndTime() > 0 && realCurrentTime() >= clipEndTime() || Math.abs(currentTime() - duration()) < 0.1;\n    if (shouldReset) {\n      this.dispatch(\"media-seek-request\", {\n        detail: seekableStart(),\n        trigger\n      });\n    }\n    return shouldReset;\n  }\n  [\"play-fail\"](event) {\n    const { muted, autoPlaying } = this.$state;\n    const playEvent = this.#trackedEvents.get(\"play\");\n    if (playEvent) event.triggers.add(playEvent);\n    this.#satisfyRequest(\"media-play-request\", event);\n    const { paused, playing } = this.$state;\n    paused.set(true);\n    playing.set(false);\n    this.#resetTracking();\n    this.#trackedEvents.set(\"play-fail\", event);\n    if (event.autoPlay) {\n      this.handle(\n        this.createEvent(\"auto-play-fail\", {\n          detail: {\n            muted: muted(),\n            error: event.detail\n          },\n          trigger: event\n        })\n      );\n      autoPlaying.set(false);\n    }\n  }\n  [\"playing\"](event) {\n    const playEvent = this.#trackedEvents.get(\"play\"), seekedEvent = this.#trackedEvents.get(\"seeked\");\n    if (playEvent) event.triggers.add(playEvent);\n    else if (seekedEvent) event.triggers.add(seekedEvent);\n    setTimeout(() => this.#resetTracking(), 0);\n    const {\n      paused,\n      playing,\n      live,\n      liveSyncPosition,\n      seekableEnd,\n      started,\n      currentTime,\n      seeking,\n      ended\n    } = this.$state;\n    paused.set(false);\n    playing.set(true);\n    seeking.set(false);\n    ended.set(false);\n    if (this.#request.looping) {\n      this.#request.looping = false;\n      return;\n    }\n    if (live() && !started() && currentTime() === 0) {\n      const end = liveSyncPosition() ?? seekableEnd() - 2;\n      if (Number.isFinite(end)) this.#media.$provider().setCurrentTime(end);\n    }\n    this[\"started\"](event);\n  }\n  [\"started\"](event) {\n    const { started } = this.$state;\n    if (!started()) {\n      started.set(true);\n      this.handle(this.createEvent(\"started\", { trigger: event }));\n    }\n  }\n  [\"pause\"](event) {\n    if (!this.el?.isConnected) {\n      this.#isPlayingOnDisconnect = true;\n    }\n    this.#satisfyRequest(\"media-pause-request\", event);\n    const seekedEvent = this.#trackedEvents.get(\"seeked\");\n    if (seekedEvent) event.triggers.add(seekedEvent);\n    const { paused, playing } = this.$state;\n    paused.set(true);\n    playing.set(false);\n    if (this.#clipEnded) {\n      setTimeout(() => {\n        this.handle(this.createEvent(\"end\", { trigger: event }));\n        this.#clipEnded = false;\n      }, 0);\n    }\n    this.#resetTracking();\n  }\n  [\"time-change\"](event) {\n    if (this.#request.looping) {\n      event.stopImmediatePropagation();\n      return;\n    }\n    let { waiting, played, clipEndTime, realCurrentTime, currentTime } = this.$state, newTime = event.detail, endTime = clipEndTime();\n    realCurrentTime.set(newTime);\n    this.#updatePlayed();\n    waiting.set(false);\n    for (const track of this.#media.textTracks) {\n      track[TextTrackSymbol.updateActiveCues](newTime, event);\n    }\n    if (endTime > 0 && newTime >= endTime) {\n      this.#clipEnded = true;\n      this.dispatch(\"media-pause-request\", { trigger: event });\n    }\n    this.#saveTime();\n    this.dispatch(\"time-update\", {\n      detail: { currentTime: currentTime(), played: played() },\n      trigger: event\n    });\n  }\n  #updatePlayed() {\n    const { currentTime, played, paused } = this.$state;\n    if (paused()) return;\n    this.#playedInterval = updateTimeIntervals(\n      this.#playedIntervals,\n      this.#playedInterval,\n      currentTime()\n    );\n    played.set(new TimeRange(this.#playedIntervals));\n  }\n  // Called to update time again incase duration precision has changed.\n  #onEndPrecisionChange(trigger) {\n    const { clipStartTime, clipEndTime, duration } = this.$state, isClipped = clipStartTime() > 0 || clipEndTime() > 0;\n    if (isClipped) return;\n    this.handle(\n      this.createEvent(\"time-change\", {\n        detail: duration(),\n        trigger\n      })\n    );\n  }\n  #saveTime() {\n    const { storage } = this.#media, { canPlay, realCurrentTime } = this.$state;\n    if (canPlay()) {\n      storage?.setTime?.(realCurrentTime());\n    }\n  }\n  [\"audio-gain-change\"](event) {\n    const { storage } = this.#media, { canPlay, audioGain } = this.$state;\n    audioGain.set(event.detail);\n    this.#satisfyRequest(\"media-audio-gain-change-request\", event);\n    if (canPlay()) storage?.setAudioGain?.(audioGain());\n  }\n  [\"volume-change\"](event) {\n    const { storage } = this.#media, { volume, muted, canPlay } = this.$state, detail = event.detail;\n    volume.set(detail.volume);\n    muted.set(detail.muted || detail.volume === 0);\n    this.#satisfyRequest(\"media-volume-change-request\", event);\n    this.#satisfyRequest(detail.muted ? \"media-mute-request\" : \"media-unmute-request\", event);\n    if (canPlay()) {\n      storage?.setVolume?.(volume());\n      storage?.setMuted?.(muted());\n    }\n  }\n  [\"seeking\"] = functionThrottle(\n    (event) => {\n      const { seeking, realCurrentTime, paused } = this.$state;\n      seeking.set(true);\n      realCurrentTime.set(event.detail);\n      this.#satisfyRequest(\"media-seeking-request\", event);\n      if (paused()) {\n        this.#waitingTrigger = event;\n        this.#fireWaiting();\n      }\n      this.#playedInterval = [-1, -1];\n    },\n    150,\n    { leading: true }\n  );\n  [\"seeked\"](event) {\n    const { seeking, currentTime, realCurrentTime, paused, seekableEnd, ended, live } = this.$state;\n    if (this.#request.seeking) {\n      seeking.set(true);\n      event.stopImmediatePropagation();\n    } else if (seeking()) {\n      const waitingEvent = this.#trackedEvents.get(\"waiting\");\n      if (waitingEvent) event.triggers.add(waitingEvent);\n      const seekingEvent = this.#trackedEvents.get(\"seeking\");\n      if (seekingEvent && !event.triggers.has(seekingEvent)) {\n        event.triggers.add(seekingEvent);\n      }\n      if (paused()) this.#stopWaiting();\n      seeking.set(false);\n      realCurrentTime.set(event.detail);\n      this.#satisfyRequest(\"media-seek-request\", event);\n      const origin = event?.originEvent;\n      if (origin?.isTrusted && !(origin instanceof MessageEvent) && !/seek/.test(origin.type)) {\n        this[\"started\"](event);\n      }\n    }\n    if (!live()) {\n      if (Math.floor(currentTime()) !== Math.floor(seekableEnd())) {\n        ended.set(false);\n      } else {\n        this.end(event);\n      }\n    }\n  }\n  [\"waiting\"](event) {\n    if (this.#firingWaiting || this.#request.seeking) return;\n    event.stopImmediatePropagation();\n    this.#waitingTrigger = event;\n    this.#fireWaiting();\n  }\n  #fireWaiting = functionDebounce(() => {\n    if (!this.#waitingTrigger) return;\n    this.#firingWaiting = true;\n    const { waiting, playing } = this.$state;\n    waiting.set(true);\n    playing.set(false);\n    const event = this.createEvent(\"waiting\", { trigger: this.#waitingTrigger });\n    this.#trackedEvents.set(\"waiting\", event);\n    this.dispatch(event);\n    this.#waitingTrigger = void 0;\n    this.#firingWaiting = false;\n  }, 300);\n  [\"end\"](event) {\n    const { loop, ended } = this.$state;\n    if (!loop() && ended()) return;\n    if (loop()) {\n      setTimeout(() => {\n        requestAnimationFrame(() => {\n          this.#resetPlaybackIfNeeded(event);\n          this.dispatch(\"media-loop-request\", { trigger: event });\n        });\n      }, 10);\n      return;\n    }\n    setTimeout(() => this.#onEnded(event), 0);\n  }\n  #onEnded(event) {\n    const { storage } = this.#media, { paused, seeking, ended, duration } = this.$state;\n    this.#onEndPrecisionChange(event);\n    if (!paused()) {\n      this.dispatch(\"pause\", { trigger: event });\n    }\n    if (seeking()) {\n      this.dispatch(\"seeked\", {\n        detail: duration(),\n        trigger: event\n      });\n    }\n    ended.set(true);\n    this.#resetTracking();\n    storage?.setTime?.(duration(), true);\n    this.dispatch(\"ended\", {\n      trigger: event\n    });\n  }\n  #stopWaiting() {\n    this.#fireWaiting.cancel();\n    this.$state.waiting.set(false);\n  }\n  [\"fullscreen-change\"](event) {\n    const isFullscreen = event.detail;\n    this.$state.fullscreen.set(isFullscreen);\n    this.#satisfyRequest(\n      isFullscreen ? \"media-enter-fullscreen-request\" : \"media-exit-fullscreen-request\",\n      event\n    );\n  }\n  [\"fullscreen-error\"](event) {\n    this.#satisfyRequest(\"media-enter-fullscreen-request\", event);\n    this.#satisfyRequest(\"media-exit-fullscreen-request\", event);\n  }\n  [\"orientation-change\"](event) {\n    const isLocked = event.detail.lock;\n    this.#satisfyRequest(\n      isLocked ? \"media-orientation-lock-request\" : \"media-orientation-unlock-request\",\n      event\n    );\n  }\n  [\"picture-in-picture-change\"](event) {\n    const isPiP = event.detail;\n    this.$state.pictureInPicture.set(isPiP);\n    this.#satisfyRequest(isPiP ? \"media-enter-pip-request\" : \"media-exit-pip-request\", event);\n  }\n  [\"picture-in-picture-error\"](event) {\n    this.#satisfyRequest(\"media-enter-pip-request\", event);\n    this.#satisfyRequest(\"media-exit-pip-request\", event);\n  }\n  [\"title-change\"](event) {\n    if (!event.trigger) return;\n    event.stopImmediatePropagation();\n    this.$state.inferredTitle.set(event.detail);\n  }\n  [\"poster-change\"](event) {\n    if (!event.trigger) return;\n    event.stopImmediatePropagation();\n    this.$state.inferredPoster.set(event.detail);\n  }\n}\n\nclass MediaStateSync extends MediaPlayerController {\n  onSetup() {\n    this.#init();\n    if (IS_SERVER) return;\n    effect(this.#watchLogLevel.bind(this));\n    const effects = [\n      this.#watchMetadata,\n      this.#watchAutoplay,\n      this.#watchClipStartTime,\n      this.#watchClipEndTime,\n      this.#watchControls,\n      this.#watchCrossOrigin,\n      this.#watchDuration,\n      this.#watchLive,\n      this.#watchLiveEdge,\n      this.#watchLiveTolerance,\n      this.#watchLoop,\n      this.#watchPlaysInline,\n      this.#watchPoster,\n      this.#watchProvidedTypes,\n      this.#watchTitle\n    ];\n    for (const callback of effects) {\n      effect(callback.bind(this));\n    }\n  }\n  #init() {\n    const providedProps = {\n      duration: \"providedDuration\",\n      loop: \"providedLoop\",\n      poster: \"providedPoster\",\n      streamType: \"providedStreamType\",\n      title: \"providedTitle\",\n      viewType: \"providedViewType\"\n    };\n    const skip = /* @__PURE__ */ new Set([\n      \"currentTime\",\n      \"paused\",\n      \"playbackRate\",\n      \"volume\"\n    ]);\n    for (const prop of Object.keys(this.$props)) {\n      if (skip.has(prop)) continue;\n      this.$state[providedProps[prop] ?? prop]?.set(this.$props[prop]());\n    }\n    this.$state.muted.set(this.$props.muted() || this.$props.volume() === 0);\n  }\n  // Sync \"provided\" props with internal state. Provided props are used to differentiate from\n  // provider inferred values.\n  #watchProvidedTypes() {\n    const { viewType, streamType, title, poster, loop } = this.$props, $state = this.$state;\n    $state.providedPoster.set(poster());\n    $state.providedStreamType.set(streamType());\n    $state.providedViewType.set(viewType());\n    $state.providedTitle.set(title());\n    $state.providedLoop.set(loop());\n  }\n  #watchLogLevel() {\n    this.$state.logLevel.set(this.$props.logLevel());\n  }\n  #watchMetadata() {\n    const { artist, artwork } = this.$props;\n    this.$state.artist.set(artist());\n    this.$state.artwork.set(artwork());\n  }\n  #watchTitle() {\n    const { title } = this.$state;\n    this.dispatch(\"title-change\", { detail: title() });\n  }\n  #watchAutoplay() {\n    const autoPlay = this.$props.autoPlay() || this.$props.autoplay();\n    this.$state.autoPlay.set(autoPlay);\n    this.dispatch(\"auto-play-change\", { detail: autoPlay });\n  }\n  #watchLoop() {\n    const loop = this.$state.loop();\n    this.dispatch(\"loop-change\", { detail: loop });\n  }\n  #watchControls() {\n    const controls = this.$props.controls();\n    this.$state.controls.set(controls);\n  }\n  #watchPoster() {\n    const { poster } = this.$state;\n    this.dispatch(\"poster-change\", { detail: poster() });\n  }\n  #watchCrossOrigin() {\n    const crossOrigin = this.$props.crossOrigin() ?? this.$props.crossorigin(), value = crossOrigin === true ? \"\" : crossOrigin;\n    this.$state.crossOrigin.set(value);\n  }\n  #watchDuration() {\n    const { duration } = this.$props;\n    this.dispatch(\"media-duration-change-request\", {\n      detail: duration()\n    });\n  }\n  #watchPlaysInline() {\n    const inline = this.$props.playsInline() || this.$props.playsinline();\n    this.$state.playsInline.set(inline);\n    this.dispatch(\"plays-inline-change\", { detail: inline });\n  }\n  #watchClipStartTime() {\n    const { clipStartTime } = this.$props;\n    this.dispatch(\"media-clip-start-change-request\", {\n      detail: clipStartTime()\n    });\n  }\n  #watchClipEndTime() {\n    const { clipEndTime } = this.$props;\n    this.dispatch(\"media-clip-end-change-request\", {\n      detail: clipEndTime()\n    });\n  }\n  #watchLive() {\n    this.dispatch(\"live-change\", { detail: this.$state.live() });\n  }\n  #watchLiveTolerance() {\n    this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance());\n    this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow());\n  }\n  #watchLiveEdge() {\n    this.dispatch(\"live-edge-change\", { detail: this.$state.liveEdge() });\n  }\n}\n\nconst actions = [\"play\", \"pause\", \"seekforward\", \"seekbackward\", \"seekto\"];\nclass NavigatorMediaSession extends MediaPlayerController {\n  onConnect() {\n    effect(this.#onMetadataChange.bind(this));\n    effect(this.#onPlaybackStateChange.bind(this));\n    const handleAction = this.#handleAction.bind(this);\n    for (const action of actions) {\n      navigator.mediaSession.setActionHandler(action, handleAction);\n    }\n    onDispose(this.#onDisconnect.bind(this));\n  }\n  #onDisconnect() {\n    for (const action of actions) {\n      navigator.mediaSession.setActionHandler(action, null);\n    }\n  }\n  #onMetadataChange() {\n    const { title, artist, artwork, poster } = this.$state;\n    navigator.mediaSession.metadata = new MediaMetadata({\n      title: title(),\n      artist: artist(),\n      artwork: artwork() ?? [{ src: poster() }]\n    });\n  }\n  #onPlaybackStateChange() {\n    const { canPlay, paused } = this.$state;\n    navigator.mediaSession.playbackState = !canPlay() ? \"none\" : paused() ? \"paused\" : \"playing\";\n  }\n  #handleAction(details) {\n    const trigger = new DOMEvent(`media-session-action`, { detail: details });\n    switch (details.action) {\n      case \"play\":\n        this.dispatch(\"media-play-request\", { trigger });\n        break;\n      case \"pause\":\n        this.dispatch(\"media-pause-request\", { trigger });\n        break;\n      case \"seekto\":\n      case \"seekforward\":\n      case \"seekbackward\":\n        this.dispatch(\"media-seek-request\", {\n          detail: isNumber(details.seekTime) ? details.seekTime : this.$state.currentTime() + (details.seekOffset ?? (details.action === \"seekforward\" ? 10 : -10)),\n          trigger\n        });\n        break;\n    }\n  }\n}\n\nconst LOCAL_STORAGE_KEY = \"@vidstack/log-colors\";\nconst savedColors = init();\nfunction getLogColor(key) {\n  return savedColors.get(key);\n}\nfunction saveLogColor(key, { color = generateColor(), overwrite = false } = {}) {\n  if (!savedColors.has(key) || overwrite) {\n    savedColors.set(key, color);\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(Object.entries(savedColors)));\n  }\n}\nfunction generateColor() {\n  return `hsl(${Math.random() * 360}, 55%, 70%)`;\n}\nfunction init() {\n  let colors;\n  try {\n    colors = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n  } catch {\n  }\n  return new Map(Object.entries(colors ?? {}));\n}\n\nconst LogLevelValue = Object.freeze({\n  silent: 0,\n  error: 1,\n  warn: 2,\n  info: 3,\n  debug: 4\n});\nconst LogLevelColor = Object.freeze({\n  silent: \"white\",\n  error: \"hsl(6, 58%, 50%)\",\n  warn: \"hsl(51, 58%, 50%)\",\n  info: \"hsl(219, 58%, 50%)\",\n  debug: \"hsl(280, 58%, 50%)\"\n});\n\nconst s = 1e3;\nconst m = s * 60;\nconst h = m * 60;\nconst d = h * 24;\nfunction ms(val) {\n  const msAbs = Math.abs(val);\n  if (msAbs >= d) {\n    return Math.round(val / d) + \"d\";\n  }\n  if (msAbs >= h) {\n    return Math.round(val / h) + \"h\";\n  }\n  if (msAbs >= m) {\n    return Math.round(val / m) + \"m\";\n  }\n  if (msAbs >= s) {\n    return Math.round(val / s) + \"s\";\n  }\n  return round(val, 2) + \"ms\";\n}\n\nclass LogPrinter extends ViewController {\n  #level = \"warn\" ;\n  #lastLogged;\n  /**\n   * The current log level.\n   */\n  get logLevel() {\n    return this.#level ;\n  }\n  set logLevel(level) {\n    this.#level = level;\n  }\n  onConnect() {\n    this.listen(\"vds-log\", (event) => {\n      event.stopPropagation();\n      const element = event.path?.[0] ?? (event.target instanceof ViewController ? event.target.el : event.target), eventTargetName = element?.$$COMPONENT_NAME?.replace(/^_/, \"\").replace(/Instance$/, \"\") ?? element?.tagName.toLowerCase() ?? \"unknown\";\n      const { level = \"warn\", data } = event.detail ?? {};\n      if (LogLevelValue[this.#level] < LogLevelValue[level]) {\n        return;\n      }\n      saveLogColor(eventTargetName);\n      const hint = data?.length === 1 && isGroupedLog(data[0]) ? data[0].title : isString(data?.[0]) ? data[0] : \"\";\n      console.groupCollapsed(\n        `%c${level.toUpperCase()}%c ${eventTargetName}%c ${hint.slice(0, 50)}${hint.length > 50 ? \"...\" : \"\"}`,\n        `background: ${LogLevelColor[level]}; color: white; padding: 1.5px 2.2px; border-radius: 2px; font-size: 11px;`,\n        `color: ${getLogColor(eventTargetName)}; padding: 4px 0px; font-size: 11px;`,\n        \"color: gray; font-size: 11px; padding-left: 4px;\"\n      );\n      if (data?.length === 1 && isGroupedLog(data[0])) {\n        if (element) data[0].logs.unshift({ label: \"Element\", data: [element] });\n        printGroup(level, data[0]);\n      } else if (data) {\n        print(level, ...data);\n      }\n      this.#printTimeDiff();\n      printStackTrace();\n      console.groupEnd();\n    });\n    onDispose(() => {\n      this.#lastLogged = void 0;\n    });\n  }\n  #printTimeDiff() {\n    labelledPrint(\"Time since last log\", this.#calcLastLogTimeDiff());\n  }\n  #calcLastLogTimeDiff() {\n    const time = performance.now();\n    const diff = time - (this.#lastLogged ?? (this.#lastLogged = performance.now()));\n    this.#lastLogged = time;\n    return ms(diff);\n  }\n}\nfunction print(level, ...data) {\n  console[level](...data);\n}\nfunction labelledPrint(label, ...data) {\n  console.log(`%c${label}:`, \"color: gray\", ...data);\n}\nfunction printStackTrace() {\n  console.groupCollapsed(\"%cStack Trace\", \"color: gray\");\n  console.trace();\n  console.groupEnd();\n}\nfunction printGroup(level, groupedLog) {\n  for (const log of groupedLog.logs) {\n    if (isGroupedLog(log)) {\n      console.groupCollapsed(groupedLog.title);\n      printGroup(level, log);\n      console.groupEnd();\n    } else if (\"label\" in log && !isUndefined(log.label)) {\n      labelledPrint(log.label, ...log.data);\n    } else {\n      print(level, ...log.data);\n    }\n  }\n}\n\nlet $keyboard = signal(false);\nif (!IS_SERVER) {\n  listenEvent(document, \"pointerdown\", () => {\n    $keyboard.set(false);\n  });\n  listenEvent(document, \"keydown\", (e) => {\n    if (e.metaKey || e.altKey || e.ctrlKey) return;\n    $keyboard.set(true);\n  });\n}\nclass FocusVisibleController extends ViewController {\n  #focused = signal(false);\n  onConnect(el) {\n    effect(() => {\n      const events = new EventsController(el);\n      if (!$keyboard()) {\n        this.#focused.set(false);\n        updateFocusAttr(el, false);\n        events.add(\"pointerenter\", this.#onPointerEnter.bind(this)).add(\"pointerleave\", this.#onPointerLeave.bind(this));\n        return;\n      }\n      const active = document.activeElement === el;\n      this.#focused.set(active);\n      updateFocusAttr(el, active);\n      events.add(\"focus\", this.#onFocus.bind(this)).add(\"blur\", this.#onBlur.bind(this));\n    });\n  }\n  focused() {\n    return this.#focused();\n  }\n  #onFocus() {\n    this.#focused.set(true);\n    updateFocusAttr(this.el, true);\n  }\n  #onBlur() {\n    this.#focused.set(false);\n    updateFocusAttr(this.el, false);\n  }\n  #onPointerEnter() {\n    updateHoverAttr(this.el, true);\n  }\n  #onPointerLeave() {\n    updateHoverAttr(this.el, false);\n  }\n}\nfunction updateFocusAttr(el, isFocused) {\n  setAttribute(el, \"data-focus\", isFocused);\n  setAttribute(el, \"data-hocus\", isFocused);\n}\nfunction updateHoverAttr(el, isHovering) {\n  setAttribute(el, \"data-hocus\", isHovering);\n  setAttribute(el, \"data-hover\", isHovering);\n}\n\nclass MediaPlayer extends Component {\n  static props = mediaPlayerProps;\n  static state = mediaState;\n  #media;\n  #stateMgr;\n  #requestMgr;\n  canPlayQueue = new RequestQueue();\n  remoteControl;\n  get #provider() {\n    return this.#media.$provider();\n  }\n  get #props() {\n    return this.$props;\n  }\n  constructor() {\n    super();\n    new MediaStateSync();\n    const context = {\n      player: this,\n      qualities: new VideoQualityList(),\n      audioTracks: new AudioTrackList(),\n      storage: null,\n      $provider: signal(null),\n      $providerSetup: signal(false),\n      $props: this.$props,\n      $state: this.$state\n    };\n    {\n      const logPrinter = new LogPrinter();\n      effect(() => {\n        logPrinter.logLevel = this.$props.logLevel();\n      });\n    }\n    context.logger = new Logger();\n    context.remote = this.remoteControl = new MediaRemoteControl(\n      context.logger \n    );\n    context.remote.setPlayer(this);\n    context.textTracks = new TextTrackList();\n    context.textTracks[TextTrackSymbol.crossOrigin] = this.$state.crossOrigin;\n    context.textRenderers = new TextRenderers(context);\n    context.ariaKeys = {};\n    this.#media = context;\n    provideContext(mediaContext, context);\n    this.orientation = new ScreenOrientationController();\n    new FocusVisibleController();\n    new MediaKeyboardController(context);\n    new MediaEventsLogger(context);\n    const request = new MediaRequestContext();\n    this.#stateMgr = new MediaStateManager(request, context);\n    this.#requestMgr = new MediaRequestManager(this.#stateMgr, request, context);\n    context.delegate = new MediaPlayerDelegate(this.#stateMgr.handle.bind(this.#stateMgr), context);\n    context.notify = context.delegate.notify.bind(context.delegate);\n    if (typeof navigator !== \"undefined\" && \"mediaSession\" in navigator) {\n      new NavigatorMediaSession();\n    }\n    new MediaLoadController(\"load\", this.startLoading.bind(this));\n    new MediaLoadController(\"posterLoad\", this.startLoadingPoster.bind(this));\n  }\n  onSetup() {\n    this.#setupMediaAttributes();\n    effect(this.#watchCanPlay.bind(this));\n    effect(this.#watchMuted.bind(this));\n    effect(this.#watchPaused.bind(this));\n    effect(this.#watchVolume.bind(this));\n    effect(this.#watchCurrentTime.bind(this));\n    effect(this.#watchPlaysInline.bind(this));\n    effect(this.#watchPlaybackRate.bind(this));\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-player\", \"\");\n    setAttributeIfEmpty(el, \"tabindex\", \"0\");\n    setAttributeIfEmpty(el, \"role\", \"region\");\n    effect(this.#watchStorage.bind(this));\n    if (IS_SERVER) this.#watchTitle();\n    else effect(this.#watchTitle.bind(this));\n    if (IS_SERVER) this.#watchOrientation();\n    else effect(this.#watchOrientation.bind(this));\n    listenEvent(el, \"find-media-player\", this.#onFindPlayer.bind(this));\n  }\n  onConnect(el) {\n    if (IS_IPHONE) setAttribute(el, \"data-iphone\", \"\");\n    const pointerQuery = window.matchMedia(\"(pointer: coarse)\");\n    this.#onPointerChange(pointerQuery);\n    pointerQuery.onchange = this.#onPointerChange.bind(this);\n    const resize = new ResizeObserver(animationFrameThrottle(this.#onResize.bind(this)));\n    resize.observe(el);\n    effect(this.#onResize.bind(this));\n    this.dispatch(\"media-player-connect\", {\n      detail: this,\n      bubbles: true,\n      composed: true\n    });\n    this.#media.logger.setTarget(el);\n    onDispose(() => {\n      resize.disconnect();\n      pointerQuery.onchange = null;\n      this.#media.logger.setTarget(null);\n    });\n  }\n  onDestroy() {\n    this.#media.player = null;\n    this.canPlayQueue.reset();\n  }\n  #skipTitleUpdate = false;\n  #watchTitle() {\n    const el = this.$el, { title, live, viewType, providedTitle } = this.$state, isLive = live(), type = uppercaseFirstChar(viewType()), typeText = type !== \"Unknown\" ? `${isLive ? \"Live \" : \"\"}${type}` : isLive ? \"Live\" : \"Media\", currentTitle = title();\n    setAttribute(\n      this.el,\n      \"aria-label\",\n      `${typeText} Player` + (currentTitle ? ` - ${currentTitle}` : \"\")\n    );\n    if (!IS_SERVER && el?.hasAttribute(\"title\")) {\n      this.#skipTitleUpdate = true;\n      el?.removeAttribute(\"title\");\n    }\n  }\n  #watchOrientation() {\n    const orientation = this.orientation.landscape ? \"landscape\" : \"portrait\";\n    this.$state.orientation.set(orientation);\n    setAttribute(this.el, \"data-orientation\", orientation);\n    this.#onResize();\n  }\n  #watchCanPlay() {\n    if (this.$state.canPlay() && this.#provider) this.canPlayQueue.start();\n    else this.canPlayQueue.stop();\n  }\n  #setupMediaAttributes() {\n    if (MediaPlayer[MEDIA_ATTRIBUTES]) {\n      this.setAttributes(MediaPlayer[MEDIA_ATTRIBUTES]);\n      return;\n    }\n    const $attrs = {\n      \"data-load\": function() {\n        return this.$props.load();\n      },\n      \"data-captions\": function() {\n        const track = this.$state.textTrack();\n        return !!track && isTrackCaptionKind(track);\n      },\n      \"data-ios-controls\": function() {\n        return this.$state.iOSControls();\n      },\n      \"data-controls\": function() {\n        return this.controls.showing;\n      },\n      \"data-buffering\": function() {\n        const { canLoad, canPlay, waiting } = this.$state;\n        return canLoad() && (!canPlay() || waiting());\n      },\n      \"data-error\": function() {\n        const { error } = this.$state;\n        return !!error();\n      },\n      \"data-autoplay-error\": function() {\n        const { autoPlayError } = this.$state;\n        return !!autoPlayError();\n      }\n    };\n    const alias = {\n      autoPlay: \"autoplay\",\n      canAirPlay: \"can-airplay\",\n      canPictureInPicture: \"can-pip\",\n      pictureInPicture: \"pip\",\n      playsInline: \"playsinline\",\n      remotePlaybackState: \"remote-state\",\n      remotePlaybackType: \"remote-type\",\n      isAirPlayConnected: \"airplay\",\n      isGoogleCastConnected: \"google-cast\"\n    };\n    for (const prop2 of mediaAttributes) {\n      const attrName = \"data-\" + (alias[prop2] ?? camelToKebabCase(prop2));\n      $attrs[attrName] = function() {\n        return this.$state[prop2]();\n      };\n    }\n    delete $attrs.title;\n    MediaPlayer[MEDIA_ATTRIBUTES] = $attrs;\n    this.setAttributes($attrs);\n  }\n  #onFindPlayer(event) {\n    event.detail(this);\n  }\n  #onResize() {\n    if (IS_SERVER || !this.el) return;\n    const width = this.el.clientWidth, height = this.el.clientHeight;\n    this.$state.width.set(width);\n    this.$state.height.set(height);\n    setStyle(this.el, \"--player-width\", width + \"px\");\n    setStyle(this.el, \"--player-height\", height + \"px\");\n  }\n  #onPointerChange(queryList) {\n    if (IS_SERVER) return;\n    const pointer = queryList.matches ? \"coarse\" : \"fine\";\n    setAttribute(this.el, \"data-pointer\", pointer);\n    this.$state.pointer.set(pointer);\n    this.#onResize();\n  }\n  /**\n   * The current media provider.\n   */\n  get provider() {\n    return this.#provider;\n  }\n  /**\n   * Media controls settings.\n   */\n  get controls() {\n    return this.#requestMgr.controls;\n  }\n  set controls(controls) {\n    this.#props.controls.set(controls);\n  }\n  /**\n   * Controls the screen orientation of the current browser window and dispatches orientation\n   * change events on the player.\n   */\n  orientation;\n  /**\n   * The title of the current media.\n   */\n  get title() {\n    return peek(this.$state.title);\n  }\n  set title(newTitle) {\n    if (this.#skipTitleUpdate) {\n      this.#skipTitleUpdate = false;\n      return;\n    }\n    this.#props.title.set(newTitle);\n  }\n  /**\n   * A list of all `VideoQuality` objects representing the set of available video renditions.\n   *\n   * @see {@link https://vidstack.io/docs/player/api/video-quality}\n   */\n  get qualities() {\n    return this.#media.qualities;\n  }\n  /**\n   * A list of all `AudioTrack` objects representing the set of available audio tracks.\n   *\n   * @see {@link https://vidstack.io/docs/player/api/audio-tracks}\n   */\n  get audioTracks() {\n    return this.#media.audioTracks;\n  }\n  /**\n   * A list of all `TextTrack` objects representing the set of available text tracks.\n   *\n   * @see {@link https://vidstack.io/docs/player/api/text-tracks}\n   */\n  get textTracks() {\n    return this.#media.textTracks;\n  }\n  /**\n   * Contains text renderers which are responsible for loading, parsing, and rendering text\n   * tracks.\n   */\n  get textRenderers() {\n    return this.#media.textRenderers;\n  }\n  get duration() {\n    return this.$state.duration();\n  }\n  set duration(duration) {\n    this.#props.duration.set(duration);\n  }\n  get paused() {\n    return peek(this.$state.paused);\n  }\n  set paused(paused) {\n    this.#queuePausedUpdate(paused);\n  }\n  #watchPaused() {\n    this.#queuePausedUpdate(this.$props.paused());\n  }\n  #queuePausedUpdate(paused) {\n    if (paused) {\n      this.canPlayQueue.enqueue(\"paused\", () => this.#requestMgr.pause());\n    } else this.canPlayQueue.enqueue(\"paused\", () => this.#requestMgr.play());\n  }\n  get muted() {\n    return peek(this.$state.muted);\n  }\n  set muted(muted) {\n    this.#queueMutedUpdate(muted);\n  }\n  #watchMuted() {\n    this.#queueMutedUpdate(this.$props.muted());\n  }\n  #queueMutedUpdate(muted) {\n    this.canPlayQueue.enqueue(\"muted\", () => {\n      if (this.#provider) this.#provider.setMuted(muted);\n    });\n  }\n  get currentTime() {\n    return peek(this.$state.currentTime);\n  }\n  set currentTime(time) {\n    this.#queueCurrentTimeUpdate(time);\n  }\n  #watchCurrentTime() {\n    this.#queueCurrentTimeUpdate(this.$props.currentTime());\n  }\n  #queueCurrentTimeUpdate(time) {\n    this.canPlayQueue.enqueue(\"currentTime\", () => {\n      const { currentTime } = this.$state;\n      if (time === peek(currentTime)) return;\n      peek(() => {\n        if (!this.#provider) return;\n        const boundedTime = boundTime(time, this.$state);\n        if (Number.isFinite(boundedTime)) {\n          this.#provider.setCurrentTime(boundedTime);\n        }\n      });\n    });\n  }\n  get volume() {\n    return peek(this.$state.volume);\n  }\n  set volume(volume) {\n    this.#queueVolumeUpdate(volume);\n  }\n  #watchVolume() {\n    this.#queueVolumeUpdate(this.$props.volume());\n  }\n  #queueVolumeUpdate(volume) {\n    const clampedVolume = clampNumber(0, volume, 1);\n    this.canPlayQueue.enqueue(\"volume\", () => {\n      if (this.#provider) this.#provider.setVolume(clampedVolume);\n    });\n  }\n  get playbackRate() {\n    return peek(this.$state.playbackRate);\n  }\n  set playbackRate(rate) {\n    this.#queuePlaybackRateUpdate(rate);\n  }\n  #watchPlaybackRate() {\n    this.#queuePlaybackRateUpdate(this.$props.playbackRate());\n  }\n  #queuePlaybackRateUpdate(rate) {\n    this.canPlayQueue.enqueue(\"rate\", () => {\n      if (this.#provider) this.#provider.setPlaybackRate?.(rate);\n    });\n  }\n  #watchPlaysInline() {\n    this.#queuePlaysInlineUpdate(this.$props.playsInline());\n  }\n  #queuePlaysInlineUpdate(inline) {\n    this.canPlayQueue.enqueue(\"playsinline\", () => {\n      if (this.#provider) this.#provider.setPlaysInline?.(inline);\n    });\n  }\n  #watchStorage() {\n    let storageValue = this.$props.storage(), storage = isString(storageValue) ? new LocalMediaStorage() : storageValue;\n    if (storage?.onChange) {\n      const { source } = this.$state, playerId = isString(storageValue) ? storageValue : this.el?.id, mediaId = computed(this.#computeMediaId.bind(this));\n      effect(() => storage.onChange(source(), mediaId(), playerId || void 0));\n    }\n    this.#media.storage = storage;\n    this.#media.textTracks.setStorage(storage);\n    onDispose(() => {\n      storage?.onDestroy?.();\n      this.#media.storage = null;\n      this.#media.textTracks.setStorage(null);\n    });\n  }\n  #computeMediaId() {\n    const { clipStartTime, clipEndTime } = this.$props, { source } = this.$state, src = source();\n    return src.src ? `${src.src}:${clipStartTime()}:${clipEndTime()}` : null;\n  }\n  /**\n   * Begins/resumes playback of the media. If this method is called programmatically before the\n   * user has interacted with the player, the promise may be rejected subject to the browser's\n   * autoplay policies. This method will throw if called before media is ready for playback.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/play}\n   */\n  async play(trigger) {\n    return this.#requestMgr.play(trigger);\n  }\n  /**\n   * Pauses playback of the media. This method will throw if called before media is ready for\n   * playback.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/pause}\n   */\n  async pause(trigger) {\n    return this.#requestMgr.pause(trigger);\n  }\n  /**\n   * Attempts to display the player in fullscreen. The promise will resolve if successful, and\n   * reject if not. This method will throw if any fullscreen API is _not_ currently available.\n   *\n   * @see {@link https://vidstack.io/docs/player/api/fullscreen}\n   */\n  async enterFullscreen(target, trigger) {\n    return this.#requestMgr.enterFullscreen(target, trigger);\n  }\n  /**\n   * Attempts to display the player inline by exiting fullscreen. This method will throw if any\n   * fullscreen API is _not_ currently available.\n   *\n   * @see {@link https://vidstack.io/docs/player/api/fullscreen}\n   */\n  async exitFullscreen(target, trigger) {\n    return this.#requestMgr.exitFullscreen(target, trigger);\n  }\n  /**\n   * Attempts to display the player in picture-in-picture mode. This method will throw if PIP is\n   * not supported. This method will also return a `PictureInPictureWindow` if the current\n   * provider supports it.\n   *\n   * @see {@link https://vidstack.io/docs/player/api/picture-in-picture}\n   */\n  enterPictureInPicture(trigger) {\n    return this.#requestMgr.enterPictureInPicture(trigger);\n  }\n  /**\n   * Attempts to display the player in inline by exiting picture-in-picture mode. This method\n   * will throw if not supported.\n   *\n   * @see {@link https://vidstack.io/docs/player/api/picture-in-picture}\n   */\n  exitPictureInPicture(trigger) {\n    return this.#requestMgr.exitPictureInPicture(trigger);\n  }\n  /**\n   * Sets the current time to the live edge (i.e., `duration`). This is a no-op for non-live\n   * streams and will throw if called before media is ready for playback.\n   *\n   * @see {@link https://vidstack.io/docs/player/api/live}\n   */\n  seekToLiveEdge(trigger) {\n    this.#requestMgr.seekToLiveEdge(trigger);\n  }\n  /**\n   * Called when media can begin loading. Calling this method will trigger the initial provider\n   * loading process. Calling it more than once has no effect.\n   *\n   * @see {@link https://vidstack.io/docs/player/core-concepts/loading#load-strategies}\n   */\n  startLoading(trigger) {\n    this.#media.notify(\"can-load\", void 0, trigger);\n  }\n  /**\n   * Called when the poster image can begin loading. Calling it more than once has no effect.\n   *\n   * @see {@link https://vidstack.io/docs/player/core-concepts/loading#load-strategies}\n   */\n  startLoadingPoster(trigger) {\n    this.#media.notify(\"can-load-poster\", void 0, trigger);\n  }\n  /**\n   * Request Apple AirPlay picker to open.\n   */\n  requestAirPlay(trigger) {\n    return this.#requestMgr.requestAirPlay(trigger);\n  }\n  /**\n   * Request Google Cast device picker to open. The Google Cast framework will be loaded if it\n   * hasn't yet.\n   */\n  requestGoogleCast(trigger) {\n    return this.#requestMgr.requestGoogleCast(trigger);\n  }\n  /**\n   * Set the audio gain, amplifying volume and enabling a maximum volume above 100%.\n   *\n   * @see {@link https://vidstack.io/docs/player/api/audio-gain}\n   */\n  setAudioGain(gain, trigger) {\n    return this.#requestMgr.setAudioGain(gain, trigger);\n  }\n  destroy() {\n    super.destroy();\n    this.#media.remote.setPlayer(null);\n    this.dispatch(\"destroy\");\n  }\n}\nconst mediaplayer__proto = MediaPlayer.prototype;\nprop(mediaplayer__proto, \"canPlayQueue\");\nprop(mediaplayer__proto, \"remoteControl\");\nprop(mediaplayer__proto, \"provider\");\nprop(mediaplayer__proto, \"controls\");\nprop(mediaplayer__proto, \"orientation\");\nprop(mediaplayer__proto, \"title\");\nprop(mediaplayer__proto, \"qualities\");\nprop(mediaplayer__proto, \"audioTracks\");\nprop(mediaplayer__proto, \"textTracks\");\nprop(mediaplayer__proto, \"textRenderers\");\nprop(mediaplayer__proto, \"duration\");\nprop(mediaplayer__proto, \"paused\");\nprop(mediaplayer__proto, \"muted\");\nprop(mediaplayer__proto, \"currentTime\");\nprop(mediaplayer__proto, \"volume\");\nprop(mediaplayer__proto, \"playbackRate\");\nmethod(mediaplayer__proto, \"play\");\nmethod(mediaplayer__proto, \"pause\");\nmethod(mediaplayer__proto, \"enterFullscreen\");\nmethod(mediaplayer__proto, \"exitFullscreen\");\nmethod(mediaplayer__proto, \"enterPictureInPicture\");\nmethod(mediaplayer__proto, \"exitPictureInPicture\");\nmethod(mediaplayer__proto, \"seekToLiveEdge\");\nmethod(mediaplayer__proto, \"startLoading\");\nmethod(mediaplayer__proto, \"startLoadingPoster\");\nmethod(mediaplayer__proto, \"requestAirPlay\");\nmethod(mediaplayer__proto, \"requestGoogleCast\");\nmethod(mediaplayer__proto, \"setAudioGain\");\n\nfunction resolveStreamTypeFromDASHManifest(manifestSrc, requestInit) {\n  return fetch(manifestSrc, requestInit).then((res) => res.text()).then((manifest) => {\n    return /type=\"static\"/.test(manifest) ? \"on-demand\" : \"live\";\n  });\n}\nfunction resolveStreamTypeFromHLSManifest(manifestSrc, requestInit) {\n  return fetch(manifestSrc, requestInit).then((res) => res.text()).then((manifest) => {\n    const renditionURI = resolveHLSRenditionURI(manifest);\n    if (renditionURI) {\n      return resolveStreamTypeFromHLSManifest(\n        /^https?:/.test(renditionURI) ? renditionURI : new URL(renditionURI, manifestSrc).href,\n        requestInit\n      );\n    }\n    const streamType = /EXT-X-PLAYLIST-TYPE:\\s*VOD/.test(manifest) ? \"on-demand\" : \"live\";\n    if (streamType === \"live\" && resolveTargetDuration(manifest) >= 10 && (/#EXT-X-DVR-ENABLED:\\s*true/.test(manifest) || manifest.includes(\"#EXT-X-DISCONTINUITY\"))) {\n      return \"live:dvr\";\n    }\n    return streamType;\n  });\n}\nfunction resolveHLSRenditionURI(manifest) {\n  const matches = manifest.match(/#EXT-X-STREAM-INF:[^\\n]+(\\n[^\\n]+)*/g);\n  return matches ? matches[0].split(\"\\n\")[1].trim() : null;\n}\nfunction resolveTargetDuration(manifest) {\n  const lines = manifest.split(\"\\n\");\n  for (const line of lines) {\n    if (line.startsWith(\"#EXT-X-TARGETDURATION\")) {\n      const duration = parseFloat(line.split(\":\")[1]);\n      if (!isNaN(duration)) {\n        return duration;\n      }\n    }\n  }\n  return -1;\n}\n\nlet warned$1 = /* @__PURE__ */ new Set() ;\nconst sourceTypes = /* @__PURE__ */ new Map();\nclass SourceSelection {\n  #initialize = false;\n  #loaders;\n  #domSources;\n  #media;\n  #loader;\n  constructor(domSources, media, loader, customLoaders = []) {\n    this.#domSources = domSources;\n    this.#media = media;\n    this.#loader = loader;\n    const DASH_LOADER = new DASHProviderLoader(), HLS_LOADER = new HLSProviderLoader(), VIDEO_LOADER = new VideoProviderLoader(), AUDIO_LOADER = new AudioProviderLoader(), YOUTUBE_LOADER = new YouTubeProviderLoader(), VIMEO_LOADER = new VimeoProviderLoader(), EMBED_LOADERS = [YOUTUBE_LOADER, VIMEO_LOADER];\n    this.#loaders = computed(() => {\n      const remoteLoader = media.$state.remotePlaybackLoader();\n      const loaders = media.$props.preferNativeHLS() ? [VIDEO_LOADER, AUDIO_LOADER, DASH_LOADER, HLS_LOADER, ...EMBED_LOADERS, ...customLoaders] : [HLS_LOADER, VIDEO_LOADER, AUDIO_LOADER, DASH_LOADER, ...EMBED_LOADERS, ...customLoaders];\n      return remoteLoader ? [remoteLoader, ...loaders] : loaders;\n    });\n    const { $state } = media;\n    $state.sources.set(normalizeSrc(media.$props.src()));\n    for (const src of $state.sources()) {\n      const loader2 = this.#loaders().find((loader3) => loader3.canPlay(src));\n      if (!loader2) continue;\n      const mediaType = loader2.mediaType(src);\n      media.$state.source.set(src);\n      media.$state.mediaType.set(mediaType);\n      media.$state.inferredViewType.set(mediaType);\n      this.#loader.set(loader2);\n      this.#initialize = true;\n      break;\n    }\n  }\n  connect() {\n    const loader = this.#loader();\n    if (this.#initialize) {\n      this.#notifySourceChange(this.#media.$state.source(), loader);\n      this.#notifyLoaderChange(loader);\n      this.#initialize = false;\n    }\n    effect(this.#onSourcesChange.bind(this));\n    effect(this.#onSourceChange.bind(this));\n    effect(this.#onSetup.bind(this));\n    effect(this.#onLoadSource.bind(this));\n    effect(this.#onLoadPoster.bind(this));\n  }\n  #onSourcesChange() {\n    this.#media.notify(\"sources-change\", [\n      ...normalizeSrc(this.#media.$props.src()),\n      ...this.#domSources()\n    ]);\n  }\n  #onSourceChange() {\n    const { $state } = this.#media;\n    const sources = $state.sources(), currentSource = peek($state.source), newSource = this.#findNewSource(currentSource, sources), noMatch = sources[0]?.src && !newSource.src && !newSource.type;\n    if (noMatch && !warned$1.has(newSource.src) && !peek(this.#loader)) {\n      const source = sources[0];\n      console.warn(\n        `[vidstack] could not find a loader for any of the given media sources, consider providing \\`type\\`:\n\n--- HTML ---\n\n<media-provider>\n  <source src=\"${source.src}\" type=\"video/mp4\" />\n</media-provider>\"\n\n--- React ---\n\n<MediaPlayer src={{ src: \"${source.src}\", type: \"video/mp4\" }}>\n\n---\n\nFalling back to fetching source headers...`\n      );\n      warned$1.add(newSource.src);\n    }\n    if (noMatch) {\n      const { crossOrigin } = $state, credentials = getRequestCredentials(crossOrigin()), abort = new AbortController();\n      Promise.all(\n        sources.map(\n          (source) => isString(source.src) && source.type === \"?\" ? fetch(source.src, {\n            method: \"HEAD\",\n            credentials,\n            signal: abort.signal\n          }).then((res) => {\n            source.type = res.headers.get(\"content-type\") || \"??\";\n            sourceTypes.set(source.src, source.type);\n            return source;\n          }).catch(() => source) : source\n        )\n      ).then((sources2) => {\n        if (abort.signal.aborted) return;\n        const newSource2 = this.#findNewSource(peek($state.source), sources2);\n        tick();\n        if (!newSource2.src) {\n          this.#media.notify(\"error\", {\n            message: \"Failed to load resource.\",\n            code: 4\n          });\n        }\n      });\n      return () => abort.abort();\n    }\n    tick();\n  }\n  #findNewSource(currentSource, sources) {\n    let newSource = { src: \"\", type: \"\" }, newLoader = null, triggerEvent = new DOMEvent(\"sources-change\", { detail: { sources } }), loaders = this.#loaders(), { started, paused, currentTime, quality, savedState } = this.#media.$state;\n    for (const src of sources) {\n      const loader = loaders.find((loader2) => loader2.canPlay(src));\n      if (loader) {\n        newSource = src;\n        newLoader = loader;\n        break;\n      }\n    }\n    if (isVideoQualitySrc(newSource)) {\n      const currentQuality = quality(), sourceQuality = sources.find((s) => s.src === currentQuality?.src);\n      if (peek(started)) {\n        savedState.set({\n          paused: peek(paused),\n          currentTime: peek(currentTime)\n        });\n      } else {\n        savedState.set(null);\n      }\n      if (sourceQuality) {\n        newSource = sourceQuality;\n        triggerEvent = new DOMEvent(\"quality-change\", {\n          detail: { quality: currentQuality }\n        });\n      }\n    }\n    if (!isSameSrc(currentSource, newSource)) {\n      this.#notifySourceChange(newSource, newLoader, triggerEvent);\n    }\n    if (newLoader !== peek(this.#loader)) {\n      this.#notifyLoaderChange(newLoader, triggerEvent);\n    }\n    return newSource;\n  }\n  #notifySourceChange(src, loader, trigger) {\n    this.#media.notify(\"source-change\", src, trigger);\n    this.#media.notify(\"media-type-change\", loader?.mediaType(src) || \"unknown\", trigger);\n  }\n  #notifyLoaderChange(loader, trigger) {\n    this.#media.$providerSetup.set(false);\n    this.#media.notify(\"provider-change\", null, trigger);\n    loader && peek(() => loader.preconnect?.(this.#media));\n    this.#loader.set(loader);\n    this.#media.notify(\"provider-loader-change\", loader, trigger);\n  }\n  #onSetup() {\n    const provider = this.#media.$provider();\n    if (!provider || peek(this.#media.$providerSetup)) return;\n    if (this.#media.$state.canLoad()) {\n      scoped(() => provider.setup(), provider.scope);\n      this.#media.$providerSetup.set(true);\n      return;\n    }\n    peek(() => provider.preconnect?.());\n  }\n  #onLoadSource() {\n    if (!this.#media.$providerSetup()) return;\n    const provider = this.#media.$provider(), source = this.#media.$state.source(), crossOrigin = peek(this.#media.$state.crossOrigin), preferNativeHLS = peek(this.#media.$props.preferNativeHLS);\n    if (isSameSrc(provider?.currentSrc, source)) {\n      return;\n    }\n    if (this.#media.$state.canLoad()) {\n      const abort = new AbortController();\n      if (isHLSSrc(source)) {\n        if (preferNativeHLS || !isHLSSupported()) {\n          resolveStreamTypeFromHLSManifest(source.src, {\n            credentials: getRequestCredentials(crossOrigin),\n            signal: abort.signal\n          }).then((streamType) => {\n            this.#media.notify(\"stream-type-change\", streamType);\n          }).catch(noop);\n        }\n      } else if (isDASHSrc(source)) {\n        resolveStreamTypeFromDASHManifest(source.src, {\n          credentials: getRequestCredentials(crossOrigin),\n          signal: abort.signal\n        }).then((streamType) => {\n          this.#media.notify(\"stream-type-change\", streamType);\n        }).catch(noop);\n      } else {\n        this.#media.notify(\"stream-type-change\", \"on-demand\");\n      }\n      peek(() => {\n        const preload = peek(this.#media.$state.preload);\n        return provider?.loadSource(source, preload).catch((error) => {\n          {\n            this.#media.logger?.errorGroup(\"[vidstack] failed to load source\").labelledLog(\"Error\", error).labelledLog(\"Source\", source).labelledLog(\"Provider\", provider).labelledLog(\"Media Context\", { ...this.#media }).dispatch();\n          }\n        });\n      });\n      return () => abort.abort();\n    }\n    try {\n      isString(source.src) && preconnect(new URL(source.src).origin);\n    } catch (error) {\n      {\n        this.#media.logger?.infoGroup(`Failed to preconnect to source: ${source.src}`).labelledLog(\"Error\", error).dispatch();\n      }\n    }\n  }\n  #onLoadPoster() {\n    const loader = this.#loader(), { providedPoster, source, canLoadPoster } = this.#media.$state;\n    if (!loader || !loader.loadPoster || !source() || !canLoadPoster() || providedPoster()) return;\n    const abort = new AbortController(), trigger = new DOMEvent(\"source-change\", { detail: source });\n    loader.loadPoster(source(), this.#media, abort).then((url) => {\n      this.#media.notify(\"poster-change\", url || \"\", trigger);\n    }).catch(() => {\n      this.#media.notify(\"poster-change\", \"\", trigger);\n    });\n    return () => {\n      abort.abort();\n    };\n  }\n}\nfunction normalizeSrc(src) {\n  return (isArray(src) ? src : [src]).map((src2) => {\n    if (isString(src2)) {\n      return { src: src2, type: inferType(src2) };\n    } else {\n      return { ...src2, type: inferType(src2.src, src2.type) };\n    }\n  });\n}\nfunction inferType(src, type) {\n  if (isString(type) && type.length) {\n    return type;\n  } else if (isString(src) && sourceTypes.has(src)) {\n    return sourceTypes.get(src);\n  } else if (!type && isHLSSrc({ src, type: \"\" })) {\n    return \"application/x-mpegurl\";\n  } else if (!type && isDASHSrc({ src, type: \"\" })) {\n    return \"application/dash+xml\";\n  } else if (!isString(src) || src.startsWith(\"blob:\")) {\n    return \"video/object\";\n  } else if (src.includes(\"youtube\") || src.includes(\"youtu.be\")) {\n    return \"video/youtube\";\n  } else if (src.includes(\"vimeo\") && !src.includes(\"progressive_redirect\") && !src.includes(\".m3u8\")) {\n    return \"video/vimeo\";\n  }\n  return \"?\";\n}\nfunction isSameSrc(a, b) {\n  return a?.src === b?.src && a?.type === b?.type;\n}\n\nclass Tracks {\n  #domTracks;\n  #media;\n  #prevTracks = [];\n  constructor(domTracks, media) {\n    this.#domTracks = domTracks;\n    this.#media = media;\n    effect(this.#onTracksChange.bind(this));\n  }\n  #onTracksChange() {\n    const newTracks = this.#domTracks();\n    for (const oldTrack of this.#prevTracks) {\n      if (!newTracks.some((t) => t.id === oldTrack.id)) {\n        const track = oldTrack.id && this.#media.textTracks.getById(oldTrack.id);\n        if (track) this.#media.textTracks.remove(track);\n      }\n    }\n    for (const newTrack of newTracks) {\n      const id = newTrack.id || TextTrack.createId(newTrack);\n      if (!this.#media.textTracks.getById(id)) {\n        newTrack.id = id;\n        this.#media.textTracks.add(newTrack);\n      }\n    }\n    this.#prevTracks = newTracks;\n  }\n}\n\nclass MediaProvider extends Component {\n  static props = {\n    loaders: []\n  };\n  static state = new State({\n    loader: null\n  });\n  #media;\n  #sources;\n  #domSources = signal([]);\n  #domTracks = signal([]);\n  #loader = null;\n  onSetup() {\n    this.#media = useMediaContext();\n    this.#sources = new SourceSelection(\n      this.#domSources,\n      this.#media,\n      this.$state.loader,\n      this.$props.loaders()\n    );\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-provider\", \"\");\n  }\n  onConnect(el) {\n    this.#sources.connect();\n    new Tracks(this.#domTracks, this.#media);\n    const resize = new ResizeObserver(animationFrameThrottle(this.#onResize.bind(this)));\n    resize.observe(el);\n    const mutations = new MutationObserver(this.#onMutation.bind(this));\n    mutations.observe(el, { attributes: true, childList: true });\n    this.#onResize();\n    this.#onMutation();\n    onDispose(() => {\n      resize.disconnect();\n      mutations.disconnect();\n    });\n  }\n  #loadRafId = -1;\n  load(target) {\n    target?.setAttribute(\"aria-hidden\", \"true\");\n    window.cancelAnimationFrame(this.#loadRafId);\n    this.#loadRafId = requestAnimationFrame(() => this.#runLoader(target));\n    onDispose(() => {\n      window.cancelAnimationFrame(this.#loadRafId);\n    });\n  }\n  #runLoader(target) {\n    if (!this.scope) return;\n    const loader = this.$state.loader(), { $provider } = this.#media;\n    if (this.#loader === loader && loader?.target === target && peek($provider)) return;\n    this.#destroyProvider();\n    this.#loader = loader;\n    if (loader) loader.target = target || null;\n    if (!loader || !target) return;\n    loader.load(this.#media).then((provider) => {\n      if (!this.scope) return;\n      if (peek(this.$state.loader) !== loader) return;\n      this.#media.notify(\"provider-change\", provider);\n    });\n  }\n  onDestroy() {\n    this.#loader = null;\n    this.#destroyProvider();\n  }\n  #destroyProvider() {\n    this.#media?.notify(\"provider-change\", null);\n  }\n  #onResize() {\n    if (!this.el) return;\n    const { player, $state } = this.#media, width = this.el.offsetWidth, height = this.el.offsetHeight;\n    if (!player) return;\n    $state.mediaWidth.set(width);\n    $state.mediaHeight.set(height);\n    if (player.el) {\n      setStyle(player.el, \"--media-width\", width + \"px\");\n      setStyle(player.el, \"--media-height\", height + \"px\");\n    }\n  }\n  #onMutation() {\n    const sources = [], tracks = [], children = this.el.children;\n    for (const el of children) {\n      if (el.hasAttribute(\"data-vds\")) continue;\n      if (el instanceof HTMLSourceElement) {\n        const src = {\n          id: el.id,\n          src: el.src,\n          type: el.type\n        };\n        for (const prop of [\"id\", \"src\", \"width\", \"height\", \"bitrate\", \"codec\"]) {\n          const value = el.getAttribute(`data-${prop}`);\n          if (isString(value)) src[prop] = /id|src|codec/.test(prop) ? value : Number(value);\n        }\n        sources.push(src);\n      } else if (el instanceof HTMLTrackElement) {\n        const track = {\n          src: el.src,\n          kind: el.track.kind,\n          language: el.srclang,\n          label: el.label,\n          default: el.default,\n          type: el.getAttribute(\"data-type\")\n        };\n        tracks.push({\n          id: el.id || TextTrack.createId(track),\n          ...track\n        });\n      }\n    }\n    this.#domSources.set(sources);\n    this.#domTracks.set(tracks);\n    tick();\n  }\n}\nconst mediaprovider__proto = MediaProvider.prototype;\nmethod(mediaprovider__proto, \"load\");\n\nclass MediaAnnouncer extends Component {\n  static props = {\n    translations: null\n  };\n  static state = new State({\n    label: null,\n    busy: false\n  });\n  #media;\n  #initializing = false;\n  onSetup() {\n    this.#media = useMediaContext();\n  }\n  onAttach(el) {\n    el.style.display = \"contents\";\n  }\n  onConnect(el) {\n    el.setAttribute(\"data-media-announcer\", \"\");\n    setAttributeIfEmpty(el, \"role\", \"status\");\n    setAttributeIfEmpty(el, \"aria-live\", \"polite\");\n    const { busy } = this.$state;\n    this.setAttributes({\n      \"aria-busy\": () => busy() ? \"true\" : null\n    });\n    this.#initializing = true;\n    effect(this.#watchPaused.bind(this));\n    effect(this.#watchVolume.bind(this));\n    effect(this.#watchCaptions.bind(this));\n    effect(this.#watchFullscreen.bind(this));\n    effect(this.#watchPiP.bind(this));\n    effect(this.#watchSeeking.bind(this));\n    effect(this.#watchLabel.bind(this));\n    tick();\n    this.#initializing = false;\n  }\n  #watchPaused() {\n    const { paused } = this.#media.$state;\n    this.#setLabel(!paused() ? \"Play\" : \"Pause\");\n  }\n  #watchFullscreen() {\n    const { fullscreen } = this.#media.$state;\n    this.#setLabel(fullscreen() ? \"Enter Fullscreen\" : \"Exit Fullscreen\");\n  }\n  #watchPiP() {\n    const { pictureInPicture } = this.#media.$state;\n    this.#setLabel(pictureInPicture() ? \"Enter PiP\" : \"Exit PiP\");\n  }\n  #watchCaptions() {\n    const { textTrack } = this.#media.$state;\n    this.#setLabel(textTrack() ? \"Closed-Captions On\" : \"Closed-Captions Off\");\n  }\n  #watchVolume() {\n    const { muted, volume, audioGain } = this.#media.$state;\n    this.#setLabel(\n      muted() || volume() === 0 ? \"Mute\" : `${Math.round(volume() * (audioGain() ?? 1) * 100)}% ${this.#translate(\"Volume\")}`\n    );\n  }\n  #startedSeekingAt = -1;\n  #seekTimer = -1;\n  #watchSeeking() {\n    const { seeking, currentTime } = this.#media.$state, isSeeking = seeking();\n    if (this.#startedSeekingAt > 0) {\n      window.clearTimeout(this.#seekTimer);\n      this.#seekTimer = window.setTimeout(() => {\n        if (!this.scope) return;\n        const newTime = peek(currentTime), seconds = Math.abs(newTime - this.#startedSeekingAt);\n        if (seconds >= 1) {\n          const isForward = newTime >= this.#startedSeekingAt, spokenTime = formatSpokenTime(seconds);\n          this.#setLabel(\n            `${this.#translate(isForward ? \"Seek Forward\" : \"Seek Backward\")} ${spokenTime}`\n          );\n        }\n        this.#startedSeekingAt = -1;\n        this.#seekTimer = -1;\n      }, 300);\n    } else if (isSeeking) {\n      this.#startedSeekingAt = peek(currentTime);\n    }\n  }\n  #translate(word) {\n    const { translations } = this.$props;\n    return translations?.()?.[word || \"\"] ?? word;\n  }\n  #watchLabel() {\n    const { label, busy } = this.$state, $label = this.#translate(label());\n    if (this.#initializing) return;\n    busy.set(true);\n    const id = window.setTimeout(() => void busy.set(false), 150);\n    this.el && setAttribute(this.el, \"aria-label\", $label);\n    if (isString($label)) {\n      this.dispatch(\"change\", { detail: $label });\n    }\n    return () => window.clearTimeout(id);\n  }\n  #setLabel(word) {\n    const { label } = this.$state;\n    label.set(word);\n  }\n}\n\nclass Controls extends Component {\n  static props = {\n    hideDelay: 2e3,\n    hideOnMouseLeave: false\n  };\n  #media;\n  onSetup() {\n    this.#media = useMediaContext();\n    effect(this.#watchProps.bind(this));\n  }\n  onAttach(el) {\n    const { pictureInPicture, fullscreen } = this.#media.$state;\n    setStyle(el, \"pointer-events\", \"none\");\n    setAttributeIfEmpty(el, \"role\", \"group\");\n    this.setAttributes({\n      \"data-visible\": this.#isShowing.bind(this),\n      \"data-fullscreen\": fullscreen,\n      \"data-pip\": pictureInPicture\n    });\n    effect(() => {\n      this.dispatch(\"change\", { detail: this.#isShowing() });\n    });\n    effect(this.#hideControls.bind(this));\n    effect(() => {\n      const isFullscreen = fullscreen();\n      for (const side of [\"top\", \"right\", \"bottom\", \"left\"]) {\n        setStyle(el, `padding-${side}`, isFullscreen && `env(safe-area-inset-${side})`);\n      }\n    });\n  }\n  #hideControls() {\n    if (!this.el) return;\n    const { nativeControls } = this.#media.$state, isHidden = nativeControls();\n    setAttribute(this.el, \"aria-hidden\", isHidden ? \"true\" : null);\n    setStyle(this.el, \"display\", isHidden ? \"none\" : null);\n  }\n  #watchProps() {\n    const { controls } = this.#media.player, { hideDelay, hideOnMouseLeave } = this.$props;\n    controls.defaultDelay = hideDelay() === 2e3 ? this.#media.$props.controlsDelay() : hideDelay();\n    controls.hideOnMouseLeave = hideOnMouseLeave();\n  }\n  #isShowing() {\n    const { controlsVisible } = this.#media.$state;\n    return controlsVisible();\n  }\n}\n\nclass ControlsGroup extends Component {\n  onAttach(el) {\n    if (!el.style.pointerEvents) setStyle(el, \"pointer-events\", \"auto\");\n  }\n}\n\nclass Popper extends ViewController {\n  #delegate;\n  constructor(delegate) {\n    super();\n    this.#delegate = delegate;\n    effect(this.#watchTrigger.bind(this));\n  }\n  onDestroy() {\n    this.#stopAnimationEndListener?.();\n    this.#stopAnimationEndListener = null;\n  }\n  #watchTrigger() {\n    const trigger = this.#delegate.trigger();\n    if (!trigger) {\n      this.hide();\n      return;\n    }\n    const show = this.show.bind(this), hide = this.hide.bind(this);\n    this.#delegate.listen(trigger, show, hide);\n  }\n  #showTimerId = -1;\n  #hideRafId = -1;\n  #stopAnimationEndListener = null;\n  show(trigger) {\n    this.#cancelShowing();\n    window.cancelAnimationFrame(this.#hideRafId);\n    this.#hideRafId = -1;\n    this.#stopAnimationEndListener?.();\n    this.#stopAnimationEndListener = null;\n    this.#showTimerId = window.setTimeout(() => {\n      this.#showTimerId = -1;\n      const content = this.#delegate.content();\n      if (content) content.style.removeProperty(\"display\");\n      peek(() => this.#delegate.onChange(true, trigger));\n    }, this.#delegate.showDelay?.() ?? 0);\n  }\n  hide(trigger) {\n    this.#cancelShowing();\n    peek(() => this.#delegate.onChange(false, trigger));\n    this.#hideRafId = requestAnimationFrame(() => {\n      this.#cancelShowing();\n      this.#hideRafId = -1;\n      const content = this.#delegate.content();\n      if (content) {\n        const onHide = () => {\n          content.style.display = \"none\";\n          this.#stopAnimationEndListener = null;\n        };\n        const isAnimated = hasAnimation(content);\n        if (isAnimated) {\n          this.#stopAnimationEndListener?.();\n          const stop = listenEvent(content, \"animationend\", onHide, { once: true });\n          this.#stopAnimationEndListener = stop;\n        } else {\n          onHide();\n        }\n      }\n    });\n  }\n  #cancelShowing() {\n    window.clearTimeout(this.#showTimerId);\n    this.#showTimerId = -1;\n  }\n}\n\nconst tooltipContext = createContext();\n\nlet id = 0;\nclass Tooltip extends Component {\n  static props = {\n    showDelay: 700\n  };\n  #id = `media-tooltip-${++id}`;\n  #trigger = signal(null);\n  #content = signal(null);\n  #showing = signal(false);\n  constructor() {\n    super();\n    new FocusVisibleController();\n    const { showDelay } = this.$props;\n    new Popper({\n      trigger: this.#trigger,\n      content: this.#content,\n      showDelay,\n      listen(trigger, show, hide) {\n        effect(() => {\n          if ($keyboard()) listenEvent(trigger, \"focus\", show);\n          listenEvent(trigger, \"blur\", hide);\n        });\n        new EventsController(trigger).add(\"touchstart\", (e) => e.preventDefault(), { passive: false }).add(\"mouseenter\", show).add(\"mouseleave\", hide);\n      },\n      onChange: this.#onShowingChange.bind(this)\n    });\n  }\n  onAttach(el) {\n    el.style.setProperty(\"display\", \"contents\");\n  }\n  onSetup() {\n    provideContext(tooltipContext, {\n      trigger: this.#trigger,\n      content: this.#content,\n      showing: this.#showing,\n      attachTrigger: this.#attachTrigger.bind(this),\n      detachTrigger: this.#detachTrigger.bind(this),\n      attachContent: this.#attachContent.bind(this),\n      detachContent: this.#detachContent.bind(this)\n    });\n  }\n  #attachTrigger(el) {\n    this.#trigger.set(el);\n    let tooltipName = el.getAttribute(\"data-media-tooltip\");\n    if (tooltipName) {\n      this.el?.setAttribute(`data-media-${tooltipName}-tooltip`, \"\");\n    }\n    setAttribute(el, \"data-describedby\", this.#id);\n  }\n  #detachTrigger(el) {\n    el.removeAttribute(\"data-describedby\");\n    el.removeAttribute(\"aria-describedby\");\n    this.#trigger.set(null);\n  }\n  #attachContent(el) {\n    el.setAttribute(\"id\", this.#id);\n    el.style.display = \"none\";\n    setAttributeIfEmpty(el, \"role\", \"tooltip\");\n    this.#content.set(el);\n  }\n  #detachContent(el) {\n    el.removeAttribute(\"id\");\n    el.removeAttribute(\"role\");\n    this.#content.set(null);\n  }\n  #onShowingChange(isShowing) {\n    const trigger = this.#trigger(), content = this.#content();\n    if (trigger) {\n      setAttribute(trigger, \"aria-describedby\", isShowing ? this.#id : null);\n    }\n    for (const el of [this.el, trigger, content]) {\n      el && setAttribute(el, \"data-visible\", isShowing);\n    }\n    this.#showing.set(isShowing);\n  }\n}\n\nclass TooltipTrigger extends Component {\n  constructor() {\n    super();\n    new FocusVisibleController();\n  }\n  onConnect(el) {\n    onDispose(\n      requestScopedAnimationFrame(() => {\n        if (!this.connectScope) return;\n        this.#attach();\n        const tooltip = useContext(tooltipContext);\n        onDispose(() => {\n          const button = this.#getButton();\n          button && tooltip.detachTrigger(button);\n        });\n      })\n    );\n  }\n  #attach() {\n    const button = this.#getButton(), tooltip = useContext(tooltipContext);\n    button && tooltip.attachTrigger(button);\n  }\n  #getButton() {\n    const candidate = this.el.firstElementChild;\n    return candidate?.localName === \"button\" || candidate?.getAttribute(\"role\") === \"button\" ? candidate : this.el;\n  }\n}\n\nclass TooltipContent extends Component {\n  static props = {\n    placement: \"top center\",\n    offset: 0,\n    alignOffset: 0\n  };\n  constructor() {\n    super();\n    new FocusVisibleController();\n    const { placement } = this.$props;\n    this.setAttributes({\n      \"data-placement\": placement\n    });\n  }\n  onAttach(el) {\n    this.#attach(el);\n    Object.assign(el.style, {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"max-content\"\n    });\n  }\n  onConnect(el) {\n    this.#attach(el);\n    const tooltip = useContext(tooltipContext);\n    onDispose(() => tooltip.detachContent(el));\n    onDispose(\n      requestScopedAnimationFrame(() => {\n        if (!this.connectScope) return;\n        effect(this.#watchPlacement.bind(this));\n      })\n    );\n  }\n  #attach(el) {\n    const tooltip = useContext(tooltipContext);\n    tooltip.attachContent(el);\n  }\n  #watchPlacement() {\n    const { showing } = useContext(tooltipContext);\n    if (!showing()) return;\n    const { placement, offset: mainOffset, alignOffset } = this.$props;\n    return autoPlacement(this.el, this.#getTrigger(), placement(), {\n      offsetVarName: \"media-tooltip\",\n      xOffset: alignOffset(),\n      yOffset: mainOffset()\n    });\n  }\n  #getTrigger() {\n    return useContext(tooltipContext).trigger();\n  }\n}\n\nclass ToggleButtonController extends ViewController {\n  static props = {\n    disabled: false\n  };\n  #delegate;\n  constructor(delegate) {\n    super();\n    this.#delegate = delegate;\n    new FocusVisibleController();\n    if (delegate.keyShortcut) {\n      new ARIAKeyShortcuts(delegate.keyShortcut);\n    }\n  }\n  onSetup() {\n    const { disabled } = this.$props;\n    this.setAttributes({\n      \"data-pressed\": this.#delegate.isPresssed,\n      \"aria-pressed\": this.#isARIAPressed.bind(this),\n      \"aria-disabled\": () => disabled() ? \"true\" : null\n    });\n  }\n  onAttach(el) {\n    setAttributeIfEmpty(el, \"tabindex\", \"0\");\n    setAttributeIfEmpty(el, \"role\", \"button\");\n    setAttributeIfEmpty(el, \"type\", \"button\");\n  }\n  onConnect(el) {\n    const events = onPress(el, this.#onMaybePress.bind(this));\n    for (const type of [\"click\", \"touchstart\"]) {\n      events.add(type, this.#onInteraction.bind(this), {\n        passive: true\n      });\n    }\n  }\n  #isARIAPressed() {\n    return ariaBool$1(this.#delegate.isPresssed());\n  }\n  #onPressed(event) {\n    if (isWriteSignal(this.#delegate.isPresssed)) {\n      this.#delegate.isPresssed.set((p) => !p);\n    }\n  }\n  #onMaybePress(event) {\n    const disabled = this.$props.disabled() || this.el.hasAttribute(\"data-disabled\");\n    if (disabled) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n      return;\n    }\n    event.preventDefault();\n    (this.#delegate.onPress ?? this.#onPressed).call(this, event);\n  }\n  #onInteraction(event) {\n    if (this.$props.disabled()) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n  }\n}\n\nclass ToggleButton extends Component {\n  static props = {\n    disabled: false,\n    defaultPressed: false\n  };\n  #pressed = signal(false);\n  /**\n   * Whether the toggle is currently in a `pressed` state.\n   */\n  get pressed() {\n    return this.#pressed();\n  }\n  constructor() {\n    super();\n    new ToggleButtonController({\n      isPresssed: this.#pressed\n    });\n  }\n}\nconst togglebutton__proto = ToggleButton.prototype;\nprop(togglebutton__proto, \"pressed\");\n\nclass AirPlayButton extends Component {\n  static props = ToggleButtonController.props;\n  #media;\n  constructor() {\n    super();\n    new ToggleButtonController({\n      isPresssed: this.#isPressed.bind(this),\n      onPress: this.#onPress.bind(this)\n    });\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    const { canAirPlay, isAirPlayConnected } = this.#media.$state;\n    this.setAttributes({\n      \"data-active\": isAirPlayConnected,\n      \"data-supported\": canAirPlay,\n      \"data-state\": this.#getState.bind(this),\n      \"aria-hidden\": $ariaBool(() => !canAirPlay())\n    });\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-tooltip\", \"airplay\");\n    setARIALabel(el, this.#getDefaultLabel.bind(this));\n  }\n  #onPress(event) {\n    const remote = this.#media.remote;\n    remote.requestAirPlay(event);\n  }\n  #isPressed() {\n    const { remotePlaybackType, remotePlaybackState } = this.#media.$state;\n    return remotePlaybackType() === \"airplay\" && remotePlaybackState() !== \"disconnected\";\n  }\n  #getState() {\n    const { remotePlaybackType, remotePlaybackState } = this.#media.$state;\n    return remotePlaybackType() === \"airplay\" && remotePlaybackState();\n  }\n  #getDefaultLabel() {\n    const { remotePlaybackState } = this.#media.$state;\n    return `AirPlay ${remotePlaybackState()}`;\n  }\n}\n\nclass GoogleCastButton extends Component {\n  static props = ToggleButtonController.props;\n  #media;\n  constructor() {\n    super();\n    new ToggleButtonController({\n      isPresssed: this.#isPressed.bind(this),\n      onPress: this.#onPress.bind(this)\n    });\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    const { canGoogleCast, isGoogleCastConnected } = this.#media.$state;\n    this.setAttributes({\n      \"data-active\": isGoogleCastConnected,\n      \"data-supported\": canGoogleCast,\n      \"data-state\": this.#getState.bind(this),\n      \"aria-hidden\": $ariaBool(() => !canGoogleCast())\n    });\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-tooltip\", \"google-cast\");\n    setARIALabel(el, this.#getDefaultLabel.bind(this));\n  }\n  #onPress(event) {\n    const remote = this.#media.remote;\n    remote.requestGoogleCast(event);\n  }\n  #isPressed() {\n    const { remotePlaybackType, remotePlaybackState } = this.#media.$state;\n    return remotePlaybackType() === \"google-cast\" && remotePlaybackState() !== \"disconnected\";\n  }\n  #getState() {\n    const { remotePlaybackType, remotePlaybackState } = this.#media.$state;\n    return remotePlaybackType() === \"google-cast\" && remotePlaybackState();\n  }\n  #getDefaultLabel() {\n    const { remotePlaybackState } = this.#media.$state;\n    return `Google Cast ${remotePlaybackState()}`;\n  }\n}\n\nclass PlayButton extends Component {\n  static props = ToggleButtonController.props;\n  #media;\n  constructor() {\n    super();\n    new ToggleButtonController({\n      isPresssed: this.#isPressed.bind(this),\n      keyShortcut: \"togglePaused\",\n      onPress: this.#onPress.bind(this)\n    });\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    const { paused, ended } = this.#media.$state;\n    this.setAttributes({\n      \"data-paused\": paused,\n      \"data-ended\": ended\n    });\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-tooltip\", \"play\");\n    setARIALabel(el, \"Play\");\n  }\n  #onPress(event) {\n    const remote = this.#media.remote;\n    this.#isPressed() ? remote.pause(event) : remote.play(event);\n  }\n  #isPressed() {\n    const { paused } = this.#media.$state;\n    return !paused();\n  }\n}\n\nclass CaptionButton extends Component {\n  static props = ToggleButtonController.props;\n  #media;\n  constructor() {\n    super();\n    new ToggleButtonController({\n      isPresssed: this.#isPressed.bind(this),\n      keyShortcut: \"toggleCaptions\",\n      onPress: this.#onPress.bind(this)\n    });\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    this.setAttributes({\n      \"data-active\": this.#isPressed.bind(this),\n      \"data-supported\": () => !this.#isHidden(),\n      \"aria-hidden\": $ariaBool(this.#isHidden.bind(this))\n    });\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-tooltip\", \"caption\");\n    setARIALabel(el, \"Captions\");\n  }\n  #onPress(event) {\n    this.#media.remote.toggleCaptions(event);\n  }\n  #isPressed() {\n    const { textTrack } = this.#media.$state, track = textTrack();\n    return !!track && isTrackCaptionKind(track);\n  }\n  #isHidden() {\n    const { hasCaptions } = this.#media.$state;\n    return !hasCaptions();\n  }\n}\n\nclass FullscreenButton extends Component {\n  static props = {\n    ...ToggleButtonController.props,\n    target: \"prefer-media\"\n  };\n  #media;\n  constructor() {\n    super();\n    new ToggleButtonController({\n      isPresssed: this.#isPressed.bind(this),\n      keyShortcut: \"toggleFullscreen\",\n      onPress: this.#onPress.bind(this)\n    });\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    const { fullscreen } = this.#media.$state, isSupported = this.#isSupported.bind(this);\n    this.setAttributes({\n      \"data-active\": fullscreen,\n      \"data-supported\": isSupported,\n      \"aria-hidden\": $ariaBool(() => !isSupported())\n    });\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-tooltip\", \"fullscreen\");\n    setARIALabel(el, \"Fullscreen\");\n  }\n  #onPress(event) {\n    const remote = this.#media.remote, target = this.$props.target();\n    this.#isPressed() ? remote.exitFullscreen(target, event) : remote.enterFullscreen(target, event);\n  }\n  #isPressed() {\n    const { fullscreen } = this.#media.$state;\n    return fullscreen();\n  }\n  #isSupported() {\n    const { canFullscreen } = this.#media.$state;\n    return canFullscreen();\n  }\n}\n\nclass MuteButton extends Component {\n  static props = ToggleButtonController.props;\n  #media;\n  constructor() {\n    super();\n    new ToggleButtonController({\n      isPresssed: this.#isPressed.bind(this),\n      keyShortcut: \"toggleMuted\",\n      onPress: this.#onPress.bind(this)\n    });\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    this.setAttributes({\n      \"data-muted\": this.#isPressed.bind(this),\n      \"data-state\": this.#getState.bind(this)\n    });\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-mute-button\", \"\");\n    el.setAttribute(\"data-media-tooltip\", \"mute\");\n    setARIALabel(el, \"Mute\");\n  }\n  #onPress(event) {\n    const remote = this.#media.remote;\n    this.#isPressed() ? remote.unmute(event) : remote.mute(event);\n  }\n  #isPressed() {\n    const { muted, volume } = this.#media.$state;\n    return muted() || volume() === 0;\n  }\n  #getState() {\n    const { muted, volume } = this.#media.$state, $volume = volume();\n    if (muted() || $volume === 0) return \"muted\";\n    else if ($volume >= 0.5) return \"high\";\n    else if ($volume < 0.5) return \"low\";\n  }\n}\n\nclass PIPButton extends Component {\n  static props = ToggleButtonController.props;\n  #media;\n  constructor() {\n    super();\n    new ToggleButtonController({\n      isPresssed: this.#isPressed.bind(this),\n      keyShortcut: \"togglePictureInPicture\",\n      onPress: this.#onPress.bind(this)\n    });\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    const { pictureInPicture } = this.#media.$state, isSupported = this.#isSupported.bind(this);\n    this.setAttributes({\n      \"data-active\": pictureInPicture,\n      \"data-supported\": isSupported,\n      \"aria-hidden\": $ariaBool(() => !isSupported())\n    });\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-tooltip\", \"pip\");\n    setARIALabel(el, \"PiP\");\n  }\n  #onPress(event) {\n    const remote = this.#media.remote;\n    this.#isPressed() ? remote.exitPictureInPicture(event) : remote.enterPictureInPicture(event);\n  }\n  #isPressed() {\n    const { pictureInPicture } = this.#media.$state;\n    return pictureInPicture();\n  }\n  #isSupported() {\n    const { canPictureInPicture } = this.#media.$state;\n    return canPictureInPicture();\n  }\n}\n\nclass SeekButton extends Component {\n  static props = {\n    disabled: false,\n    seconds: 30\n  };\n  #media;\n  constructor() {\n    super();\n    new FocusVisibleController();\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    const { seeking } = this.#media.$state, { seconds } = this.$props, isSupported = this.#isSupported.bind(this);\n    this.setAttributes({\n      seconds,\n      \"data-seeking\": seeking,\n      \"data-supported\": isSupported,\n      \"aria-hidden\": $ariaBool(() => !isSupported())\n    });\n  }\n  onAttach(el) {\n    setAttributeIfEmpty(el, \"tabindex\", \"0\");\n    setAttributeIfEmpty(el, \"role\", \"button\");\n    setAttributeIfEmpty(el, \"type\", \"button\");\n    el.setAttribute(\"data-media-tooltip\", \"seek\");\n    setARIALabel(el, this.#getDefaultLabel.bind(this));\n  }\n  onConnect(el) {\n    onPress(el, this.#onPress.bind(this));\n  }\n  #isSupported() {\n    const { canSeek } = this.#media.$state;\n    return canSeek();\n  }\n  #getDefaultLabel() {\n    const { seconds } = this.$props;\n    return `Seek ${seconds() > 0 ? \"forward\" : \"backward\"} ${seconds()} seconds`;\n  }\n  #onPress(event) {\n    const { seconds, disabled } = this.$props;\n    if (disabled()) return;\n    const { currentTime } = this.#media.$state, seekTo = currentTime() + seconds();\n    this.#media.remote.seek(seekTo, event);\n  }\n}\n\nclass LiveButton extends Component {\n  static props = {\n    disabled: false\n  };\n  #media;\n  constructor() {\n    super();\n    new FocusVisibleController();\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    const { disabled } = this.$props, { live, liveEdge } = this.#media.$state, isHidden = () => !live();\n    this.setAttributes({\n      \"data-edge\": liveEdge,\n      \"data-hidden\": isHidden,\n      \"aria-disabled\": $ariaBool(() => disabled() || liveEdge()),\n      \"aria-hidden\": $ariaBool(isHidden)\n    });\n  }\n  onAttach(el) {\n    setAttributeIfEmpty(el, \"tabindex\", \"0\");\n    setAttributeIfEmpty(el, \"role\", \"button\");\n    setAttributeIfEmpty(el, \"type\", \"button\");\n    el.setAttribute(\"data-media-tooltip\", \"live\");\n  }\n  onConnect(el) {\n    onPress(el, this.#onPress.bind(this));\n  }\n  #onPress(event) {\n    const { disabled } = this.$props, { liveEdge } = this.#media.$state;\n    if (disabled() || liveEdge()) return;\n    this.#media.remote.seekToLiveEdge(event);\n  }\n}\n\nconst sliderState = new State({\n  min: 0,\n  max: 100,\n  value: 0,\n  step: 1,\n  pointerValue: 0,\n  focused: false,\n  dragging: false,\n  pointing: false,\n  hidden: false,\n  get active() {\n    return this.dragging || this.focused || this.pointing;\n  },\n  get fillRate() {\n    return calcRate(this.min, this.max, this.value);\n  },\n  get fillPercent() {\n    return this.fillRate * 100;\n  },\n  get pointerRate() {\n    return calcRate(this.min, this.max, this.pointerValue);\n  },\n  get pointerPercent() {\n    return this.pointerRate * 100;\n  }\n});\nfunction calcRate(min, max, value) {\n  const range = max - min, offset = value - min;\n  return range > 0 ? offset / range : 0;\n}\n\nclass IntersectionObserverController extends ViewController {\n  #init;\n  #observer;\n  constructor(init) {\n    super();\n    this.#init = init;\n  }\n  onConnect(el) {\n    this.#observer = new IntersectionObserver((entries) => {\n      this.#init.callback?.(entries, this.#observer);\n    }, this.#init);\n    this.#observer.observe(el);\n    onDispose(this.#onDisconnect.bind(this));\n  }\n  /**\n   * Disconnect any active intersection observers.\n   */\n  #onDisconnect() {\n    this.#observer?.disconnect();\n    this.#observer = void 0;\n  }\n}\n\nconst sliderContext = createContext();\nconst sliderObserverContext = createContext();\n\nfunction getClampedValue(min, max, value, step) {\n  return clampNumber(min, round(value, getNumberOfDecimalPlaces(step)), max);\n}\nfunction getValueFromRate(min, max, rate, step) {\n  const boundRate = clampNumber(0, rate, 1), range = max - min, fill = range * boundRate, stepRatio = fill / step, steps = step * Math.round(stepRatio);\n  return min + steps;\n}\n\nconst SliderKeyDirection = {\n  Left: -1,\n  ArrowLeft: -1,\n  Up: 1,\n  ArrowUp: 1,\n  Right: 1,\n  ArrowRight: 1,\n  Down: -1,\n  ArrowDown: -1\n};\nclass SliderEventsController extends ViewController {\n  #delegate;\n  #media;\n  #observer;\n  constructor(delegate, media) {\n    super();\n    this.#delegate = delegate;\n    this.#media = media;\n  }\n  onSetup() {\n    if (hasProvidedContext(sliderObserverContext)) {\n      this.#observer = useContext(sliderObserverContext);\n    }\n  }\n  onConnect(el) {\n    effect(this.#attachEventListeners.bind(this, el));\n    effect(this.#attachPointerListeners.bind(this, el));\n    if (this.#delegate.swipeGesture) effect(this.#watchSwipeGesture.bind(this));\n  }\n  #watchSwipeGesture() {\n    const { pointer } = this.#media.$state;\n    if (pointer() !== \"coarse\" || !this.#delegate.swipeGesture()) {\n      this.#provider = null;\n      return;\n    }\n    this.#provider = this.#media.player.el?.querySelector(\n      \"media-provider,[data-media-provider]\"\n    );\n    if (!this.#provider) return;\n    new EventsController(this.#provider).add(\"touchstart\", this.#onTouchStart.bind(this), {\n      passive: true\n    }).add(\"touchmove\", this.#onTouchMove.bind(this), { passive: false });\n  }\n  #provider = null;\n  #touch = null;\n  #touchStartValue = null;\n  #onTouchStart(event) {\n    this.#touch = event.touches[0];\n  }\n  #onTouchMove(event) {\n    if (isNull(this.#touch) || isTouchPinchEvent(event)) return;\n    const touch = event.touches[0], xDiff = touch.clientX - this.#touch.clientX, yDiff = touch.clientY - this.#touch.clientY, isDragging = this.$state.dragging();\n    if (!isDragging && Math.abs(yDiff) > 5) {\n      return;\n    }\n    if (isDragging) return;\n    event.preventDefault();\n    if (Math.abs(xDiff) > 20) {\n      this.#touch = touch;\n      this.#touchStartValue = this.$state.value();\n      this.#onStartDragging(this.#touchStartValue, event);\n    }\n  }\n  #attachEventListeners(el) {\n    const { hidden } = this.$props;\n    listenEvent(el, \"focus\", this.#onFocus.bind(this));\n    if (hidden() || this.#delegate.isDisabled()) return;\n    new EventsController(el).add(\"keyup\", this.#onKeyUp.bind(this)).add(\"keydown\", this.#onKeyDown.bind(this)).add(\"pointerenter\", this.#onPointerEnter.bind(this)).add(\"pointermove\", this.#onPointerMove.bind(this)).add(\"pointerleave\", this.#onPointerLeave.bind(this)).add(\"pointerdown\", this.#onPointerDown.bind(this));\n  }\n  #attachPointerListeners(el) {\n    if (this.#delegate.isDisabled() || !this.$state.dragging()) return;\n    new EventsController(document).add(\"pointerup\", this.#onDocumentPointerUp.bind(this), { capture: true }).add(\"pointermove\", this.#onDocumentPointerMove.bind(this)).add(\"touchmove\", this.#onDocumentTouchMove.bind(this), {\n      passive: false\n    });\n  }\n  #onFocus() {\n    this.#updatePointerValue(this.$state.value());\n  }\n  #updateValue(newValue, trigger) {\n    const { value, min, max, dragging } = this.$state;\n    const clampedValue = Math.max(min(), Math.min(newValue, max()));\n    value.set(clampedValue);\n    const event = this.createEvent(\"value-change\", { detail: clampedValue, trigger });\n    this.dispatch(event);\n    this.#delegate.onValueChange?.(event);\n    if (dragging()) {\n      const event2 = this.createEvent(\"drag-value-change\", { detail: clampedValue, trigger });\n      this.dispatch(event2);\n      this.#delegate.onDragValueChange?.(event2);\n    }\n  }\n  #updatePointerValue(value, trigger) {\n    const { pointerValue, dragging } = this.$state;\n    pointerValue.set(value);\n    this.dispatch(\"pointer-value-change\", { detail: value, trigger });\n    if (dragging()) {\n      this.#updateValue(value, trigger);\n    }\n  }\n  #getPointerValue(event) {\n    let thumbPositionRate, rect = this.el.getBoundingClientRect(), { min, max } = this.$state;\n    if (this.$props.orientation() === \"vertical\") {\n      const { bottom: trackBottom, height: trackHeight } = rect;\n      thumbPositionRate = (trackBottom - event.clientY) / trackHeight;\n    } else {\n      if (this.#touch && isNumber(this.#touchStartValue)) {\n        const { width } = this.#provider.getBoundingClientRect(), rate = (event.clientX - this.#touch.clientX) / width, range = max() - min(), diff = range * Math.abs(rate);\n        thumbPositionRate = (rate < 0 ? this.#touchStartValue - diff : this.#touchStartValue + diff) / range;\n      } else {\n        const { left: trackLeft, width: trackWidth } = rect;\n        thumbPositionRate = (event.clientX - trackLeft) / trackWidth;\n      }\n    }\n    return Math.max(\n      min(),\n      Math.min(\n        max(),\n        this.#delegate.roundValue(\n          getValueFromRate(min(), max(), thumbPositionRate, this.#delegate.getStep())\n        )\n      )\n    );\n  }\n  #onPointerEnter(event) {\n    this.$state.pointing.set(true);\n  }\n  #onPointerMove(event) {\n    const { dragging } = this.$state;\n    if (dragging()) return;\n    this.#updatePointerValue(this.#getPointerValue(event), event);\n  }\n  #onPointerLeave(event) {\n    this.$state.pointing.set(false);\n  }\n  #onPointerDown(event) {\n    if (event.button !== 0) return;\n    const value = this.#getPointerValue(event);\n    this.#onStartDragging(value, event);\n    this.#updatePointerValue(value, event);\n  }\n  #onStartDragging(value, trigger) {\n    const { dragging } = this.$state;\n    if (dragging()) return;\n    dragging.set(true);\n    this.#media.remote.pauseControls(trigger);\n    const event = this.createEvent(\"drag-start\", { detail: value, trigger });\n    this.dispatch(event);\n    this.#delegate.onDragStart?.(event);\n    this.#observer?.onDragStart?.();\n  }\n  #onStopDragging(value, trigger) {\n    const { dragging } = this.$state;\n    if (!dragging()) return;\n    dragging.set(false);\n    this.#media.remote.resumeControls(trigger);\n    const event = this.createEvent(\"drag-end\", { detail: value, trigger });\n    this.dispatch(event);\n    this.#delegate.onDragEnd?.(event);\n    this.#touch = null;\n    this.#touchStartValue = null;\n    this.#observer?.onDragEnd?.();\n  }\n  // -------------------------------------------------------------------------------------------\n  // Keyboard Events\n  // -------------------------------------------------------------------------------------------\n  #lastDownKey;\n  #repeatedKeys = false;\n  #onKeyDown(event) {\n    const isValidKey = Object.keys(SliderKeyDirection).includes(event.key);\n    if (!isValidKey) return;\n    const { key } = event, jumpValue = this.#calcJumpValue(event);\n    if (!isNull(jumpValue)) {\n      this.#updatePointerValue(jumpValue, event);\n      this.#updateValue(jumpValue, event);\n      return;\n    }\n    const newValue = this.#calcNewKeyValue(event);\n    if (!this.#repeatedKeys) {\n      this.#repeatedKeys = key === this.#lastDownKey;\n      if (!this.$state.dragging() && this.#repeatedKeys) {\n        this.#onStartDragging(newValue, event);\n      }\n    }\n    this.#updatePointerValue(newValue, event);\n    this.#lastDownKey = key;\n  }\n  #onKeyUp(event) {\n    const isValidKey = Object.keys(SliderKeyDirection).includes(event.key);\n    if (!isValidKey || !isNull(this.#calcJumpValue(event))) return;\n    const newValue = this.#repeatedKeys ? this.$state.pointerValue() : this.#calcNewKeyValue(event);\n    this.#updateValue(newValue, event);\n    this.#onStopDragging(newValue, event);\n    this.#lastDownKey = \"\";\n    this.#repeatedKeys = false;\n  }\n  #calcJumpValue(event) {\n    let key = event.key, { min, max } = this.$state;\n    if (key === \"Home\" || key === \"PageUp\") {\n      return min();\n    } else if (key === \"End\" || key === \"PageDown\") {\n      return max();\n    } else if (!event.metaKey && /^[0-9]$/.test(key)) {\n      return (max() - min()) / 10 * Number(key);\n    }\n    return null;\n  }\n  #calcNewKeyValue(event) {\n    const { key, shiftKey } = event;\n    event.preventDefault();\n    event.stopPropagation();\n    const { shiftKeyMultiplier } = this.$props;\n    const { min, max, value, pointerValue } = this.$state, step = this.#delegate.getStep(), keyStep = this.#delegate.getKeyStep();\n    const modifiedStep = !shiftKey ? keyStep : keyStep * shiftKeyMultiplier(), direction = Number(SliderKeyDirection[key]), diff = modifiedStep * direction, currentValue = this.#repeatedKeys ? pointerValue() : this.#delegate.getValue?.() ?? value(), steps = (currentValue + diff) / step;\n    return Math.max(min(), Math.min(max(), Number((step * steps).toFixed(3))));\n  }\n  // -------------------------------------------------------------------------------------------\n  // Document (Pointer Events)\n  // -------------------------------------------------------------------------------------------\n  #onDocumentPointerUp(event) {\n    if (event.button !== 0) return;\n    event.preventDefault();\n    event.stopImmediatePropagation();\n    const value = this.#getPointerValue(event);\n    this.#updatePointerValue(value, event);\n    this.#onStopDragging(value, event);\n  }\n  #onDocumentTouchMove(event) {\n    event.preventDefault();\n  }\n  #onDocumentPointerMove = functionThrottle(\n    (event) => {\n      this.#updatePointerValue(this.#getPointerValue(event), event);\n    },\n    20,\n    { leading: true }\n  );\n}\n\nconst sliderValueFormatContext = createContext(() => ({}));\n\nclass SliderController extends ViewController {\n  static props = {\n    hidden: false,\n    disabled: false,\n    step: 1,\n    keyStep: 1,\n    orientation: \"horizontal\",\n    shiftKeyMultiplier: 5\n  };\n  #media;\n  #delegate;\n  #isVisible = signal(true);\n  #isIntersecting = signal(true);\n  constructor(delegate) {\n    super();\n    this.#delegate = delegate;\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    const focus = new FocusVisibleController();\n    focus.attach(this);\n    this.$state.focused = focus.focused.bind(focus);\n    if (!hasProvidedContext(sliderValueFormatContext)) {\n      provideContext(sliderValueFormatContext, {\n        default: \"value\"\n      });\n    }\n    provideContext(sliderContext, {\n      orientation: this.$props.orientation,\n      disabled: this.#delegate.isDisabled,\n      preview: signal(null)\n    });\n    effect(this.#watchValue.bind(this));\n    effect(this.#watchStep.bind(this));\n    effect(this.#watchDisabled.bind(this));\n    this.#setupAttrs();\n    new SliderEventsController(this.#delegate, this.#media).attach(this);\n    new IntersectionObserverController({\n      callback: this.#onIntersectionChange.bind(this)\n    }).attach(this);\n  }\n  onAttach(el) {\n    setAttributeIfEmpty(el, \"role\", \"slider\");\n    setAttributeIfEmpty(el, \"tabindex\", \"0\");\n    setAttributeIfEmpty(el, \"autocomplete\", \"off\");\n    if (IS_SERVER) this.#watchCSSVars();\n    else effect(this.#watchCSSVars.bind(this));\n  }\n  onConnect(el) {\n    onDispose(observeVisibility(el, this.#isVisible.set));\n    effect(this.#watchHidden.bind(this));\n  }\n  #onIntersectionChange(entries) {\n    this.#isIntersecting.set(entries[0].isIntersecting);\n  }\n  // -------------------------------------------------------------------------------------------\n  // Watch\n  // -------------------------------------------------------------------------------------------\n  #watchHidden() {\n    const { hidden } = this.$props;\n    this.$state.hidden.set(hidden() || !this.#isVisible() || !this.#isIntersecting.bind(this));\n  }\n  #watchValue() {\n    const { dragging, value, min, max } = this.$state;\n    if (peek(dragging)) return;\n    value.set(getClampedValue(min(), max(), value(), this.#delegate.getStep()));\n  }\n  #watchStep() {\n    this.$state.step.set(this.#delegate.getStep());\n  }\n  #watchDisabled() {\n    if (!this.#delegate.isDisabled()) return;\n    const { dragging, pointing } = this.$state;\n    dragging.set(false);\n    pointing.set(false);\n  }\n  // -------------------------------------------------------------------------------------------\n  // ARIA\n  // -------------------------------------------------------------------------------------------\n  #getARIADisabled() {\n    return ariaBool$1(this.#delegate.isDisabled());\n  }\n  // -------------------------------------------------------------------------------------------\n  // Attributes\n  // -------------------------------------------------------------------------------------------\n  #setupAttrs() {\n    const { orientation } = this.$props, { dragging, active, pointing } = this.$state;\n    this.setAttributes({\n      \"data-dragging\": dragging,\n      \"data-pointing\": pointing,\n      \"data-active\": active,\n      \"aria-disabled\": this.#getARIADisabled.bind(this),\n      \"aria-valuemin\": this.#delegate.aria.valueMin ?? this.$state.min,\n      \"aria-valuemax\": this.#delegate.aria.valueMax ?? this.$state.max,\n      \"aria-valuenow\": this.#delegate.aria.valueNow,\n      \"aria-valuetext\": this.#delegate.aria.valueText,\n      \"aria-orientation\": orientation\n    });\n  }\n  #watchCSSVars() {\n    const { fillPercent, pointerPercent } = this.$state;\n    this.#updateSliderVars(round(fillPercent(), 3), round(pointerPercent(), 3));\n  }\n  #updateSliderVars = animationFrameThrottle((fillPercent, pointerPercent) => {\n    this.el?.style.setProperty(\"--slider-fill\", fillPercent + \"%\");\n    this.el?.style.setProperty(\"--slider-pointer\", pointerPercent + \"%\");\n  });\n}\n\nclass Slider extends Component {\n  static props = {\n    ...SliderController.props,\n    min: 0,\n    max: 100,\n    value: 0\n  };\n  static state = sliderState;\n  constructor() {\n    super();\n    new SliderController({\n      getStep: this.$props.step,\n      getKeyStep: this.$props.keyStep,\n      roundValue: Math.round,\n      isDisabled: this.$props.disabled,\n      aria: {\n        valueNow: this.#getARIAValueNow.bind(this),\n        valueText: this.#getARIAValueText.bind(this)\n      }\n    });\n  }\n  onSetup() {\n    effect(this.#watchValue.bind(this));\n    effect(this.#watchMinMax.bind(this));\n  }\n  // -------------------------------------------------------------------------------------------\n  // Props\n  // -------------------------------------------------------------------------------------------\n  #getARIAValueNow() {\n    const { value } = this.$state;\n    return Math.round(value());\n  }\n  #getARIAValueText() {\n    const { value, max } = this.$state;\n    return round(value() / max() * 100, 2) + \"%\";\n  }\n  // -------------------------------------------------------------------------------------------\n  // Watch\n  // -------------------------------------------------------------------------------------------\n  #watchValue() {\n    const { value } = this.$props;\n    this.$state.value.set(value());\n  }\n  #watchMinMax() {\n    const { min, max } = this.$props;\n    this.$state.min.set(min());\n    this.$state.max.set(max());\n  }\n}\n\nconst cache = /* @__PURE__ */ new Map(), pending = /* @__PURE__ */ new Map(), warned = /* @__PURE__ */ new Set() ;\nclass ThumbnailsLoader {\n  #media;\n  #src;\n  #crossOrigin;\n  $images = signal([]);\n  static create(src, crossOrigin) {\n    const media = useMediaContext();\n    return new ThumbnailsLoader(src, crossOrigin, media);\n  }\n  constructor(src, crossOrigin, media) {\n    this.#src = src;\n    this.#crossOrigin = crossOrigin;\n    this.#media = media;\n    effect(this.#onLoadCues.bind(this));\n  }\n  #onLoadCues() {\n    const { canLoad } = this.#media.$state;\n    if (!canLoad()) return;\n    const src = this.#src();\n    if (!src) return;\n    if (isString(src) && cache.has(src)) {\n      const cues = cache.get(src);\n      cache.delete(src);\n      cache.set(src, cues);\n      if (cache.size > 99) {\n        const firstKey = cache.keys().next().value;\n        cache.delete(firstKey);\n      }\n      this.$images.set(cache.get(src));\n    } else if (isString(src)) {\n      const crossOrigin = this.#crossOrigin(), currentKey = src + \"::\" + crossOrigin;\n      if (!pending.has(currentKey)) {\n        const promise = new Promise(async (resolve, reject) => {\n          try {\n            const response = await fetch(src, {\n              credentials: getRequestCredentials(crossOrigin)\n            }), isJSON = response.headers.get(\"content-type\") === \"application/json\";\n            if (isJSON) {\n              const json = await response.json();\n              if (isArray(json)) {\n                if (json[0] && \"text\" in json[0]) {\n                  resolve(this.#processVTTCues(json));\n                } else {\n                  for (let i = 0; i < json.length; i++) {\n                    const image = json[i];\n                    assert(isObject(image), `Item not an object at index ${i}`);\n                    assert(\n                      \"url\" in image && isString(image.url),\n                      `Invalid or missing \\`url\\` property at index ${i}`\n                    );\n                    assert(\n                      \"startTime\" in image && isNumber(image.startTime),\n                      `Invalid or missing \\`startTime\\` property at index ${i}`\n                    );\n                  }\n                  resolve(json);\n                }\n              } else {\n                resolve(this.#processStoryboard(json));\n              }\n              return;\n            }\n            import('media-captions').then(async ({ parseResponse }) => {\n              try {\n                const { cues } = await parseResponse(response);\n                resolve(this.#processVTTCues(cues));\n              } catch (e) {\n                reject(e);\n              }\n            });\n          } catch (e) {\n            reject(e);\n          }\n        }).then((images) => {\n          cache.set(currentKey, images);\n          return images;\n        }).catch((error) => {\n          this.#onError(src, error);\n        }).finally(() => {\n          if (isString(currentKey)) pending.delete(currentKey);\n        });\n        pending.set(currentKey, promise);\n      }\n      pending.get(currentKey)?.then((images) => {\n        this.$images.set(images || []);\n      });\n    } else if (isArray(src)) {\n      try {\n        this.$images.set(this.#processImages(src));\n      } catch (error) {\n        this.#onError(src, error);\n      }\n    } else {\n      try {\n        this.$images.set(this.#processStoryboard(src));\n      } catch (error) {\n        this.#onError(src, error);\n      }\n    }\n    return () => {\n      this.$images.set([]);\n    };\n  }\n  #processImages(images) {\n    const baseURL = this.#resolveBaseUrl();\n    return images.map((img, i) => {\n      assert(\n        img.url && isString(img.url),\n        `Invalid or missing \\`url\\` property at index ${i}`\n      );\n      assert(\n        \"startTime\" in img && isNumber(img.startTime),\n        `Invalid or missing \\`startTime\\` property at index ${i}`\n      );\n      return {\n        ...img,\n        url: isString(img.url) ? this.#resolveURL(img.url, baseURL) : img.url\n      };\n    });\n  }\n  #processStoryboard(board) {\n    assert(isString(board.url), \"Missing `url` in storyboard object\");\n    assert(isArray(board.tiles) && board.tiles?.length, `Empty tiles in storyboard`);\n    const url = new URL(board.url), images = [];\n    const tileWidth = \"tile_width\" in board ? board.tile_width : board.tileWidth, tileHeight = \"tile_height\" in board ? board.tile_height : board.tileHeight;\n    for (const tile of board.tiles) {\n      images.push({\n        url,\n        startTime: \"start\" in tile ? tile.start : tile.startTime,\n        width: tileWidth,\n        height: tileHeight,\n        coords: { x: tile.x, y: tile.y }\n      });\n    }\n    return images;\n  }\n  #processVTTCues(cues) {\n    for (let i = 0; i < cues.length; i++) {\n      const cue = cues[i];\n      assert(\n        \"startTime\" in cue && isNumber(cue.startTime),\n        `Invalid or missing \\`startTime\\` property at index ${i}`\n      );\n      assert(\n        \"text\" in cue && isString(cue.text),\n        `Invalid or missing \\`text\\` property at index ${i}`\n      );\n    }\n    const images = [], baseURL = this.#resolveBaseUrl();\n    for (const cue of cues) {\n      const [url, hash] = cue.text.split(\"#\"), data = this.#resolveData(hash);\n      images.push({\n        url: this.#resolveURL(url, baseURL),\n        startTime: cue.startTime,\n        endTime: cue.endTime,\n        width: data?.w,\n        height: data?.h,\n        coords: data && isNumber(data.x) && isNumber(data.y) ? { x: data.x, y: data.y } : void 0\n      });\n    }\n    return images;\n  }\n  #resolveBaseUrl() {\n    let baseURL = peek(this.#src);\n    if (!isString(baseURL) || !/^https?:/.test(baseURL)) {\n      return location.href;\n    }\n    return baseURL;\n  }\n  #resolveURL(src, baseURL) {\n    return /^https?:/.test(src) ? new URL(src) : new URL(src, baseURL);\n  }\n  #resolveData(hash) {\n    if (!hash) return {};\n    const [hashProps, values] = hash.split(\"=\"), hashValues = values?.split(\",\"), data = {};\n    if (!hashProps || !hashValues) {\n      return null;\n    }\n    for (let i = 0; i < hashProps.length; i++) {\n      const value = +hashValues[i];\n      if (!isNaN(value)) data[hashProps[i]] = value;\n    }\n    return data;\n  }\n  #onError(src, error) {\n    if (warned?.has(src)) return;\n    this.#media.logger?.errorGroup(\"[vidstack] failed to load thumbnails\").labelledLog(\"Src\", src).labelledLog(\"Error\", error).dispatch();\n    warned?.add(src);\n  }\n}\n\nclass Thumbnail extends Component {\n  static props = {\n    src: null,\n    time: 0,\n    crossOrigin: null\n  };\n  static state = new State({\n    src: \"\",\n    img: null,\n    thumbnails: [],\n    activeThumbnail: null,\n    crossOrigin: null,\n    loading: false,\n    error: null,\n    hidden: false\n  });\n  media;\n  #loader;\n  #styleResets = [];\n  onSetup() {\n    this.media = useMediaContext();\n    this.#loader = ThumbnailsLoader.create(this.$props.src, this.$state.crossOrigin);\n    this.#watchCrossOrigin();\n    this.setAttributes({\n      \"data-loading\": this.#isLoading.bind(this),\n      \"data-error\": this.#hasError.bind(this),\n      \"data-hidden\": this.$state.hidden,\n      \"aria-hidden\": $ariaBool(this.$state.hidden)\n    });\n  }\n  onConnect(el) {\n    effect(this.#watchImg.bind(this));\n    effect(this.#watchHidden.bind(this));\n    effect(this.#watchCrossOrigin.bind(this));\n    effect(this.#onLoadStart.bind(this));\n    effect(this.#onFindActiveThumbnail.bind(this));\n    effect(this.#resize.bind(this));\n  }\n  #watchImg() {\n    const img = this.$state.img();\n    if (!img) return;\n    new EventsController(img).add(\"load\", this.#onLoaded.bind(this)).add(\"error\", this.#onError.bind(this));\n  }\n  #watchCrossOrigin() {\n    const { crossOrigin: crossOriginProp } = this.$props, { crossOrigin: crossOriginState } = this.$state, { crossOrigin: mediaCrossOrigin } = this.media.$state, crossOrigin = crossOriginProp() !== null ? crossOriginProp() : mediaCrossOrigin();\n    crossOriginState.set(crossOrigin === true ? \"anonymous\" : crossOrigin);\n  }\n  #onLoadStart() {\n    const { src, loading, error } = this.$state;\n    if (src()) {\n      loading.set(true);\n      error.set(null);\n    }\n    return () => {\n      this.#resetStyles();\n      loading.set(false);\n      error.set(null);\n    };\n  }\n  #onLoaded() {\n    const { loading, error } = this.$state;\n    this.#resize();\n    loading.set(false);\n    error.set(null);\n  }\n  #onError(event) {\n    const { loading, error } = this.$state;\n    loading.set(false);\n    error.set(event);\n  }\n  #isLoading() {\n    const { loading, hidden } = this.$state;\n    return !hidden() && loading();\n  }\n  #hasError() {\n    const { error } = this.$state;\n    return !isNull(error());\n  }\n  #watchHidden() {\n    const { hidden } = this.$state, { duration } = this.media.$state, images = this.#loader.$images();\n    hidden.set(this.#hasError() || !Number.isFinite(duration()) || images.length === 0);\n  }\n  getTime() {\n    return this.$props.time();\n  }\n  #onFindActiveThumbnail() {\n    let images = this.#loader.$images();\n    if (!images.length) return;\n    let time = this.getTime(), { src, activeThumbnail } = this.$state, activeIndex = -1, activeImage = null;\n    for (let i = images.length - 1; i >= 0; i--) {\n      const image = images[i];\n      if (time >= image.startTime && (!image.endTime || time < image.endTime)) {\n        activeIndex = i;\n        break;\n      }\n    }\n    if (images[activeIndex]) {\n      activeImage = images[activeIndex];\n    }\n    activeThumbnail.set(activeImage);\n    src.set(activeImage?.url.href || \"\");\n  }\n  #resize() {\n    if (!this.scope || this.$state.hidden()) return;\n    const rootEl = this.el, imgEl = this.$state.img(), thumbnail = this.$state.activeThumbnail();\n    if (!imgEl || !thumbnail || !rootEl) return;\n    let width = thumbnail.width ?? imgEl.naturalWidth, height = thumbnail?.height ?? imgEl.naturalHeight, {\n      maxWidth,\n      maxHeight,\n      minWidth,\n      minHeight,\n      width: elWidth,\n      height: elHeight\n    } = getComputedStyle(this.el);\n    if (minWidth === \"100%\") minWidth = parseFloat(elWidth) + \"\";\n    if (minHeight === \"100%\") minHeight = parseFloat(elHeight) + \"\";\n    let minRatio = Math.max(parseInt(minWidth) / width, parseInt(minHeight) / height), maxRatio = Math.min(\n      Math.max(parseInt(minWidth), parseInt(maxWidth)) / width,\n      Math.max(parseInt(minHeight), parseInt(maxHeight)) / height\n    ), scale = !isNaN(maxRatio) && maxRatio < 1 ? maxRatio : minRatio > 1 ? minRatio : 1;\n    this.#style(rootEl, \"--thumbnail-width\", `${width * scale}px`);\n    this.#style(rootEl, \"--thumbnail-height\", `${height * scale}px`);\n    this.#style(rootEl, \"--thumbnail-aspect-ratio\", String(round(width / height, 5)));\n    this.#style(imgEl, \"width\", `${imgEl.naturalWidth * scale}px`);\n    this.#style(imgEl, \"height\", `${imgEl.naturalHeight * scale}px`);\n    this.#style(\n      imgEl,\n      \"transform\",\n      thumbnail.coords ? `translate(-${thumbnail.coords.x * scale}px, -${thumbnail.coords.y * scale}px)` : \"\"\n    );\n    this.#style(imgEl, \"max-width\", \"none\");\n  }\n  #style(el, name, value) {\n    el.style.setProperty(name, value);\n    this.#styleResets.push(() => el.style.removeProperty(name));\n  }\n  #resetStyles() {\n    for (const reset of this.#styleResets) reset();\n    this.#styleResets = [];\n  }\n}\n\nclass SliderThumbnail extends Thumbnail {\n  #slider;\n  onAttach(el) {\n    this.#slider = useState(Slider.state);\n  }\n  getTime() {\n    const { duration, clipStartTime } = this.media.$state;\n    return clipStartTime() + this.#slider.pointerRate() * duration();\n  }\n}\n\nclass SliderVideo extends Component {\n  static props = {\n    src: null,\n    crossOrigin: null\n  };\n  static state = new State({\n    video: null,\n    src: null,\n    crossOrigin: null,\n    canPlay: false,\n    error: null,\n    hidden: false\n  });\n  #media;\n  #slider;\n  get video() {\n    return this.$state.video();\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    this.#slider = useState(Slider.state);\n    this.#watchCrossOrigin();\n    this.setAttributes({\n      \"data-loading\": this.#isLoading.bind(this),\n      \"data-hidden\": this.$state.hidden,\n      \"data-error\": this.#hasError.bind(this),\n      \"aria-hidden\": $ariaBool(this.$state.hidden)\n    });\n  }\n  onAttach(el) {\n    effect(this.#watchVideo.bind(this));\n    effect(this.#watchSrc.bind(this));\n    effect(this.#watchCrossOrigin.bind(this));\n    effect(this.#watchHidden.bind(this));\n    effect(this.#onSrcChange.bind(this));\n    effect(this.#onUpdateTime.bind(this));\n  }\n  #watchVideo() {\n    const video = this.$state.video();\n    if (!video) return;\n    if (video.readyState >= 2) this.#onCanPlay();\n    new EventsController(video).add(\"canplay\", this.#onCanPlay.bind(this)).add(\"error\", this.#onError.bind(this));\n  }\n  #watchSrc() {\n    const { src } = this.$state, { canLoad } = this.#media.$state;\n    src.set(canLoad() ? this.$props.src() : null);\n  }\n  #watchCrossOrigin() {\n    const { crossOrigin: crossOriginProp } = this.$props, { crossOrigin: crossOriginState } = this.$state, { crossOrigin: mediaCrossOrigin } = this.#media.$state, crossOrigin = crossOriginProp() !== null ? crossOriginProp() : mediaCrossOrigin();\n    crossOriginState.set(crossOrigin === true ? \"anonymous\" : crossOrigin);\n  }\n  #isLoading() {\n    const { canPlay, hidden } = this.$state;\n    return !canPlay() && !hidden();\n  }\n  #hasError() {\n    const { error } = this.$state;\n    return !isNull(error);\n  }\n  #watchHidden() {\n    const { src, hidden } = this.$state, { canLoad, duration } = this.#media.$state;\n    hidden.set(canLoad() && (!src() || this.#hasError() || !Number.isFinite(duration())));\n  }\n  #onSrcChange() {\n    const { src, canPlay, error } = this.$state;\n    src();\n    canPlay.set(false);\n    error.set(null);\n  }\n  #onCanPlay(event) {\n    const { canPlay, error } = this.$state;\n    canPlay.set(true);\n    error.set(null);\n    this.dispatch(\"can-play\", { trigger: event });\n  }\n  #onError(event) {\n    const { canPlay, error } = this.$state;\n    canPlay.set(false);\n    error.set(event);\n    this.dispatch(\"error\", { trigger: event });\n  }\n  #onUpdateTime() {\n    const { video, canPlay } = this.$state, { duration } = this.#media.$state, { pointerRate } = this.#slider, media = video(), canUpdate = canPlay() && media && Number.isFinite(duration()) && Number.isFinite(pointerRate());\n    if (canUpdate) {\n      media.currentTime = pointerRate() * duration();\n    }\n  }\n}\nconst slidervideo__proto = SliderVideo.prototype;\nprop(slidervideo__proto, \"video\");\n\nclass SliderValue extends Component {\n  static props = {\n    type: \"pointer\",\n    format: null,\n    showHours: false,\n    showMs: false,\n    padHours: null,\n    padMinutes: null,\n    decimalPlaces: 2\n  };\n  #format;\n  #text;\n  #slider;\n  onSetup() {\n    this.#slider = useState(Slider.state);\n    this.#format = useContext(sliderValueFormatContext);\n    this.#text = computed(this.getValueText.bind(this));\n  }\n  /**\n   * Returns the current value formatted as text based on prop settings.\n   */\n  getValueText() {\n    const {\n      type,\n      format: $format,\n      decimalPlaces,\n      padHours,\n      padMinutes,\n      showHours,\n      showMs\n    } = this.$props, { value: sliderValue, pointerValue, min, max } = this.#slider, format = $format?.() ?? this.#format.default;\n    const value = type() === \"current\" ? sliderValue() : pointerValue();\n    if (format === \"percent\") {\n      const range = max() - min();\n      const percent = value / range * 100;\n      return (this.#format.percent ?? round)(percent, decimalPlaces()) + \"%\";\n    } else if (format === \"time\") {\n      return (this.#format.time ?? formatTime)(value, {\n        padHrs: padHours(),\n        padMins: padMinutes(),\n        showHrs: showHours(),\n        showMs: showMs()\n      });\n    } else {\n      return (this.#format.value?.(value) ?? value.toFixed(2)) + \"\";\n    }\n  }\n}\nconst slidervalue__proto = SliderValue.prototype;\nmethod(slidervalue__proto, \"getValueText\");\n\nclass SliderPreview extends Component {\n  static props = {\n    offset: 0,\n    noClamp: false\n  };\n  #slider;\n  onSetup() {\n    this.#slider = useContext(sliderContext);\n    const { active } = useState(Slider.state);\n    this.setAttributes({\n      \"data-visible\": active\n    });\n  }\n  onAttach(el) {\n    Object.assign(el.style, {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"max-content\"\n    });\n  }\n  onConnect(el) {\n    const { preview } = this.#slider;\n    preview.set(el);\n    onDispose(() => preview.set(null));\n    effect(this.#updatePlacement.bind(this));\n    const resize = new ResizeObserver(this.#updatePlacement.bind(this));\n    resize.observe(el);\n    onDispose(() => resize.disconnect());\n  }\n  #updatePlacement = animationFrameThrottle(() => {\n    const { disabled, orientation } = this.#slider;\n    if (disabled()) return;\n    const el = this.el, { offset, noClamp } = this.$props;\n    if (!el) return;\n    updateSliderPreviewPlacement(el, {\n      clamp: !noClamp(),\n      offset: offset(),\n      orientation: orientation()\n    });\n  });\n}\nfunction updateSliderPreviewPlacement(el, {\n  clamp,\n  offset,\n  orientation\n}) {\n  const computedStyle = getComputedStyle(el), width = parseFloat(computedStyle.width), height = parseFloat(computedStyle.height), styles = {\n    top: null,\n    right: null,\n    bottom: null,\n    left: null\n  };\n  styles[orientation === \"horizontal\" ? \"bottom\" : \"left\"] = `calc(100% + var(--media-slider-preview-offset, ${offset}px))`;\n  if (orientation === \"horizontal\") {\n    const widthHalf = width / 2;\n    if (!clamp) {\n      styles.left = `calc(var(--slider-pointer) - ${widthHalf}px)`;\n    } else {\n      const leftClamp = `max(0px, calc(var(--slider-pointer) - ${widthHalf}px))`, rightClamp = `calc(100% - ${width}px)`;\n      styles.left = `min(${leftClamp}, ${rightClamp})`;\n    }\n  } else {\n    const heightHalf = height / 2;\n    if (!clamp) {\n      styles.bottom = `calc(var(--slider-pointer) - ${heightHalf}px)`;\n    } else {\n      const topClamp = `max(${heightHalf}px, calc(var(--slider-pointer) - ${heightHalf}px))`, bottomClamp = `calc(100% - ${height}px)`;\n      styles.bottom = `min(${topClamp}, ${bottomClamp})`;\n    }\n  }\n  Object.assign(el.style, styles);\n}\n\nclass VolumeSlider extends Component {\n  static props = {\n    ...SliderController.props,\n    keyStep: 5,\n    shiftKeyMultiplier: 2\n  };\n  static state = sliderState;\n  #media;\n  onSetup() {\n    this.#media = useMediaContext();\n    const { audioGain } = this.#media.$state;\n    provideContext(sliderValueFormatContext, {\n      default: \"percent\",\n      value(value) {\n        return (value * (audioGain() ?? 1)).toFixed(2);\n      },\n      percent(value) {\n        return Math.round(value * (audioGain() ?? 1));\n      }\n    });\n    new SliderController({\n      getStep: this.$props.step,\n      getKeyStep: this.$props.keyStep,\n      roundValue: Math.round,\n      isDisabled: this.#isDisabled.bind(this),\n      aria: {\n        valueMax: this.#getARIAValueMax.bind(this),\n        valueNow: this.#getARIAValueNow.bind(this),\n        valueText: this.#getARIAValueText.bind(this)\n      },\n      onDragValueChange: this.#onDragValueChange.bind(this),\n      onValueChange: this.#onValueChange.bind(this)\n    }).attach(this);\n    effect(this.#watchVolume.bind(this));\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-volume-slider\", \"\");\n    setAttributeIfEmpty(el, \"aria-label\", \"Volume\");\n    const { canSetVolume } = this.#media.$state;\n    this.setAttributes({\n      \"data-supported\": canSetVolume,\n      \"aria-hidden\": $ariaBool(() => !canSetVolume())\n    });\n  }\n  #getARIAValueNow() {\n    const { value } = this.$state, { audioGain } = this.#media.$state;\n    return Math.round(value() * (audioGain() ?? 1));\n  }\n  #getARIAValueText() {\n    const { value, max } = this.$state, { audioGain } = this.#media.$state;\n    return round(value() / max() * (audioGain() ?? 1) * 100, 2) + \"%\";\n  }\n  #getARIAValueMax() {\n    const { audioGain } = this.#media.$state;\n    return this.$state.max() * (audioGain() ?? 1);\n  }\n  #isDisabled() {\n    const { disabled } = this.$props, { canSetVolume } = this.#media.$state;\n    return disabled() || !canSetVolume();\n  }\n  #watchVolume() {\n    const { muted, volume } = this.#media.$state;\n    const newValue = muted() ? 0 : volume() * 100;\n    this.$state.value.set(newValue);\n    this.dispatch(\"value-change\", { detail: newValue });\n  }\n  #throttleVolumeChange = functionThrottle(this.#onVolumeChange.bind(this), 25);\n  #onVolumeChange(event) {\n    if (!event.trigger) return;\n    const mediaVolume = round(event.detail / 100, 3);\n    this.#media.remote.changeVolume(mediaVolume, event);\n  }\n  #onValueChange(event) {\n    this.#throttleVolumeChange(event);\n  }\n  #onDragValueChange(event) {\n    this.#throttleVolumeChange(event);\n  }\n}\n\nclass AudioGainSlider extends Component {\n  static props = {\n    ...SliderController.props,\n    step: 25,\n    keyStep: 25,\n    shiftKeyMultiplier: 2,\n    min: 0,\n    max: 300\n  };\n  static state = sliderState;\n  #media;\n  onSetup() {\n    this.#media = useMediaContext();\n    provideContext(sliderValueFormatContext, {\n      default: \"percent\",\n      percent: (_, decimalPlaces) => {\n        return round(this.$state.value(), decimalPlaces) + \"%\";\n      }\n    });\n    new SliderController({\n      getStep: this.$props.step,\n      getKeyStep: this.$props.keyStep,\n      roundValue: Math.round,\n      isDisabled: this.#isDisabled.bind(this),\n      aria: {\n        valueNow: this.#getARIAValueNow.bind(this),\n        valueText: this.#getARIAValueText.bind(this)\n      },\n      onDragValueChange: this.#onDragValueChange.bind(this),\n      onValueChange: this.#onValueChange.bind(this)\n    }).attach(this);\n    effect(this.#watchMinMax.bind(this));\n    effect(this.#watchAudioGain.bind(this));\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-audio-gain-slider\", \"\");\n    setAttributeIfEmpty(el, \"aria-label\", \"Audio Boost\");\n    const { canSetAudioGain } = this.#media.$state;\n    this.setAttributes({\n      \"data-supported\": canSetAudioGain,\n      \"aria-hidden\": $ariaBool(() => !canSetAudioGain())\n    });\n  }\n  #getARIAValueNow() {\n    const { value } = this.$state;\n    return Math.round(value());\n  }\n  #getARIAValueText() {\n    const { value } = this.$state;\n    return value() + \"%\";\n  }\n  #watchMinMax() {\n    const { min, max } = this.$props;\n    this.$state.min.set(min());\n    this.$state.max.set(max());\n  }\n  #watchAudioGain() {\n    const { audioGain } = this.#media.$state, value = ((audioGain() ?? 1) - 1) * 100;\n    this.$state.value.set(value);\n    this.dispatch(\"value-change\", { detail: value });\n  }\n  #isDisabled() {\n    const { disabled } = this.$props, { canSetAudioGain } = this.#media.$state;\n    return disabled() || !canSetAudioGain();\n  }\n  #onAudioGainChange(event) {\n    if (!event.trigger) return;\n    const gain = round(1 + event.detail / 100, 2);\n    this.#media.remote.changeAudioGain(gain, event);\n  }\n  #onValueChange(event) {\n    this.#onAudioGainChange(event);\n  }\n  #onDragValueChange(event) {\n    this.#onAudioGainChange(event);\n  }\n}\n\nclass SpeedSlider extends Component {\n  static props = {\n    ...SliderController.props,\n    step: 0.25,\n    keyStep: 0.25,\n    shiftKeyMultiplier: 2,\n    min: 0,\n    max: 2\n  };\n  static state = sliderState;\n  #media;\n  onSetup() {\n    this.#media = useMediaContext();\n    new SliderController({\n      getStep: this.$props.step,\n      getKeyStep: this.$props.keyStep,\n      roundValue: this.#roundValue,\n      isDisabled: this.#isDisabled.bind(this),\n      aria: {\n        valueNow: this.#getARIAValueNow.bind(this),\n        valueText: this.#getARIAValueText.bind(this)\n      },\n      onDragValueChange: this.#onDragValueChange.bind(this),\n      onValueChange: this.#onValueChange.bind(this)\n    }).attach(this);\n    effect(this.#watchMinMax.bind(this));\n    effect(this.#watchPlaybackRate.bind(this));\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-speed-slider\", \"\");\n    setAttributeIfEmpty(el, \"aria-label\", \"Speed\");\n    const { canSetPlaybackRate } = this.#media.$state;\n    this.setAttributes({\n      \"data-supported\": canSetPlaybackRate,\n      \"aria-hidden\": $ariaBool(() => !canSetPlaybackRate())\n    });\n  }\n  #getARIAValueNow() {\n    const { value } = this.$state;\n    return value();\n  }\n  #getARIAValueText() {\n    const { value } = this.$state;\n    return value() + \"x\";\n  }\n  #watchMinMax() {\n    const { min, max } = this.$props;\n    this.$state.min.set(min());\n    this.$state.max.set(max());\n  }\n  #watchPlaybackRate() {\n    const { playbackRate } = this.#media.$state;\n    const newValue = playbackRate();\n    this.$state.value.set(newValue);\n    this.dispatch(\"value-change\", { detail: newValue });\n  }\n  #roundValue(value) {\n    return round(value, 2);\n  }\n  #isDisabled() {\n    const { disabled } = this.$props, { canSetPlaybackRate } = this.#media.$state;\n    return disabled() || !canSetPlaybackRate();\n  }\n  #throttledSpeedChange = functionThrottle(this.#onPlaybackRateChange.bind(this), 25);\n  #onPlaybackRateChange(event) {\n    if (!event.trigger) return;\n    const rate = event.detail;\n    this.#media.remote.changePlaybackRate(rate, event);\n  }\n  #onValueChange(event) {\n    this.#throttledSpeedChange(event);\n  }\n  #onDragValueChange(event) {\n    this.#throttledSpeedChange(event);\n  }\n}\n\nclass QualitySlider extends Component {\n  static props = {\n    ...SliderController.props,\n    step: 1,\n    keyStep: 1,\n    shiftKeyMultiplier: 1\n  };\n  static state = sliderState;\n  #media;\n  #sortedQualities = computed(() => {\n    const { qualities } = this.#media.$state;\n    return sortVideoQualities(qualities());\n  });\n  onSetup() {\n    this.#media = useMediaContext();\n    new SliderController({\n      getStep: this.$props.step,\n      getKeyStep: this.$props.keyStep,\n      roundValue: Math.round,\n      isDisabled: this.#isDisabled.bind(this),\n      aria: {\n        valueNow: this.#getARIAValueNow.bind(this),\n        valueText: this.#getARIAValueText.bind(this)\n      },\n      onDragValueChange: this.#onDragValueChange.bind(this),\n      onValueChange: this.#onValueChange.bind(this)\n    }).attach(this);\n    effect(this.#watchMax.bind(this));\n    effect(this.#watchQuality.bind(this));\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-quality-slider\", \"\");\n    setAttributeIfEmpty(el, \"aria-label\", \"Video Quality\");\n    const { qualities, canSetQuality } = this.#media.$state, $supported = computed(() => canSetQuality() && qualities().length > 0);\n    this.setAttributes({\n      \"data-supported\": $supported,\n      \"aria-hidden\": $ariaBool(() => !$supported())\n    });\n  }\n  #getARIAValueNow() {\n    const { value } = this.$state;\n    return value();\n  }\n  #getARIAValueText() {\n    const { quality } = this.#media.$state;\n    if (!quality()) return \"\";\n    const { height, bitrate } = quality(), bitrateText = bitrate && bitrate > 0 ? `${(bitrate / 1e6).toFixed(2)} Mbps` : null;\n    return height ? `${height}p${bitrateText ? ` (${bitrateText})` : \"\"}` : \"Auto\";\n  }\n  #watchMax() {\n    const $qualities = this.#sortedQualities();\n    this.$state.max.set(Math.max(0, $qualities.length - 1));\n  }\n  #watchQuality() {\n    let { quality } = this.#media.$state, $qualities = this.#sortedQualities(), value = Math.max(0, $qualities.indexOf(quality()));\n    this.$state.value.set(value);\n    this.dispatch(\"value-change\", { detail: value });\n  }\n  #isDisabled() {\n    const { disabled } = this.$props, { canSetQuality, qualities } = this.#media.$state;\n    return disabled() || qualities().length <= 1 || !canSetQuality();\n  }\n  #throttledQualityChange = functionThrottle(this.#onQualityChange.bind(this), 25);\n  #onQualityChange(event) {\n    if (!event.trigger) return;\n    const { qualities } = this.#media, quality = peek(this.#sortedQualities)[event.detail];\n    this.#media.remote.changeQuality(qualities.indexOf(quality), event);\n  }\n  #onValueChange(event) {\n    this.#throttledQualityChange(event);\n  }\n  #onDragValueChange(event) {\n    this.#throttledQualityChange(event);\n  }\n}\n\nclass TimeSlider extends Component {\n  static props = {\n    ...SliderController.props,\n    step: 0.1,\n    keyStep: 5,\n    shiftKeyMultiplier: 2,\n    pauseWhileDragging: false,\n    noSwipeGesture: false,\n    seekingRequestThrottle: 100\n  };\n  static state = sliderState;\n  #media;\n  #dispatchSeeking;\n  #chapter = signal(null);\n  constructor() {\n    super();\n    const { noSwipeGesture } = this.$props;\n    new SliderController({\n      swipeGesture: () => !noSwipeGesture(),\n      getValue: this.#getValue.bind(this),\n      getStep: this.#getStep.bind(this),\n      getKeyStep: this.#getKeyStep.bind(this),\n      roundValue: this.#roundValue,\n      isDisabled: this.#isDisabled.bind(this),\n      aria: {\n        valueNow: this.#getARIAValueNow.bind(this),\n        valueText: this.#getARIAValueText.bind(this)\n      },\n      onDragStart: this.#onDragStart.bind(this),\n      onDragValueChange: this.#onDragValueChange.bind(this),\n      onDragEnd: this.#onDragEnd.bind(this),\n      onValueChange: this.#onValueChange.bind(this)\n    });\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    provideContext(sliderValueFormatContext, {\n      default: \"time\",\n      value: this.#formatValue.bind(this),\n      time: this.#formatTime.bind(this)\n    });\n    this.setAttributes({\n      \"data-chapters\": this.#hasChapters.bind(this)\n    });\n    this.setStyles({\n      \"--slider-progress\": this.#calcBufferedPercent.bind(this)\n    });\n    effect(this.#watchCurrentTime.bind(this));\n    effect(this.#watchSeekingThrottle.bind(this));\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-time-slider\", \"\");\n    setAttributeIfEmpty(el, \"aria-label\", \"Seek\");\n  }\n  onConnect(el) {\n    effect(this.#watchPreviewing.bind(this));\n    watchActiveTextTrack(this.#media.textTracks, \"chapters\", this.#chapter.set);\n  }\n  #calcBufferedPercent() {\n    const { bufferedEnd, duration } = this.#media.$state;\n    return round(Math.min(bufferedEnd() / Math.max(duration(), 1), 1) * 100, 3) + \"%\";\n  }\n  #hasChapters() {\n    const { duration } = this.#media.$state;\n    return this.#chapter()?.cues.length && Number.isFinite(duration()) && duration() > 0;\n  }\n  #watchSeekingThrottle() {\n    this.#dispatchSeeking = functionThrottle(\n      this.#seeking.bind(this),\n      this.$props.seekingRequestThrottle()\n    );\n  }\n  #watchCurrentTime() {\n    if (this.$state.hidden()) return;\n    const { value, dragging } = this.$state, newValue = this.#getValue();\n    if (!peek(dragging)) {\n      value.set(newValue);\n      this.dispatch(\"value-change\", { detail: newValue });\n    }\n  }\n  #watchPreviewing() {\n    const player = this.#media.player.el, { preview } = useContext(sliderContext);\n    player && preview() && setAttribute(player, \"data-preview\", this.$state.active());\n  }\n  #seeking(time, event) {\n    this.#media.remote.seeking(time, event);\n  }\n  #seek(time, percent, event) {\n    this.#dispatchSeeking.cancel();\n    const { live } = this.#media.$state;\n    if (live() && percent >= 99) {\n      this.#media.remote.seekToLiveEdge(event);\n      return;\n    }\n    this.#media.remote.seek(time, event);\n  }\n  #playingBeforeDragStart = false;\n  #onDragStart(event) {\n    const { pauseWhileDragging } = this.$props;\n    if (pauseWhileDragging()) {\n      const { paused } = this.#media.$state;\n      this.#playingBeforeDragStart = !paused();\n      this.#media.remote.pause(event);\n    }\n  }\n  #onDragValueChange(event) {\n    this.#dispatchSeeking(this.#percentToTime(event.detail), event);\n  }\n  #onDragEnd(event) {\n    const { seeking } = this.#media.$state;\n    if (!peek(seeking)) this.#seeking(this.#percentToTime(event.detail), event);\n    const percent = event.detail;\n    this.#seek(this.#percentToTime(percent), percent, event);\n    const { pauseWhileDragging } = this.$props;\n    if (pauseWhileDragging() && this.#playingBeforeDragStart) {\n      this.#media.remote.play(event);\n      this.#playingBeforeDragStart = false;\n    }\n  }\n  #onValueChange(event) {\n    const { dragging } = this.$state;\n    if (dragging() || !event.trigger) return;\n    this.#onDragEnd(event);\n  }\n  // -------------------------------------------------------------------------------------------\n  // Props\n  // -------------------------------------------------------------------------------------------\n  #getValue() {\n    const { currentTime } = this.#media.$state;\n    return this.#timeToPercent(currentTime());\n  }\n  #getStep() {\n    const value = this.$props.step() / this.#media.$state.duration() * 100;\n    return Number.isFinite(value) ? value : 1;\n  }\n  #getKeyStep() {\n    const value = this.$props.keyStep() / this.#media.$state.duration() * 100;\n    return Number.isFinite(value) ? value : 1;\n  }\n  #roundValue(value) {\n    return round(value, 3);\n  }\n  #isDisabled() {\n    const { disabled } = this.$props, { canSeek } = this.#media.$state;\n    return disabled() || !canSeek();\n  }\n  // -------------------------------------------------------------------------------------------\n  // ARIA\n  // -------------------------------------------------------------------------------------------\n  #getARIAValueNow() {\n    const { value } = this.$state;\n    return Math.round(value());\n  }\n  #getARIAValueText() {\n    const time = this.#percentToTime(this.$state.value()), { duration } = this.#media.$state;\n    return Number.isFinite(time) ? `${formatSpokenTime(time)} out of ${formatSpokenTime(duration())}` : \"live\";\n  }\n  // -------------------------------------------------------------------------------------------\n  // Format\n  // -------------------------------------------------------------------------------------------\n  #percentToTime(percent) {\n    const { duration } = this.#media.$state;\n    return round(percent / 100 * duration(), 5);\n  }\n  #timeToPercent(time) {\n    const { liveEdge, duration } = this.#media.$state, rate = Math.max(0, Math.min(1, liveEdge() ? 1 : Math.min(time, duration()) / duration()));\n    return Number.isNaN(rate) ? 0 : Number.isFinite(rate) ? rate * 100 : 100;\n  }\n  #formatValue(percent) {\n    const time = this.#percentToTime(percent), { live, duration } = this.#media.$state;\n    return Number.isFinite(time) ? (live() ? time - duration() : time).toFixed(0) : \"LIVE\";\n  }\n  #formatTime(percent, options) {\n    const time = this.#percentToTime(percent), { live, duration } = this.#media.$state, value = live() ? time - duration() : time;\n    return Number.isFinite(time) ? `${value < 0 ? \"-\" : \"\"}${formatTime(Math.abs(value), options)}` : \"LIVE\";\n  }\n}\n\nclass SliderChapters extends Component {\n  static props = {\n    disabled: false\n  };\n  #media;\n  #sliderState;\n  #updateScope;\n  #titleRef = null;\n  #refs = [];\n  #$track = signal(null);\n  #$cues = signal([]);\n  #activeIndex = signal(-1);\n  #activePointerIndex = signal(-1);\n  #bufferedIndex = 0;\n  get cues() {\n    return this.#$cues();\n  }\n  get activeCue() {\n    return this.#$cues()[this.#activeIndex()] || null;\n  }\n  get activePointerCue() {\n    return this.#$cues()[this.#activePointerIndex()] || null;\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    this.#sliderState = useState(TimeSlider.state);\n  }\n  onAttach(el) {\n    watchActiveTextTrack(this.#media.textTracks, \"chapters\", this.#setTrack.bind(this));\n    effect(this.#watchSource.bind(this));\n  }\n  onConnect() {\n    onDispose(() => this.#reset.bind(this));\n  }\n  onDestroy() {\n    this.#setTrack(null);\n  }\n  setRefs(refs) {\n    this.#refs = refs;\n    this.#updateScope?.dispose();\n    if (this.#refs.length === 1) {\n      const el = this.#refs[0];\n      el.style.width = \"100%\";\n      el.style.setProperty(\"--chapter-fill\", \"var(--slider-fill)\");\n      el.style.setProperty(\"--chapter-progress\", \"var(--slider-progress)\");\n    } else if (this.#refs.length > 0) {\n      scoped(() => this.#watch(), this.#updateScope = createScope());\n    }\n  }\n  #setTrack(track) {\n    if (peek(this.#$track) === track) return;\n    this.#reset();\n    this.#$track.set(track);\n  }\n  #reset() {\n    this.#refs = [];\n    this.#$cues.set([]);\n    this.#activeIndex.set(-1);\n    this.#activePointerIndex.set(-1);\n    this.#bufferedIndex = 0;\n    this.#updateScope?.dispose();\n  }\n  #watch() {\n    if (!this.#refs.length) return;\n    effect(this.#watchUpdates.bind(this));\n  }\n  #watchUpdates() {\n    const { hidden } = this.#sliderState;\n    if (hidden()) return;\n    effect(this.#watchContainerWidths.bind(this));\n    effect(this.#watchFillPercent.bind(this));\n    effect(this.#watchPointerPercent.bind(this));\n    effect(this.#watchBufferedPercent.bind(this));\n  }\n  #watchContainerWidths() {\n    const cues = this.#$cues();\n    if (!cues.length) return;\n    let cue, { seekableStart, seekableEnd } = this.#media.$state, startTime = seekableStart(), endTime = seekableEnd() || cues[cues.length - 1].endTime, duration = endTime - startTime, remainingWidth = 100;\n    for (let i = 0; i < cues.length; i++) {\n      cue = cues[i];\n      if (this.#refs[i]) {\n        const width = i === cues.length - 1 ? remainingWidth : round((cue.endTime - Math.max(startTime, cue.startTime)) / duration * 100, 3);\n        this.#refs[i].style.width = width + \"%\";\n        remainingWidth -= width;\n      }\n    }\n  }\n  #watchFillPercent() {\n    let { liveEdge, seekableStart, seekableEnd } = this.#media.$state, { fillPercent, value } = this.#sliderState, cues = this.#$cues(), isLiveEdge = liveEdge(), prevActiveIndex = peek(this.#activeIndex), currentChapter = cues[prevActiveIndex];\n    let currentActiveIndex = isLiveEdge ? this.#$cues.length - 1 : this.#findActiveChapterIndex(\n      currentChapter ? currentChapter.startTime / seekableEnd() * 100 <= peek(value) ? prevActiveIndex : 0 : 0,\n      fillPercent()\n    );\n    if (isLiveEdge || !currentChapter) {\n      this.#updateFillPercents(0, cues.length, 100);\n    } else if (currentActiveIndex > prevActiveIndex) {\n      this.#updateFillPercents(prevActiveIndex, currentActiveIndex, 100);\n    } else if (currentActiveIndex < prevActiveIndex) {\n      this.#updateFillPercents(currentActiveIndex + 1, prevActiveIndex + 1, 0);\n    }\n    const percent = isLiveEdge ? 100 : this.#calcPercent(\n      cues[currentActiveIndex],\n      fillPercent(),\n      seekableStart(),\n      this.#getEndTime(cues)\n    );\n    this.#updateFillPercent(this.#refs[currentActiveIndex], percent);\n    this.#activeIndex.set(currentActiveIndex);\n  }\n  #watchPointerPercent() {\n    let { hidden, pointerPercent } = this.#sliderState;\n    if (hidden()) {\n      this.#activePointerIndex.set(-1);\n      return;\n    }\n    const activeIndex = this.#findActiveChapterIndex(0, pointerPercent());\n    this.#activePointerIndex.set(activeIndex);\n  }\n  #updateFillPercents(start, end, percent) {\n    for (let i = start; i < end; i++) this.#updateFillPercent(this.#refs[i], percent);\n  }\n  #updateFillPercent(ref, percent) {\n    if (!ref) return;\n    ref.style.setProperty(\"--chapter-fill\", percent + \"%\");\n    setAttribute(ref, \"data-active\", percent > 0 && percent < 100);\n    setAttribute(ref, \"data-ended\", percent === 100);\n  }\n  #findActiveChapterIndex(startIndex, percent) {\n    let chapterPercent = 0, cues = this.#$cues();\n    if (percent === 0) return 0;\n    else if (percent === 100) return cues.length - 1;\n    let { seekableStart } = this.#media.$state, startTime = seekableStart(), endTime = this.#getEndTime(cues);\n    for (let i = startIndex; i < cues.length; i++) {\n      chapterPercent = this.#calcPercent(cues[i], percent, startTime, endTime);\n      if (chapterPercent >= 0 && chapterPercent < 100) return i;\n    }\n    return 0;\n  }\n  #watchBufferedPercent() {\n    this.#updateBufferedPercent(this.#bufferedPercent());\n  }\n  #updateBufferedPercent = animationFrameThrottle((bufferedPercent) => {\n    let percent, cues = this.#$cues(), { seekableStart } = this.#media.$state, startTime = seekableStart(), endTime = this.#getEndTime(cues);\n    for (let i = this.#bufferedIndex; i < this.#refs.length; i++) {\n      percent = this.#calcPercent(cues[i], bufferedPercent, startTime, endTime);\n      this.#refs[i]?.style.setProperty(\"--chapter-progress\", percent + \"%\");\n      if (percent < 100) {\n        this.#bufferedIndex = i;\n        break;\n      }\n    }\n  });\n  #bufferedPercent = computed(this.#calcMediaBufferedPercent.bind(this));\n  #calcMediaBufferedPercent() {\n    const { bufferedEnd, duration } = this.#media.$state;\n    return round(Math.min(bufferedEnd() / Math.max(duration(), 1), 1), 3) * 100;\n  }\n  #getEndTime(cues) {\n    const { seekableEnd } = this.#media.$state, endTime = seekableEnd();\n    return Number.isFinite(endTime) ? endTime : cues[cues.length - 1]?.endTime || 0;\n  }\n  #calcPercent(cue, percent, startTime, endTime) {\n    if (!cue) return 0;\n    const cues = this.#$cues();\n    if (cues.length === 0) return 0;\n    const duration = endTime - startTime, cueStartTime = Math.max(0, cue.startTime - startTime), cueEndTime = Math.min(endTime, cue.endTime) - startTime;\n    const startRatio = cueStartTime / duration, startPercent = startRatio * 100, endPercent = Math.min(1, startRatio + (cueEndTime - cueStartTime) / duration) * 100;\n    return Math.max(\n      0,\n      round(\n        percent >= endPercent ? 100 : (percent - startPercent) / (endPercent - startPercent) * 100,\n        3\n      )\n    );\n  }\n  #fillGaps(cues) {\n    let chapters = [], { seekableStart, seekableEnd, duration } = this.#media.$state, startTime = seekableStart(), endTime = seekableEnd();\n    cues = cues.filter((cue) => cue.startTime <= endTime && cue.endTime >= startTime);\n    const firstCue = cues[0];\n    if (firstCue && firstCue.startTime > startTime) {\n      chapters.push(new window.VTTCue(startTime, firstCue.startTime, \"\"));\n    }\n    for (let i = 0; i < cues.length - 1; i++) {\n      const currentCue = cues[i], nextCue = cues[i + 1];\n      chapters.push(currentCue);\n      if (nextCue) {\n        const timeDiff = nextCue.startTime - currentCue.endTime;\n        if (timeDiff > 0) {\n          chapters.push(new window.VTTCue(currentCue.endTime, currentCue.endTime + timeDiff, \"\"));\n        }\n      }\n    }\n    const lastCue = cues[cues.length - 1];\n    if (lastCue) {\n      chapters.push(lastCue);\n      const endTime2 = duration();\n      if (endTime2 >= 0 && endTime2 - lastCue.endTime > 1) {\n        chapters.push(new window.VTTCue(lastCue.endTime, duration(), \"\"));\n      }\n    }\n    return chapters;\n  }\n  #watchSource() {\n    const { source } = this.#media.$state;\n    source();\n    this.#onTrackChange();\n  }\n  #onTrackChange() {\n    if (!this.scope) return;\n    const { disabled } = this.$props;\n    if (disabled()) {\n      this.#$cues.set([]);\n      this.#activeIndex.set(0);\n      this.#bufferedIndex = 0;\n      return;\n    }\n    const track = this.#$track();\n    if (track) {\n      const onCuesChange = this.#onCuesChange.bind(this);\n      onCuesChange();\n      new EventsController(track).add(\"add-cue\", onCuesChange).add(\"remove-cue\", onCuesChange);\n      effect(this.#watchMediaDuration.bind(this));\n    }\n    this.#titleRef = this.#findChapterTitleRef();\n    if (this.#titleRef) effect(this.#onChapterTitleChange.bind(this));\n    return () => {\n      if (this.#titleRef) {\n        this.#titleRef.textContent = \"\";\n        this.#titleRef = null;\n      }\n    };\n  }\n  #watchMediaDuration() {\n    this.#media.$state.duration();\n    this.#onCuesChange();\n  }\n  #onCuesChange = functionDebounce(\n    () => {\n      const track = peek(this.#$track);\n      if (!this.scope || !track || !track.cues.length) return;\n      this.#$cues.set(this.#fillGaps(track.cues));\n      this.#activeIndex.set(0);\n      this.#bufferedIndex = 0;\n    },\n    150,\n    true\n  );\n  #onChapterTitleChange() {\n    const cue = this.activePointerCue || this.activeCue;\n    if (this.#titleRef) this.#titleRef.textContent = cue?.text || \"\";\n  }\n  #findParentSlider() {\n    let node = this.el;\n    while (node && node.getAttribute(\"role\") !== \"slider\") {\n      node = node.parentElement;\n    }\n    return node;\n  }\n  #findChapterTitleRef() {\n    const slider = this.#findParentSlider();\n    return slider ? slider.querySelector('[data-part=\"chapter-title\"]') : null;\n  }\n}\nconst sliderchapters__proto = SliderChapters.prototype;\nprop(sliderchapters__proto, \"cues\");\nprop(sliderchapters__proto, \"activeCue\");\nprop(sliderchapters__proto, \"activePointerCue\");\nmethod(sliderchapters__proto, \"setRefs\");\n\nconst menuContext = createContext();\n\nfunction scrollIntoView(el, options) {\n  const scrolls = r(el, options);\n  for (const { el: el2, top, left } of scrolls) {\n    el2.scroll({ top, left, behavior: options.behavior });\n  }\n}\nfunction scrollIntoCenter(el, options = {}) {\n  scrollIntoView(el, {\n    scrollMode: \"if-needed\",\n    block: \"center\",\n    inline: \"center\",\n    ...options\n  });\n}\n\nconst FOCUSABLE_ELEMENTS_SELECTOR = /* @__PURE__ */ [\n  \"a[href]\",\n  \"[tabindex]\",\n  \"input\",\n  \"select\",\n  \"button\"\n].map((selector) => `${selector}:not([aria-hidden='true'])`).join(\",\");\nconst VALID_KEYS = /* @__PURE__ */ new Set([\n  \"Escape\",\n  \"Tab\",\n  \"ArrowUp\",\n  \"ArrowDown\",\n  \"Home\",\n  \"PageUp\",\n  \"End\",\n  \"PageDown\",\n  \"Enter\",\n  \" \"\n]);\nclass MenuFocusController {\n  #index = -1;\n  #el = null;\n  #elements = [];\n  #delegate;\n  get items() {\n    return this.#elements;\n  }\n  constructor(delegate) {\n    this.#delegate = delegate;\n  }\n  attachMenu(el) {\n    listenEvent(el, \"focus\", this.#onFocus.bind(this));\n    this.#el = el;\n    onDispose(() => {\n      this.#el = null;\n    });\n  }\n  listen() {\n    if (!this.#el) return;\n    this.update();\n    new EventsController(this.#el).add(\"keyup\", this.#onKeyUp.bind(this)).add(\"keydown\", this.#onKeyDown.bind(this));\n    onDispose(() => {\n      this.#index = -1;\n      this.#elements = [];\n    });\n  }\n  update() {\n    this.#index = 0;\n    this.#elements = this.#getFocusableElements();\n  }\n  scroll(index = this.#findActiveIndex()) {\n    const element = this.#elements[index];\n    if (element) {\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          scrollIntoCenter(element, {\n            behavior: \"smooth\",\n            boundary: (el) => {\n              return !el.hasAttribute(\"data-root\");\n            }\n          });\n        });\n      });\n    }\n  }\n  focusActive(scroll = true) {\n    const index = this.#findActiveIndex();\n    this.#focusAt(index >= 0 ? index : 0, scroll);\n  }\n  #focusAt(index, scroll = true) {\n    this.#index = index;\n    if (this.#elements[index]) {\n      this.#elements[index].focus({ preventScroll: true });\n      if (scroll) this.scroll(index);\n    } else {\n      this.#el?.focus({ preventScroll: true });\n    }\n  }\n  #findActiveIndex() {\n    return this.#elements.findIndex(\n      (el) => document.activeElement === el || el.getAttribute(\"role\") === \"menuitemradio\" && el.getAttribute(\"aria-checked\") === \"true\"\n    );\n  }\n  #onFocus() {\n    if (this.#index >= 0) return;\n    this.update();\n    this.focusActive();\n  }\n  #validateKeyEvent(event) {\n    const el = event.target;\n    if (wasEnterKeyPressed(event) && el instanceof Element) {\n      const role = el.getAttribute(\"role\");\n      return !/a|input|select|button/.test(el.localName) && !role;\n    }\n    return VALID_KEYS.has(event.key);\n  }\n  #onKeyUp(event) {\n    if (!this.#validateKeyEvent(event)) return;\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  #onKeyDown(event) {\n    if (!this.#validateKeyEvent(event)) return;\n    event.stopPropagation();\n    event.preventDefault();\n    switch (event.key) {\n      case \"Escape\":\n        this.#delegate.closeMenu(event);\n        break;\n      case \"Tab\":\n        this.#focusAt(this.#nextIndex(event.shiftKey ? -1 : 1));\n        break;\n      case \"ArrowUp\":\n        this.#focusAt(this.#nextIndex(-1));\n        break;\n      case \"ArrowDown\":\n        this.#focusAt(this.#nextIndex(1));\n        break;\n      case \"Home\":\n      case \"PageUp\":\n        this.#focusAt(0);\n        break;\n      case \"End\":\n      case \"PageDown\":\n        this.#focusAt(this.#elements.length - 1);\n        break;\n    }\n  }\n  #nextIndex(delta) {\n    let index = this.#index;\n    do {\n      index = (index + delta + this.#elements.length) % this.#elements.length;\n    } while (this.#elements[index]?.offsetParent === null);\n    return index;\n  }\n  #getFocusableElements() {\n    if (!this.#el) return [];\n    const focusableElements = this.#el.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR), elements = [];\n    const is = (node) => {\n      return node.getAttribute(\"role\") === \"menu\";\n    };\n    for (const el of focusableElements) {\n      if (isHTMLElement(el) && el.offsetParent !== null && // does not have display: none\n      isElementParent(this.#el, el, is)) {\n        elements.push(el);\n      }\n    }\n    return elements;\n  }\n}\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = __getOwnPropDesc(target, key) ;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (decorator(target, key, result) ) || result;\n  if (result) __defProp(target, key, result);\n  return result;\n};\nlet idCount = 0;\nclass Menu extends Component {\n  static props = {\n    showDelay: 0\n  };\n  #media;\n  #menuId;\n  #menuButtonId;\n  #expanded = signal(false);\n  #disabled = signal(false);\n  #trigger = signal(null);\n  #content = signal(null);\n  #parentMenu;\n  #submenus = /* @__PURE__ */ new Set();\n  #menuObserver = null;\n  #popper;\n  #focus;\n  #isSliderActive = false;\n  #isTriggerDisabled = signal(false);\n  #transitionCallbacks = /* @__PURE__ */ new Set();\n  get triggerElement() {\n    return this.#trigger();\n  }\n  get contentElement() {\n    return this.#content();\n  }\n  get isSubmenu() {\n    return !!this.#parentMenu;\n  }\n  constructor() {\n    super();\n    const { showDelay } = this.$props;\n    this.#popper = new Popper({\n      trigger: this.#trigger,\n      content: this.#content,\n      showDelay,\n      listen: (trigger, show, hide) => {\n        onPress(trigger, (event) => {\n          if (this.#expanded()) hide(event);\n          else show(event);\n        });\n        const closeTarget = this.#getCloseTarget();\n        if (closeTarget) {\n          onPress(closeTarget, (event) => {\n            event.stopPropagation();\n            hide(event);\n          });\n        }\n      },\n      onChange: this.#onExpandedChange.bind(this)\n    });\n  }\n  onSetup() {\n    this.#media = useMediaContext();\n    const currentIdCount = ++idCount;\n    this.#menuId = `media-menu-${currentIdCount}`;\n    this.#menuButtonId = `media-menu-button-${currentIdCount}`;\n    this.#focus = new MenuFocusController({\n      closeMenu: this.close.bind(this)\n    });\n    if (hasProvidedContext(menuContext)) {\n      this.#parentMenu = useContext(menuContext);\n    }\n    this.#observeSliders();\n    this.setAttributes({\n      \"data-open\": this.#expanded,\n      \"data-root\": !this.isSubmenu,\n      \"data-submenu\": this.isSubmenu,\n      \"data-disabled\": this.#isDisabled.bind(this)\n    });\n    provideContext(menuContext, {\n      button: this.#trigger,\n      content: this.#content,\n      expanded: this.#expanded,\n      hint: signal(\"\"),\n      submenu: !!this.#parentMenu,\n      disable: this.#disable.bind(this),\n      attachMenuButton: this.#attachMenuButton.bind(this),\n      attachMenuItems: this.#attachMenuItems.bind(this),\n      attachObserver: this.#attachObserver.bind(this),\n      disableMenuButton: this.#disableMenuButton.bind(this),\n      addSubmenu: this.#addSubmenu.bind(this),\n      onTransitionEvent: (callback) => {\n        this.#transitionCallbacks.add(callback);\n        onDispose(() => {\n          this.#transitionCallbacks.delete(callback);\n        });\n      }\n    });\n  }\n  onAttach(el) {\n    el.style.setProperty(\"display\", \"contents\");\n  }\n  onConnect(el) {\n    effect(this.#watchExpanded.bind(this));\n    if (this.isSubmenu) {\n      this.#parentMenu?.addSubmenu(this);\n    }\n  }\n  onDestroy() {\n    this.#trigger.set(null);\n    this.#content.set(null);\n    this.#menuObserver = null;\n    this.#transitionCallbacks.clear();\n  }\n  #observeSliders() {\n    let sliderActiveTimer = -1, parentSliderObserver = hasProvidedContext(sliderObserverContext) ? useContext(sliderObserverContext) : null;\n    provideContext(sliderObserverContext, {\n      onDragStart: () => {\n        parentSliderObserver?.onDragStart?.();\n        window.clearTimeout(sliderActiveTimer);\n        sliderActiveTimer = -1;\n        this.#isSliderActive = true;\n      },\n      onDragEnd: () => {\n        parentSliderObserver?.onDragEnd?.();\n        sliderActiveTimer = window.setTimeout(() => {\n          this.#isSliderActive = false;\n          sliderActiveTimer = -1;\n        }, 300);\n      }\n    });\n  }\n  #watchExpanded() {\n    const expanded = this.#isExpanded();\n    if (!this.isSubmenu) this.#onResize();\n    this.#updateMenuItemsHidden(expanded);\n    if (!expanded) return;\n    effect(() => {\n      const { height } = this.#media.$state, content = this.#content();\n      content && setStyle(content, \"--player-height\", height() + \"px\");\n    });\n    this.#focus.listen();\n    this.listen(\"pointerup\", this.#onPointerUp.bind(this));\n    listenEvent(window, \"pointerup\", this.#onWindowPointerUp.bind(this));\n  }\n  #attachMenuButton(button) {\n    const el = button.el, isMenuItem = this.isSubmenu, isARIADisabled = $ariaBool(this.#isDisabled.bind(this));\n    setAttributeIfEmpty(el, \"tabindex\", isMenuItem ? \"-1\" : \"0\");\n    setAttributeIfEmpty(el, \"role\", isMenuItem ? \"menuitem\" : \"button\");\n    setAttribute(el, \"id\", this.#menuButtonId);\n    setAttribute(el, \"aria-haspopup\", \"menu\");\n    setAttribute(el, \"aria-expanded\", \"false\");\n    setAttribute(el, \"data-root\", !this.isSubmenu);\n    setAttribute(el, \"data-submenu\", this.isSubmenu);\n    const watchAttrs = () => {\n      setAttribute(el, \"data-open\", this.#expanded());\n      setAttribute(el, \"aria-disabled\", isARIADisabled());\n    };\n    if (IS_SERVER) watchAttrs();\n    else effect(watchAttrs);\n    this.#trigger.set(el);\n    onDispose(() => {\n      this.#trigger.set(null);\n    });\n  }\n  #attachMenuItems(items) {\n    const el = items.el;\n    el.style.setProperty(\"display\", \"none\");\n    setAttribute(el, \"id\", this.#menuId);\n    setAttributeIfEmpty(el, \"role\", \"menu\");\n    setAttributeIfEmpty(el, \"tabindex\", \"-1\");\n    setAttribute(el, \"data-root\", !this.isSubmenu);\n    setAttribute(el, \"data-submenu\", this.isSubmenu);\n    this.#content.set(el);\n    onDispose(() => this.#content.set(null));\n    const watchAttrs = () => setAttribute(el, \"data-open\", this.#expanded());\n    if (IS_SERVER) watchAttrs();\n    else effect(watchAttrs);\n    this.#focus.attachMenu(el);\n    this.#updateMenuItemsHidden(false);\n    const onTransition = this.#onResizeTransition.bind(this);\n    if (!this.isSubmenu) {\n      items.listen(\"transitionstart\", onTransition);\n      items.listen(\"transitionend\", onTransition);\n      items.listen(\"animationend\", this.#onResize);\n      items.listen(\"vds-menu-resize\", this.#onResize);\n    } else {\n      this.#parentMenu?.onTransitionEvent(onTransition);\n    }\n  }\n  #attachObserver(observer) {\n    this.#menuObserver = observer;\n  }\n  #updateMenuItemsHidden(expanded) {\n    const content = peek(this.#content);\n    if (content) setAttribute(content, \"aria-hidden\", ariaBool$1(!expanded));\n  }\n  #disableMenuButton(disabled) {\n    this.#isTriggerDisabled.set(disabled);\n  }\n  #wasKeyboardExpand = false;\n  #onExpandedChange(isExpanded, event) {\n    this.#wasKeyboardExpand = isKeyboardEvent(event);\n    event?.stopPropagation();\n    if (this.#expanded() === isExpanded) return;\n    if (this.#isDisabled()) {\n      if (isExpanded) this.#popper.hide(event);\n      return;\n    }\n    this.el?.dispatchEvent(\n      new Event(\"vds-menu-resize\", {\n        bubbles: true,\n        composed: true\n      })\n    );\n    const trigger = this.#trigger(), content = this.#content();\n    if (trigger) {\n      setAttribute(trigger, \"aria-controls\", isExpanded && this.#menuId);\n      setAttribute(trigger, \"aria-expanded\", ariaBool$1(isExpanded));\n    }\n    if (content) setAttribute(content, \"aria-labelledby\", isExpanded && this.#menuButtonId);\n    this.#expanded.set(isExpanded);\n    this.#toggleMediaControls(event);\n    tick();\n    if (this.#wasKeyboardExpand) {\n      if (isExpanded) content?.focus();\n      else trigger?.focus();\n      for (const el of [this.el, content]) {\n        el && el.setAttribute(\"data-keyboard\", \"\");\n      }\n    } else {\n      for (const el of [this.el, content]) {\n        el && el.removeAttribute(\"data-keyboard\");\n      }\n    }\n    this.dispatch(isExpanded ? \"open\" : \"close\", { trigger: event });\n    if (isExpanded) {\n      if (!this.isSubmenu && this.#media.activeMenu !== this) {\n        this.#media.activeMenu?.close(event);\n        this.#media.activeMenu = this;\n      }\n      this.#menuObserver?.onOpen?.(event);\n    } else {\n      if (this.isSubmenu) {\n        for (const el of this.#submenus) el.close(event);\n      } else {\n        this.#media.activeMenu = null;\n      }\n      this.#menuObserver?.onClose?.(event);\n    }\n    if (isExpanded) {\n      requestAnimationFrame(this.#updateFocus.bind(this));\n    }\n  }\n  #updateFocus() {\n    if (this.#isTransitionActive || this.#isSubmenuOpen) return;\n    this.#focus.update();\n    requestAnimationFrame(() => {\n      if (this.#wasKeyboardExpand) {\n        this.#focus.focusActive();\n      } else {\n        this.#focus.scroll();\n      }\n    });\n  }\n  #isExpanded() {\n    return !this.#isDisabled() && this.#expanded();\n  }\n  #isDisabled() {\n    return this.#disabled() || this.#isTriggerDisabled();\n  }\n  #disable(disabled) {\n    this.#disabled.set(disabled);\n  }\n  #onPointerUp(event) {\n    const content = this.#content();\n    if (this.#isSliderActive || content && isEventInside(content, event)) {\n      return;\n    }\n    event.stopPropagation();\n  }\n  #onWindowPointerUp(event) {\n    const content = this.#content();\n    if (this.#isSliderActive || content && isEventInside(content, event)) {\n      return;\n    }\n    this.close(event);\n  }\n  #getCloseTarget() {\n    const target = this.el?.querySelector('[data-part=\"close-target\"]');\n    return this.el && target && isElementParent(this.el, target, (node) => node.getAttribute(\"role\") === \"menu\") ? target : null;\n  }\n  #toggleMediaControls(trigger) {\n    if (this.isSubmenu) return;\n    if (this.#expanded()) this.#media.remote.pauseControls(trigger);\n    else this.#media.remote.resumeControls(trigger);\n  }\n  #addSubmenu(menu) {\n    this.#submenus.add(menu);\n    new EventsController(menu).add(\"open\", this.#onSubmenuOpenBind).add(\"close\", this.#onSubmenuCloseBind);\n    onDispose(this.#removeSubmenuBind);\n  }\n  #removeSubmenuBind = this.#removeSubmenu.bind(this);\n  #removeSubmenu(menu) {\n    this.#submenus.delete(menu);\n  }\n  #isSubmenuOpen = false;\n  #onSubmenuOpenBind = this.#onSubmenuOpen.bind(this);\n  #onSubmenuOpen(event) {\n    this.#isSubmenuOpen = true;\n    const content = this.#content();\n    if (this.isSubmenu) {\n      this.triggerElement?.setAttribute(\"aria-hidden\", \"true\");\n    }\n    for (const target of this.#submenus) {\n      if (target !== event.target) {\n        for (const el of [target.el, target.triggerElement]) {\n          el?.setAttribute(\"aria-hidden\", \"true\");\n        }\n      }\n    }\n    if (content) {\n      const el = event.target.el;\n      for (const child of content.children) {\n        if (child.contains(el)) {\n          child.setAttribute(\"data-open\", \"\");\n        } else if (child !== el) {\n          child.setAttribute(\"data-hidden\", \"\");\n        }\n      }\n    }\n  }\n  #onSubmenuCloseBind = this.#onSubmenuClose.bind(this);\n  #onSubmenuClose(event) {\n    this.#isSubmenuOpen = false;\n    const content = this.#content();\n    if (this.isSubmenu) {\n      this.triggerElement?.setAttribute(\"aria-hidden\", \"false\");\n    }\n    for (const target of this.#submenus) {\n      for (const el of [target.el, target.triggerElement]) {\n        el?.setAttribute(\"aria-hidden\", \"false\");\n      }\n    }\n    if (content) {\n      for (const child of content.children) {\n        child.removeAttribute(\"data-open\");\n        child.removeAttribute(\"data-hidden\");\n      }\n    }\n  }\n  #onResize = animationFrameThrottle(() => {\n    const content = peek(this.#content);\n    if (!content || IS_SERVER) return;\n    let height = 0, styles = getComputedStyle(content), children = [...content.children];\n    for (const prop2 of [\"paddingTop\", \"paddingBottom\", \"borderTopWidth\", \"borderBottomWidth\"]) {\n      height += parseFloat(styles[prop2]) || 0;\n    }\n    for (const child of children) {\n      if (isHTMLElement(child) && child.style.display === \"contents\") {\n        children.push(...child.children);\n      } else if (child.nodeType === 3) {\n        height += parseFloat(getComputedStyle(child).fontSize);\n      } else if (isHTMLElement(child)) {\n        if (!isElementVisible(child)) continue;\n        const style = getComputedStyle(child);\n        height += child.offsetHeight + (parseFloat(style.marginTop) || 0) + (parseFloat(style.marginBottom) || 0);\n      }\n    }\n    setStyle(content, \"--menu-height\", height + \"px\");\n  });\n  #isTransitionActive = false;\n  #onResizeTransition(event) {\n    const content = this.#content();\n    if (content && event.propertyName === \"height\") {\n      this.#isTransitionActive = event.type === \"transitionstart\";\n      setAttribute(content, \"data-transition\", this.#isTransitionActive ? \"height\" : null);\n      if (this.#expanded()) this.#updateFocus();\n    }\n    for (const callback of this.#transitionCallbacks) callback(event);\n  }\n  open(trigger) {\n    if (peek(this.#expanded)) return;\n    this.#popper.show(trigger);\n    tick();\n  }\n  close(trigger) {\n    if (!peek(this.#expanded)) return;\n    this.#popper.hide(trigger);\n    tick();\n  }\n}\n__decorateClass([\n  prop\n], Menu.prototype, \"triggerElement\");\n__decorateClass([\n  prop\n], Menu.prototype, \"contentElement\");\n__decorateClass([\n  prop\n], Menu.prototype, \"isSubmenu\");\n__decorateClass([\n  method\n], Menu.prototype, \"open\");\n__decorateClass([\n  method\n], Menu.prototype, \"close\");\n\nclass MenuButton extends Component {\n  static props = {\n    disabled: false\n  };\n  #menu;\n  #hintEl = signal(null);\n  get expanded() {\n    return this.#menu?.expanded() ?? false;\n  }\n  constructor() {\n    super();\n    new FocusVisibleController();\n  }\n  onSetup() {\n    this.#menu = useContext(menuContext);\n  }\n  onAttach(el) {\n    this.#menu.attachMenuButton(this);\n    effect(this.#watchDisabled.bind(this));\n    setAttributeIfEmpty(el, \"type\", \"button\");\n  }\n  onConnect(el) {\n    effect(this.#watchHintEl.bind(this));\n    this.#onMutation();\n    const mutations = new MutationObserver(this.#onMutation.bind(this));\n    mutations.observe(el, { attributeFilter: [\"data-part\"], childList: true, subtree: true });\n    onDispose(() => mutations.disconnect());\n    onPress(el, (trigger) => {\n      this.dispatch(\"select\", { trigger });\n    });\n  }\n  #watchDisabled() {\n    this.#menu.disableMenuButton(this.$props.disabled());\n  }\n  #watchHintEl() {\n    const el = this.#hintEl();\n    if (!el) return;\n    effect(() => {\n      const text = this.#menu.hint();\n      if (text) el.textContent = text;\n    });\n  }\n  #onMutation() {\n    const hintEl = this.el?.querySelector('[data-part=\"hint\"]');\n    this.#hintEl.set(hintEl ?? null);\n  }\n}\nconst menubutton__proto = MenuButton.prototype;\nprop(menubutton__proto, \"expanded\");\n\nclass MenuItem extends MenuButton {\n}\n\nclass MenuPortal extends Component {\n  static props = {\n    container: null,\n    disabled: false\n  };\n  #target = null;\n  #media;\n  onSetup() {\n    this.#media = useMediaContext();\n    provideContext(menuPortalContext, {\n      attach: this.#attachElement.bind(this)\n    });\n  }\n  onAttach(el) {\n    el.style.setProperty(\"display\", \"contents\");\n  }\n  // Need this so connect scope is defined.\n  onConnect(el) {\n  }\n  onDestroy() {\n    this.#target?.remove();\n    this.#target = null;\n  }\n  #attachElement(el) {\n    this.#portal(false);\n    this.#target = el;\n    requestScopedAnimationFrame(() => {\n      requestScopedAnimationFrame(() => {\n        if (!this.connectScope) return;\n        effect(this.#watchDisabled.bind(this));\n      });\n    });\n  }\n  #watchDisabled() {\n    const { fullscreen } = this.#media.$state, { disabled } = this.$props;\n    this.#portal(disabled() === \"fullscreen\" ? !fullscreen() : !disabled());\n  }\n  #portal(shouldPortal) {\n    if (!this.#target) return;\n    let container = this.#getContainer(this.$props.container());\n    if (!container) return;\n    const isPortalled = this.#target.parentElement === container;\n    setAttribute(this.#target, \"data-portal\", shouldPortal);\n    if (shouldPortal) {\n      if (!isPortalled) {\n        this.#target.remove();\n        container.append(this.#target);\n      }\n    } else if (isPortalled && this.#target.parentElement === container) {\n      this.#target.remove();\n      this.el?.append(this.#target);\n    }\n  }\n  #getContainer(selector) {\n    if (isHTMLElement(selector)) return selector;\n    return selector ? document.querySelector(selector) : document.body;\n  }\n}\nconst menuPortalContext = createContext();\n\nclass MenuItems extends Component {\n  static props = {\n    placement: null,\n    offset: 0,\n    alignOffset: 0\n  };\n  #menu;\n  constructor() {\n    super();\n    new FocusVisibleController();\n    const { placement } = this.$props;\n    this.setAttributes({\n      \"data-placement\": placement\n    });\n  }\n  onAttach(el) {\n    this.#menu = useContext(menuContext);\n    this.#menu.attachMenuItems(this);\n    if (hasProvidedContext(menuPortalContext)) {\n      const portal = useContext(menuPortalContext);\n      if (portal) {\n        provideContext(menuPortalContext, null);\n        portal.attach(el);\n        onDispose(() => portal.attach(null));\n      }\n    }\n  }\n  onConnect(el) {\n    effect(this.#watchPlacement.bind(this));\n  }\n  #watchPlacement() {\n    const { expanded } = this.#menu;\n    if (!this.el || !expanded()) return;\n    const placement = this.$props.placement();\n    if (!placement) return;\n    Object.assign(this.el.style, {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"max-content\"\n    });\n    const { offset: mainOffset, alignOffset } = this.$props;\n    onDispose(\n      autoPlacement(this.el, this.#getButton(), placement, {\n        offsetVarName: \"media-menu\",\n        xOffset: alignOffset(),\n        yOffset: mainOffset()\n      })\n    );\n    onDispose(this.#hide.bind(this));\n  }\n  #hide() {\n    if (!this.el) return;\n    this.el.removeAttribute(\"style\");\n    this.el.style.display = \"none\";\n  }\n  #getButton() {\n    return this.#menu.button();\n  }\n}\n\nconst radioControllerContext = createContext();\n\nclass RadioGroupController extends ViewController {\n  #group = /* @__PURE__ */ new Set();\n  #value = signal(\"\");\n  #controller = null;\n  onValueChange;\n  get values() {\n    return Array.from(this.#group).map((radio) => radio.value());\n  }\n  get value() {\n    return this.#value();\n  }\n  set value(value) {\n    this.#onChange(value);\n  }\n  onSetup() {\n    provideContext(radioControllerContext, {\n      add: this.#addRadio.bind(this),\n      remove: this.#removeRadio.bind(this)\n    });\n  }\n  onAttach(el) {\n    const isMenuItem = hasProvidedContext(menuContext);\n    if (!isMenuItem) setAttributeIfEmpty(el, \"role\", \"radiogroup\");\n    this.setAttributes({ value: this.#value });\n  }\n  onDestroy() {\n    this.#group.clear();\n  }\n  #addRadio(radio) {\n    if (this.#group.has(radio)) return;\n    this.#group.add(radio);\n    radio.onCheck = this.#onChangeBind;\n    radio.check(radio.value() === this.#value());\n  }\n  #removeRadio(radio) {\n    radio.onCheck = null;\n    this.#group.delete(radio);\n  }\n  #onChangeBind = this.#onChange.bind(this);\n  #onChange(newValue, trigger) {\n    const currentValue = peek(this.#value);\n    if (!newValue || newValue === currentValue) return;\n    const currentRadio = this.#findRadio(currentValue), newRadio = this.#findRadio(newValue);\n    currentRadio?.check(false, trigger);\n    newRadio?.check(true, trigger);\n    this.#value.set(newValue);\n    this.onValueChange?.(newValue, trigger);\n  }\n  #findRadio(newValue) {\n    for (const radio of this.#group) {\n      if (newValue === peek(radio.value)) return radio;\n    }\n    return null;\n  }\n}\n\nclass RadioGroup extends Component {\n  static props = {\n    value: \"\"\n  };\n  #controller;\n  /**\n   * A list of radio values that belong this group.\n   */\n  get values() {\n    return this.#controller.values;\n  }\n  /**\n   * The radio value that is checked in this group.\n   */\n  get value() {\n    return this.#controller.value;\n  }\n  set value(newValue) {\n    this.#controller.value = newValue;\n  }\n  constructor() {\n    super();\n    this.#controller = new RadioGroupController();\n    this.#controller.onValueChange = this.#onValueChange.bind(this);\n  }\n  onSetup() {\n    if (IS_SERVER) this.#watchValue();\n    else effect(this.#watchValue.bind(this));\n  }\n  #watchValue() {\n    this.#controller.value = this.$props.value();\n  }\n  #onValueChange(value, trigger) {\n    const event = this.createEvent(\"change\", { detail: value, trigger });\n    this.dispatch(event);\n  }\n}\nconst radiogroup__proto = RadioGroup.prototype;\nprop(radiogroup__proto, \"values\");\nprop(radiogroup__proto, \"value\");\n\nclass Radio extends Component {\n  static props = {\n    value: \"\"\n  };\n  #checked = signal(false);\n  #controller = {\n    value: this.$props.value,\n    check: this.#check.bind(this),\n    onCheck: null\n  };\n  /**\n   * Whether this radio is currently checked.\n   */\n  get checked() {\n    return this.#checked();\n  }\n  constructor() {\n    super();\n    new FocusVisibleController();\n  }\n  onSetup() {\n    this.setAttributes({\n      value: this.$props.value,\n      \"data-checked\": this.#checked,\n      \"aria-checked\": $ariaBool(this.#checked)\n    });\n  }\n  onAttach(el) {\n    const isMenuItem = hasProvidedContext(menuContext);\n    setAttributeIfEmpty(el, \"tabindex\", isMenuItem ? \"-1\" : \"0\");\n    setAttributeIfEmpty(el, \"role\", isMenuItem ? \"menuitemradio\" : \"radio\");\n    effect(this.#watchValue.bind(this));\n  }\n  onConnect(el) {\n    this.#addToGroup();\n    onPress(el, this.#onPress.bind(this));\n    onDispose(this.#onDisconnect.bind(this));\n  }\n  #onDisconnect() {\n    scoped(() => {\n      const group = useContext(radioControllerContext);\n      group.remove(this.#controller);\n    }, this.connectScope);\n  }\n  #addToGroup() {\n    const group = useContext(radioControllerContext);\n    group.add(this.#controller);\n  }\n  #watchValue() {\n    const { value } = this.$props, newValue = value();\n    if (peek(this.#checked)) {\n      this.#controller.onCheck?.(newValue);\n    }\n  }\n  #onPress(event) {\n    if (peek(this.#checked)) return;\n    this.#onChange(true, event);\n    this.#onSelect(event);\n    this.#controller.onCheck?.(peek(this.$props.value), event);\n  }\n  #check(value, trigger) {\n    if (peek(this.#checked) === value) return;\n    this.#onChange(value, trigger);\n  }\n  #onChange(value, trigger) {\n    this.#checked.set(value);\n    this.dispatch(\"change\", { detail: value, trigger });\n  }\n  #onSelect(trigger) {\n    this.dispatch(\"select\", { trigger });\n  }\n}\nconst radio__proto = Radio.prototype;\nprop(radio__proto, \"checked\");\n\nclass Gesture extends Component {\n  static props = {\n    disabled: false,\n    event: void 0,\n    action: void 0\n  };\n  #media;\n  #provider = null;\n  onSetup() {\n    this.#media = useMediaContext();\n    const { event, action } = this.$props;\n    this.setAttributes({\n      event,\n      action\n    });\n  }\n  onAttach(el) {\n    el.setAttribute(\"data-media-gesture\", \"\");\n    el.style.setProperty(\"pointer-events\", \"none\");\n  }\n  onConnect(el) {\n    this.#provider = this.#media.player.el?.querySelector(\n      \"[data-media-provider]\"\n    );\n    effect(this.#attachListener.bind(this));\n  }\n  #attachListener() {\n    let eventType = this.$props.event(), disabled = this.$props.disabled();\n    if (!this.#provider || !eventType || disabled) return;\n    if (/^dbl/.test(eventType)) {\n      eventType = eventType.split(/^dbl/)[1];\n    }\n    if (eventType === \"pointerup\" || eventType === \"pointerdown\") {\n      const pointer = this.#media.$state.pointer();\n      if (pointer === \"coarse\") {\n        eventType = eventType === \"pointerup\" ? \"touchend\" : \"touchstart\";\n      }\n    }\n    listenEvent(\n      this.#provider,\n      eventType,\n      this.#acceptEvent.bind(this),\n      { passive: false }\n    );\n  }\n  #presses = 0;\n  #pressTimerId = -1;\n  #acceptEvent(event) {\n    if (this.$props.disabled() || isPointerEvent(event) && (event.button !== 0 || this.#media.activeMenu) || isTouchEvent(event) && this.#media.activeMenu || isTouchPinchEvent(event) || !this.#inBounds(event)) {\n      return;\n    }\n    event.MEDIA_GESTURE = true;\n    event.preventDefault();\n    const eventType = peek(this.$props.event), isDblEvent = eventType?.startsWith(\"dbl\");\n    if (!isDblEvent) {\n      if (this.#presses === 0) {\n        setTimeout(() => {\n          if (this.#presses === 1) this.#handleEvent(event);\n        }, 250);\n      }\n    } else if (this.#presses === 1) {\n      queueMicrotask(() => this.#handleEvent(event));\n      clearTimeout(this.#pressTimerId);\n      this.#presses = 0;\n      return;\n    }\n    if (this.#presses === 0) {\n      this.#pressTimerId = window.setTimeout(() => {\n        this.#presses = 0;\n      }, 275);\n    }\n    this.#presses++;\n  }\n  #handleEvent(event) {\n    this.el.setAttribute(\"data-triggered\", \"\");\n    requestAnimationFrame(() => {\n      if (this.#isTopLayer()) {\n        this.#performAction(peek(this.$props.action), event);\n      }\n      requestAnimationFrame(() => {\n        this.el.removeAttribute(\"data-triggered\");\n      });\n    });\n  }\n  /** Validate event occurred in gesture bounds. */\n  #inBounds(event) {\n    if (!this.el) return false;\n    if (isPointerEvent(event) || isMouseEvent(event) || isTouchEvent(event)) {\n      const touch = isTouchEvent(event) ? event.changedTouches[0] ?? event.touches[0] : void 0;\n      const clientX = touch?.clientX ?? event.clientX;\n      const clientY = touch?.clientY ?? event.clientY;\n      const rect = this.el.getBoundingClientRect();\n      const inBounds = clientY >= rect.top && clientY <= rect.bottom && clientX >= rect.left && clientX <= rect.right;\n      return event.type.includes(\"leave\") ? !inBounds : inBounds;\n    }\n    return true;\n  }\n  /** Validate gesture has the highest z-index in this triggered group. */\n  #isTopLayer() {\n    const gestures = this.#media.player.el.querySelectorAll(\n      \"[data-media-gesture][data-triggered]\"\n    );\n    return Array.from(gestures).sort(\n      (a, b) => +getComputedStyle(b).zIndex - +getComputedStyle(a).zIndex\n    )[0] === this.el;\n  }\n  #performAction(action, trigger) {\n    if (!action) return;\n    const willTriggerEvent = new DOMEvent(\"will-trigger\", {\n      detail: action,\n      cancelable: true,\n      trigger\n    });\n    this.dispatchEvent(willTriggerEvent);\n    if (willTriggerEvent.defaultPrevented) return;\n    const [method, value] = action.replace(/:([a-z])/, \"-$1\").split(\":\");\n    if (action.includes(\":fullscreen\")) {\n      this.#media.remote.toggleFullscreen(\"prefer-media\", trigger);\n    } else if (action.includes(\"seek:\")) {\n      this.#media.remote.seek(peek(this.#media.$state.currentTime) + (+value || 0), trigger);\n    } else {\n      this.#media.remote[kebabToCamelCase(method)](trigger);\n    }\n    this.dispatch(\"trigger\", {\n      detail: action,\n      trigger\n    });\n  }\n}\n\nclass CaptionsTextRenderer {\n  priority = 10;\n  #track = null;\n  #renderer;\n  #events;\n  constructor(renderer) {\n    this.#renderer = renderer;\n  }\n  attach() {\n  }\n  canRender() {\n    return true;\n  }\n  detach() {\n    this.#events?.abort();\n    this.#events = void 0;\n    this.#renderer.reset();\n    this.#track = null;\n  }\n  changeTrack(track) {\n    if (!track || this.#track === track) return;\n    this.#events?.abort();\n    this.#events = new EventsController(track);\n    if (track.readyState < 2) {\n      this.#renderer.reset();\n      this.#events.add(\"load\", () => this.#changeTrack(track), { once: true });\n    } else {\n      this.#changeTrack(track);\n    }\n    this.#events.add(\"add-cue\", (event) => {\n      this.#renderer.addCue(event.detail);\n    }).add(\"remove-cue\", (event) => {\n      this.#renderer.removeCue(event.detail);\n    });\n    this.#track = track;\n  }\n  #changeTrack(track) {\n    this.#renderer.changeTrack({\n      cues: [...track.cues],\n      regions: [...track.regions]\n    });\n  }\n}\n\nclass Captions extends Component {\n  static props = {\n    textDir: \"ltr\",\n    exampleText: \"Captions look like this.\"\n  };\n  #media;\n  static lib = signal(null);\n  onSetup() {\n    this.#media = useMediaContext();\n    this.setAttributes({\n      \"aria-hidden\": $ariaBool(this.#isHidden.bind(this))\n    });\n  }\n  onAttach(el) {\n    el.style.setProperty(\"pointer-events\", \"none\");\n  }\n  onConnect(el) {\n    if (!Captions.lib()) {\n      import('media-captions').then((lib) => Captions.lib.set(lib));\n    }\n    effect(this.#watchViewType.bind(this));\n  }\n  #isHidden() {\n    const { textTrack, remotePlaybackState, iOSControls } = this.#media.$state, track = textTrack();\n    return iOSControls() || remotePlaybackState() === \"connected\" || !track || !isTrackCaptionKind(track);\n  }\n  #watchViewType() {\n    if (!Captions.lib()) return;\n    const { viewType } = this.#media.$state;\n    if (viewType() === \"audio\") {\n      return this.#setupAudioView();\n    } else {\n      return this.#setupVideoView();\n    }\n  }\n  #setupAudioView() {\n    effect(this.#onTrackChange.bind(this));\n    this.#listenToFontStyleChanges(null);\n    return () => {\n      this.el.textContent = \"\";\n    };\n  }\n  #onTrackChange() {\n    if (this.#isHidden()) return;\n    this.#onCueChange();\n    const { textTrack } = this.#media.$state;\n    listenEvent(textTrack(), \"cue-change\", this.#onCueChange.bind(this));\n    effect(this.#onUpdateTimedNodes.bind(this));\n  }\n  #onCueChange() {\n    this.el.textContent = \"\";\n    if (this.#hideExampleTimer >= 0) {\n      this.#removeExample();\n    }\n    const { realCurrentTime, textTrack } = this.#media.$state, { renderVTTCueString } = Captions.lib(), time = peek(realCurrentTime), activeCues = peek(textTrack).activeCues;\n    for (const cue of activeCues) {\n      const displayEl = this.#createCueDisplayElement(), cueEl = this.#createCueElement();\n      cueEl.innerHTML = renderVTTCueString(cue, time);\n      displayEl.append(cueEl);\n      this.el.append(cueEl);\n    }\n  }\n  #onUpdateTimedNodes() {\n    const { realCurrentTime } = this.#media.$state, { updateTimedVTTCueNodes } = Captions.lib();\n    updateTimedVTTCueNodes(this.el, realCurrentTime());\n  }\n  #setupVideoView() {\n    const { CaptionsRenderer } = Captions.lib(), renderer = new CaptionsRenderer(this.el), textRenderer = new CaptionsTextRenderer(renderer);\n    this.#media.textRenderers.add(textRenderer);\n    effect(this.#watchTextDirection.bind(this, renderer));\n    effect(this.#watchMediaTime.bind(this, renderer));\n    this.#listenToFontStyleChanges(renderer);\n    return () => {\n      this.el.textContent = \"\";\n      this.#media.textRenderers.remove(textRenderer);\n      renderer.destroy();\n    };\n  }\n  #watchTextDirection(renderer) {\n    renderer.dir = this.$props.textDir();\n  }\n  #watchMediaTime(renderer) {\n    if (this.#isHidden()) return;\n    const { realCurrentTime, textTrack } = this.#media.$state;\n    renderer.currentTime = realCurrentTime();\n    if (this.#hideExampleTimer >= 0 && textTrack()?.activeCues[0]) {\n      this.#removeExample();\n    }\n  }\n  #listenToFontStyleChanges(renderer) {\n    const player = this.#media.player;\n    if (!player) return;\n    const onChange = this.#onFontStyleChange.bind(this, renderer);\n    listenEvent(player, \"vds-font-change\", onChange);\n  }\n  #onFontStyleChange(renderer) {\n    if (this.#hideExampleTimer >= 0) {\n      this.#hideExample();\n      return;\n    }\n    const { textTrack } = this.#media.$state;\n    if (!textTrack()?.activeCues[0]) {\n      this.#showExample();\n    } else {\n      renderer?.update(true);\n    }\n  }\n  #showExample() {\n    const display = this.#createCueDisplayElement();\n    setAttribute(display, \"data-example\", \"\");\n    const cue = this.#createCueElement();\n    setAttribute(cue, \"data-example\", \"\");\n    cue.textContent = this.$props.exampleText();\n    display?.append(cue);\n    this.el?.append(display);\n    this.el?.setAttribute(\"data-example\", \"\");\n    this.#hideExample();\n  }\n  #hideExampleTimer = -1;\n  #hideExample() {\n    window.clearTimeout(this.#hideExampleTimer);\n    this.#hideExampleTimer = window.setTimeout(this.#removeExample.bind(this), 2500);\n  }\n  #removeExample() {\n    this.el?.removeAttribute(\"data-example\");\n    if (this.el?.querySelector(\"[data-example]\")) this.el.textContent = \"\";\n    this.#hideExampleTimer = -1;\n  }\n  #createCueDisplayElement() {\n    const el = document.createElement(\"div\");\n    setAttribute(el, \"data-part\", \"cue-display\");\n    return el;\n  }\n  #createCueElement() {\n    const el = document.createElement(\"div\");\n    setAttribute(el, \"data-part\", \"cue\");\n    return el;\n  }\n}\n\nclass Poster extends Component {\n  static props = {\n    src: null,\n    alt: null,\n    crossOrigin: null\n  };\n  static state = new State({\n    img: null,\n    src: null,\n    alt: null,\n    crossOrigin: null,\n    loading: true,\n    error: null,\n    hidden: false\n  });\n  #media;\n  onSetup() {\n    this.#media = useMediaContext();\n    this.#watchSrc();\n    this.#watchAlt();\n    this.#watchCrossOrigin();\n    this.#watchHidden();\n  }\n  onAttach(el) {\n    el.style.setProperty(\"pointer-events\", \"none\");\n    effect(this.#watchImg.bind(this));\n    effect(this.#watchSrc.bind(this));\n    effect(this.#watchAlt.bind(this));\n    effect(this.#watchCrossOrigin.bind(this));\n    effect(this.#watchHidden.bind(this));\n    const { started } = this.#media.$state;\n    this.setAttributes({\n      \"data-visible\": () => !started() && !this.$state.hidden(),\n      \"data-loading\": this.#isLoading.bind(this),\n      \"data-error\": this.#hasError.bind(this),\n      \"data-hidden\": this.$state.hidden\n    });\n  }\n  onConnect(el) {\n    effect(this.#onPreconnect.bind(this));\n    effect(this.#onLoadStart.bind(this));\n  }\n  #hasError() {\n    const { error } = this.$state;\n    return !isNull(error());\n  }\n  #onPreconnect() {\n    const { canLoadPoster, poster } = this.#media.$state;\n    if (!canLoadPoster() && poster()) preconnect(poster(), \"preconnect\");\n  }\n  #watchHidden() {\n    const { src } = this.$props, { poster, nativeControls } = this.#media.$state;\n    this.el && setAttribute(this.el, \"display\", nativeControls() ? \"none\" : null);\n    this.$state.hidden.set(this.#hasError() || !(src() || poster()) || nativeControls());\n  }\n  #isLoading() {\n    const { loading, hidden } = this.$state;\n    return !hidden() && loading();\n  }\n  #watchImg() {\n    const img = this.$state.img();\n    if (!img) return;\n    new EventsController(img).add(\"load\", this.#onLoad.bind(this)).add(\"error\", this.#onError.bind(this));\n    if (img.complete) this.#onLoad();\n  }\n  #prevSrc = \"\";\n  #watchSrc() {\n    const { poster: defaultPoster } = this.#media.$props, { canLoadPoster, providedPoster, inferredPoster } = this.#media.$state;\n    const src = this.$props.src() || \"\", poster = src || defaultPoster() || inferredPoster();\n    if (this.#prevSrc === providedPoster()) {\n      providedPoster.set(src);\n    }\n    this.$state.src.set(canLoadPoster() && poster.length ? poster : null);\n    this.#prevSrc = src;\n  }\n  #watchAlt() {\n    const { src } = this.$props, { alt } = this.$state, { poster } = this.#media.$state;\n    alt.set(src() || poster() ? this.$props.alt() : null);\n  }\n  #watchCrossOrigin() {\n    const { crossOrigin: crossOriginProp } = this.$props, { crossOrigin: crossOriginState } = this.$state, { crossOrigin: mediaCrossOrigin, poster: src } = this.#media.$state, crossOrigin = crossOriginProp() !== null ? crossOriginProp() : mediaCrossOrigin();\n    crossOriginState.set(\n      /ytimg\\.com|vimeo/.test(src() || \"\") ? null : crossOrigin === true ? \"anonymous\" : crossOrigin\n    );\n  }\n  #onLoadStart() {\n    const { loading, error } = this.$state, { canLoadPoster, poster } = this.#media.$state;\n    loading.set(canLoadPoster() && !!poster());\n    error.set(null);\n  }\n  #onLoad() {\n    const { loading, error } = this.$state;\n    loading.set(false);\n    error.set(null);\n  }\n  #onError(event) {\n    const { loading, error } = this.$state;\n    loading.set(false);\n    error.set(event);\n  }\n}\n\nclass Time extends Component {\n  static props = {\n    type: \"current\",\n    showHours: false,\n    padHours: null,\n    padMinutes: null,\n    remainder: false,\n    toggle: false,\n    hidden: false\n  };\n  static state = new State({\n    timeText: \"\",\n    hidden: false\n  });\n  #media;\n  #invert = signal(null);\n  #isVisible = signal(true);\n  #isIntersecting = signal(true);\n  onSetup() {\n    this.#media = useMediaContext();\n    this.#watchTime();\n    const { type } = this.$props;\n    this.setAttributes({\n      \"data-type\": type,\n      \"data-remainder\": this.#shouldInvert.bind(this)\n    });\n    new IntersectionObserverController({\n      callback: this.#onIntersectionChange.bind(this)\n    }).attach(this);\n  }\n  onAttach(el) {\n    if (!el.hasAttribute(\"role\")) effect(this.#watchRole.bind(this));\n    effect(this.#watchTime.bind(this));\n  }\n  onConnect(el) {\n    onDispose(observeVisibility(el, this.#isVisible.set));\n    effect(this.#watchHidden.bind(this));\n    effect(this.#watchToggle.bind(this));\n  }\n  #onIntersectionChange(entries) {\n    this.#isIntersecting.set(entries[0].isIntersecting);\n  }\n  #watchHidden() {\n    const { hidden } = this.$props;\n    this.$state.hidden.set(hidden() || !this.#isVisible() || !this.#isIntersecting());\n  }\n  #watchToggle() {\n    if (!this.$props.toggle()) {\n      this.#invert.set(null);\n      return;\n    }\n    if (this.el) {\n      onPress(this.el, this.#onToggle.bind(this));\n    }\n  }\n  #watchTime() {\n    const { hidden, timeText } = this.$state, { duration } = this.#media.$state;\n    if (hidden()) return;\n    const { type, padHours, padMinutes, showHours } = this.$props, seconds = this.#getSeconds(type()), $duration = duration(), shouldInvert = this.#shouldInvert();\n    if (!Number.isFinite(seconds + $duration)) {\n      timeText.set(\"LIVE\");\n      return;\n    }\n    const time = shouldInvert ? Math.max(0, $duration - seconds) : seconds, formattedTime = formatTime(time, {\n      padHrs: padHours(),\n      padMins: padMinutes(),\n      showHrs: showHours()\n    });\n    timeText.set((shouldInvert ? \"-\" : \"\") + formattedTime);\n  }\n  #watchRole() {\n    if (!this.el) return;\n    const { toggle } = this.$props;\n    setAttribute(this.el, \"role\", toggle() ? \"timer\" : null);\n    setAttribute(this.el, \"tabindex\", toggle() ? 0 : null);\n  }\n  #getSeconds(type) {\n    const { bufferedEnd, duration, currentTime } = this.#media.$state;\n    switch (type) {\n      case \"buffered\":\n        return bufferedEnd();\n      case \"duration\":\n        return duration();\n      default:\n        return currentTime();\n    }\n  }\n  #shouldInvert() {\n    return this.$props.remainder() && this.#invert() !== false;\n  }\n  #onToggle(event) {\n    event.preventDefault();\n    if (this.#invert() === null) {\n      this.#invert.set(!this.$props.remainder());\n      return;\n    }\n    this.#invert.set((v) => !v);\n  }\n}\n\nclass MediaPlayerInstance extends MediaPlayer {\n}\nclass MediaProviderInstance extends MediaProvider {\n}\nclass MediaAnnouncerInstance extends MediaAnnouncer {\n}\nclass ControlsInstance extends Controls {\n}\nclass ControlsGroupInstance extends ControlsGroup {\n}\nclass ToggleButtonInstance extends ToggleButton {\n}\nclass CaptionButtonInstance extends CaptionButton {\n}\nclass FullscreenButtonInstance extends FullscreenButton {\n}\nclass LiveButtonInstance extends LiveButton {\n}\nclass MuteButtonInstance extends MuteButton {\n}\nclass PIPButtonInstance extends PIPButton {\n}\nclass PlayButtonInstance extends PlayButton {\n}\nclass AirPlayButtonInstance extends AirPlayButton {\n}\nclass GoogleCastButtonInstance extends GoogleCastButton {\n}\nclass SeekButtonInstance extends SeekButton {\n}\nclass TooltipInstance extends Tooltip {\n}\nclass TooltipTriggerInstance extends TooltipTrigger {\n}\nclass TooltipContentInstance extends TooltipContent {\n}\nclass SliderInstance extends Slider {\n}\nclass TimeSliderInstance extends TimeSlider {\n}\nclass VolumeSliderInstance extends VolumeSlider {\n}\nclass AudioGainSliderInstance extends AudioGainSlider {\n}\nclass SpeedSliderInstance extends SpeedSlider {\n}\nclass QualitySliderInstance extends QualitySlider {\n}\nclass SliderThumbnailInstance extends SliderThumbnail {\n}\nclass SliderValueInstance extends SliderValue {\n}\nclass SliderVideoInstance extends SliderVideo {\n}\nclass SliderPreviewInstance extends SliderPreview {\n}\nclass SliderChaptersInstance extends SliderChapters {\n}\nclass MenuInstance extends Menu {\n}\nclass MenuButtonInstance extends MenuButton {\n}\nclass MenuItemsInstance extends MenuItems {\n}\nclass MenuItemInstance extends MenuItem {\n}\nclass MenuPortalInstance extends MenuPortal {\n}\nclass RadioGroupInstance extends RadioGroup {\n}\nclass RadioInstance extends Radio {\n}\nclass CaptionsInstance extends Captions {\n}\nclass GestureInstance extends Gesture {\n}\nclass PosterInstance extends Poster {\n}\nclass ThumbnailInstance extends Thumbnail {\n}\nclass TimeInstance extends Time {\n}\n\nconst Slot = React.forwardRef((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n  if (slottable) {\n    const newElement = slottable.props.children;\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement) ? newElement.props.children : null;\n      } else {\n        return child;\n      }\n    });\n    return /* @__PURE__ */ React.createElement(SlotClone, { ...slotProps, ref: forwardedRef }, React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null);\n  }\n  return /* @__PURE__ */ React.createElement(SlotClone, { ...slotProps, ref: forwardedRef }, children);\n});\nSlot.displayName = \"Slot\";\nconst SlotClone = React.forwardRef((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  if (React.isValidElement(children)) {\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      ref: forwardedRef ? composeRefs(forwardedRef, children.ref) : children.ref\n    });\n  }\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\nSlotClone.displayName = \"SlotClone\";\nconst Slottable = ({ children }) => {\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, children);\n};\nfunction isSlottable(child) {\n  return React.isValidElement(child) && child.type === Slottable;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\n\nconst NODES = [\"button\", \"div\", \"span\", \"img\", \"video\", \"audio\"];\nconst Primitive = NODES.reduce((primitives, node) => {\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    return /* @__PURE__ */ React.createElement(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitives, [node]: Node };\n}, {});\n\nfunction isRemotionProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"REMOTION\";\n}\nfunction isRemotionSrc(src) {\n  return src?.type === \"video/remotion\";\n}\n\nconst sliderStateRecord = SliderInstance.state.record, initialSliderStore = Object.keys(sliderStateRecord).reduce(\n  (store, prop) => ({\n    ...store,\n    [prop]() {\n      return sliderStateRecord[prop];\n    }\n  }),\n  {}\n);\nfunction useSliderState(prop, ref) {\n  const $state = useStateContext(sliderState);\n  if (!$state && !ref) {\n    console.warn(\n      `[vidstack] \\`useSliderState\\` requires \\`RefObject<SliderInstance>\\` argument if called outside of a slider component`\n    );\n  }\n  return useSignal((ref?.current?.$state || $state || initialSliderStore)[prop]);\n}\nfunction useSliderStore(ref) {\n  const $state = useStateContext(sliderState);\n  if (!$state && !ref) {\n    console.warn(\n      `[vidstack] \\`useSliderStore\\` requires \\`RefObject<SliderInstance>\\` argument if called outside of a slider component`\n    );\n  }\n  return useSignalRecord(ref?.current ? ref.current.$state : $state || initialSliderStore);\n}\n\nconst mediaStateRecord = MediaPlayerInstance.state.record, initialMediaStore = Object.keys(mediaStateRecord).reduce(\n  (store, prop) => ({\n    ...store,\n    [prop]() {\n      return mediaStateRecord[prop];\n    }\n  }),\n  {}\n);\nfunction useMediaState(prop, ref) {\n  const $state = useStateContext(mediaState);\n  if (!$state && !ref) {\n    console.warn(\n      `[vidstack] \\`useMediaState\\` requires \\`RefObject<MediaPlayerInstance>\\` argument if called outside the \\`<MediaPlayer>\\` component`\n    );\n  }\n  return useSignal((ref?.current?.$state || $state || initialMediaStore)[prop]);\n}\nfunction useMediaStore(ref) {\n  const $state = useStateContext(mediaState);\n  if (!$state && !ref) {\n    console.warn(\n      `[vidstack] \\`useMediaStore\\` requires \\`RefObject<MediaPlayerInstance>\\` argument if called outside the \\`<MediaPlayer>\\` component`\n    );\n  }\n  return useSignalRecord(ref?.current ? ref.current.$state : $state || initialMediaStore);\n}\n\nexport { ARIAKeyShortcuts, AUDIO_EXTENSIONS, AUDIO_TYPES, AirPlayButtonInstance, AudioGainSliderInstance, AudioProviderLoader, AudioTrackList, CaptionButtonInstance, CaptionsInstance, ControlsGroupInstance, ControlsInstance, DASHProviderLoader, DASH_VIDEO_EXTENSIONS, DASH_VIDEO_TYPES, FullscreenButtonInstance, FullscreenController, GestureInstance, GoogleCastButtonInstance, HLSProviderLoader, HLS_VIDEO_EXTENSIONS, HLS_VIDEO_TYPES, HTMLAirPlayAdapter, HTMLMediaProvider, IS_CHROME, IS_IOS, IS_SERVER, List, ListSymbol, LiveButtonInstance, LocalMediaStorage, Logger, MEDIA_KEY_SHORTCUTS, MediaAnnouncerInstance, MediaControls, MediaPlayerInstance, MediaProviderInstance, MediaRemoteControl, MenuButtonInstance, MenuInstance, MenuItemInstance, MenuItemsInstance, MenuPortalInstance, MuteButtonInstance, PIPButtonInstance, PlayButtonInstance, PosterInstance, Primitive, QualitySliderInstance, QualitySymbol, RAFLoop, RadioGroupController, RadioGroupInstance, RadioInstance, ScreenOrientationController, SeekButtonInstance, SliderChaptersInstance, SliderInstance, SliderPreviewInstance, SliderThumbnailInstance, SliderValueInstance, SliderVideoInstance, SpeedSliderInstance, TextRenderers, TextTrack, TextTrackList, TextTrackSymbol, ThumbnailInstance, ThumbnailsLoader, TimeInstance, TimeRange, TimeSliderInstance, ToggleButtonInstance, TooltipContentInstance, TooltipInstance, TooltipTriggerInstance, VIDEO_EXTENSIONS, VIDEO_TYPES, VideoProvider, VideoProviderLoader, VideoQualityList, VimeoProviderLoader, VolumeSliderInstance, YouTubeProviderLoader, appendParamsToURL, boundTime, canChangeVolume, canFullscreen, canGoogleCastSrc, canOrientScreen, canPlayHLSNatively, canRotateScreen, canUsePictureInPicture, canUseVideoPresentation, coerceToError, findActiveCue, formatSpokenTime, formatTime, getDownloadFile, getTimeRangesEnd, getTimeRangesStart, isAudioProvider, isAudioSrc, isCueActive, isDASHProvider, isDASHSrc, isGoogleCastProvider, isHLSProvider, isHLSSrc, isHLSSupported, isHTMLAudioElement, isHTMLIFrameElement, isHTMLMediaElement, isHTMLVideoElement, isMediaStream, isRemotionProvider, isRemotionSrc, isTrackCaptionKind, isVideoProvider, isVideoQualitySrc, isVideoSrc, isVimeoProvider, isYouTubeProvider, loadScript, mediaContext, mediaState, menuContext, normalizeTimeIntervals, parseJSONCaptionsFile, preconnect, sliderState, softResetMediaState, sortVideoQualities, updateSliderPreviewPlacement, updateTimeIntervals, useMediaContext, useMediaState, useMediaStore, useSliderState, useSliderStore, watchActiveTextTrack, watchCueTextChange };\n"],
  "mappings": "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",
  "names": ["platform", "platform", "placements", "sides", "side", "d", "placement", "overflow", "x", "y", "min", "max", "getComputedStyle", "getComputedStyle", "cache", "shift", "flip", "computePosition", "cache", "min", "max", "init", "prop", "_a", "_b", "window", "_target", "_c", "method", "id", "round", "event", "autoPlacement", "computePosition", "flip", "shift", "isHTMLElement", "_video", "_d", "_canLoad", "provider", "_media", "method2", "onChange_fn", "hide", "onDisconnect_fn", "onPlay_fn", "onPause_fn", "onError_fn", "_provider", "_ctx", "inline", "_state", "onAddTrack_fn", "onDispose_fn", "event2", "_onChange", "_mode", "_presentation", "_callback", "onLoadStart_fn", "_type", "_queue", "ariaBool", "signal", "canFullscreen", "isFullscreen", "_request", "onQualityChange_fn", "onEnded_fn", "h", "s", "init_fn", "watchControls_fn", "_stateMgr", "watchTitle_fn", "watchPaused_fn", "watchPlaysInline_fn", "_domSources", "_domTracks", "_loader", "onResize_fn", "watchVolume_fn", "_id", "attach_fn", "_delegate", "onPress_fn", "isPressed_fn", "getState_fn", "getDefaultLabel_fn", "isSupported_fn", "offset", "_observer", "onFocus_fn", "onPointerEnter_fn", "onPointerLeave_fn", "onKeyDown_fn", "onKeyUp_fn", "watchValue_fn", "watchCrossOrigin_fn", "onLoaded_fn", "watchHidden_fn", "_slider", "isLoading_fn", "hasError_fn", "onCanPlay_fn", "clamp", "getARIAValueNow_fn", "getARIAValueText_fn", "onVolumeChange_fn", "watchMinMax_fn", "isDisabled_fn", "onValueChange_fn", "onDragValueChange_fn", "watchPlaybackRate_fn", "watchCurrentTime_fn", "seeking_fn", "roundValue_fn", "reset_fn", "onTrackChange_fn", "_trigger", "_content", "watchDisabled_fn", "onMutation_fn", "_menu", "watchPlacement_fn", "getButton_fn", "_controller", "_track", "_events", "isHidden_fn", "watchImg_fn", "watchSrc_fn", "_isVisible", "_isIntersecting", "onIntersectionChange_fn", "Node"]
}
