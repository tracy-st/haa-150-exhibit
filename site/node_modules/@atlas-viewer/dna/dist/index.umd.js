'use strict';!function(f,g){"object"==typeof exports&&"undefined"!=typeof module?g(exports):"function"==typeof define&&define.amd?define(["exports"],g):g((f=f||self).Dna={})}(this,function(f){function g(a,b,c){return new Float32Array(a,b,c)}var l=function(a,b,c){c=c||g(9);return c[0]=a[0]*b[0]+a[1]*b[3]+a[2]*b[6],c[1]=a[0]*b[1]+a[1]*b[4]+a[2]*b[7],c[2]=a[0]*b[2]+a[1]*b[5]+a[2]*b[8],c[3]=a[3]*b[0]+a[4]*b[3]+a[5]*b[6],c[4]=a[3]*b[1]+a[4]*b[4]+a[5]*b[7],c[5]=a[3]*b[2]+a[4]*b[5]+a[5]*b[8],c[6]=a[6]*b[0]+
a[7]*b[3]+a[8]*b[6],c[7]=a[6]*b[1]+a[7]*b[4]+a[8]*b[7],c[8]=a[6]*b[2]+a[7]*b[5]+a[8]*b[8],c},t=function(){function a(a){this.index=0;this.length=a;this.points=g(this.length)}return a.grid=function(b,c){return void 0===b&&(b=1),void 0===c&&(c=1),new a(5*b*c)},a.point=function(a,c){var b=g(5);return b[0]=1,b[1]=a,b[2]=c,b[3]=a,b[4]=c,b},a.positionPair=function(a){var b=g(5);return b[0]=1,b[1]=a.x1,b[2]=a.y1,b[3]=a.x2,b[4]=a.y2,b},a.projection=function(b){return a.singleBox(b.width,b.height,b.x,b.y)},
a.singleBox=function(a,c,d,e){void 0===d&&(d=0);void 0===e&&(e=0);var b=g(5);return b[0]=1,b[1]=d,b[2]=e,b[3]=a+d,b[4]=c+e,b},a.prototype.row=function(a){return a(this)},a.prototype.addPoints=function(a,c,d,e){return this.points[this.index]=1,this.points[1+this.index]=a,this.points[2+this.index]=c,this.points[3+this.index]=d,this.points[4+this.index]=e,this.index+=5,this},a.prototype.addBox=function(a,c,d,e){return this.addPoints(a,c,a+d,c+e),this},a.prototype.build=function(){return this.points},
a}(),m=function(a){var b=g(9);return b[0]=a,b[4]=a,b[8]=1,b},n=function(a,b){var c=g(9);return c[0]=1,c[2]=a,c[4]=1,c[5]=b,c[8]=1,c};f.DnaFactory=t;f.compose=l;f.dna=g;f.dnaLength=function(a){return a.length/5};f.filterPoints=function(a){return a.filter(function(a,c,d){return d[c-c%5]})};f.getIntersection=function(a,b,c){var d=a[1]<=b[3]&&a[3]>=b[1]&&a[2]<=b[4]&&a[4]>=b[2];c=c||g(5);return d?(c[0]=1,c[1]=Math.max(a[1],b[1]),c[2]=Math.max(a[2],b[2]),c[3]=Math.min(a[3],b[3]),c[4]=Math.min(a[4],b[4]),
c):(c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c)};f.hidePointsOutsideRegion=function(a,b,c){var d=a.length;c=c||g(d);for(var e=0;e<d;e++)c[e]=0==e%5?a[e+1]<b[3]&&a[e+3]>b[1]&&a[e+2]<b[4]&&a[e+4]>b[2]?1:0:a[e];return c};f.identity=function(){var a=g(9);return a[0]=1,a[4]=1,a[8]=1,a};f.invert=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],p=a[5],q=a[6],r=a[7];a=a[8];var l=a*f-p*r,m=-a*e+p*q,n=r*e-f*q;var k=1/(b*l+c*m+d*n);var h=g(9);return h[0]=l*k,h[1]=(-a*c+d*r)*k,h[2]=(p*c-d*f)*k,h[3]=m*k,h[4]=(a*b-
d*q)*k,h[5]=(-p*b+d*e)*k,h[6]=n*k,h[7]=(-r*b+c*q)*k,h[8]=(f*b-c*e)*k,h};f.mutate=function(a,b){for(var c=a.length,d=0;d<c;d++)a[d]=0==d%5?b[6]*a[d+1]+b[7]*a[d+2]+b[8]*a[d]:1==d%5%2?b[0]*a[d]+b[1]*a[d+1]+b[2]:b[3]*a[d-1]+b[4]*a[d]+b[5];return a};f.scale=m;f.scaleAtOrigin=function(a,b,c){return l(n((1-a)*b,(1-a)*c),m(a))};f.transform=function(a,b,c){var d=a.length;c=c&&c.length>=d?c.slice(0,d):g(d);for(var e=0;e<d;e++)c[e]=0==e%5?b[6]*a[e+1]+b[7]*a[e+2]+b[8]*a[e]:1==e%5%2?b[0]*a[e]+b[1]*a[e+1]+b[2]:
b[3]*a[e-1]+b[4]*a[e]+b[5];return c};f.translate=n;Object.defineProperty(f,"__esModule",{value:!0})})
//# sourceMappingURL=index.umd.js.map
